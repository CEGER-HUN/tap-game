<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>GO Coin Game</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Arial', sans-serif;
            background-color: #1a1a2e;
            color: white;
            overflow-x: hidden;
            user-select: none;
            -webkit-user-select: none;
            -webkit-touch-callout: none;
            min-height: 100vh;
            position: relative;
        }

        /* Hamburger Men√º */
        .menu-toggle {
            position: fixed;
            top: 20px;
            left: 20px;
            width: 40px;
            height: 40px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            gap: 5px;
            cursor: pointer;
            z-index: 1001;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .menu-toggle span {
            width: 20px;
            height: 2px;
            background: white;
            transition: 0.3s;
        }

        .menu-toggle.active span:nth-child(1) {
            transform: rotate(45deg) translate(5px, 5px);
        }

        .menu-toggle.active span:nth-child(2) {
            opacity: 0;
        }

        .menu-toggle.active span:nth-child(3) {
            transform: rotate(-45deg) translate(7px, -6px);
        }

        /* Yan Men√º */
        .side-menu {
            position: fixed;
            top: 0;
            left: -300px;
            width: 300px;
            height: 100vh;
            background: linear-gradient(180deg, #1e3a5f 0%, #0f2540 100%);
            z-index: 1000;
            transition: 0.3s;
            overflow-y: auto;
            padding: 80px 0 20px 0;
            box-shadow: 2px 0 20px rgba(0, 0, 0, 0.5);
        }

        .side-menu.active {
            left: 0;
        }

        .side-menu-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100vh;
            background: rgba(0, 0, 0, 0.5);
            z-index: 999;
            display: none;
        }

        .side-menu-overlay.active {
            display: block;
        }

        .menu-header {
            padding: 0 20px 20px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .menu-title {
            font-size: 24px;
            font-weight: bold;
            margin-bottom: 5px;
        }

        .menu-items {
            padding: 20px 0;
        }

        .menu-item {
            padding: 15px 20px;
            display: flex;
            align-items: center;
            gap: 15px;
            cursor: pointer;
            transition: 0.2s;
        }

        .menu-item:hover {
            background: rgba(255, 255, 255, 0.1);
        }

        .menu-item-icon {
            font-size: 24px;
            width: 30px;
            text-align: center;
        }

        .menu-item-text {
            flex: 1;
        }

        .menu-item-title {
            font-weight: bold;
            margin-bottom: 3px;
        }

        .menu-item-desc {
            font-size: 12px;
            opacity: 0.6;
        }

        /* Ana Container */
        .container {
            max-width: 480px;
            margin: 0 auto;
            padding: 20px;
            padding-bottom: 100px;
            min-height: 100vh;
            position: relative;
        }

        /* √úst Bilgi Kartƒ± */
        .top-info {
            margin-top: 40px;
            text-align: center;
        }

        .coin-display {
            font-size: 48px;
            font-weight: bold;
            margin-bottom: 10px;
            text-shadow: 0 0 20px rgba(255, 215, 0, 0.5);
        }

        .coin-label {
            font-size: 14px;
            opacity: 0.7;
            margin-bottom: 20px;
        }

        /* Stat Cards */
        .stat-cards {
            display: flex;
            justify-content: space-around;
            gap: 10px;
            margin-bottom: 20px;
        }

        .stat-card {
            flex: 1;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 10px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            font-size: 12px;
        }

        .stat-value {
            font-size: 16px;
            font-weight: bold;
            margin-top: 5px;
        }

        /* Level & Energy Bar */
        .level-energy {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 15px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            margin-bottom: 30px;
        }

        .level-display {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
            font-size: 14px;
        }

        .energy-bar-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 8px;
            font-size: 14px;
        }

        .progress-bar {
            width: 100%;
            height: 10px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 10px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #00f260 0%, #0575e6 100%);
            transition: width 0.3s;
            border-radius: 10px;
        }

        /* Prestige Bar */
        .prestige-bar {
            background: rgba(255, 215, 0, 0.1);
            border-radius: 15px;
            padding: 12px;
            margin-bottom: 20px;
            border: 1px solid rgba(255, 215, 0, 0.3);
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .prestige-info {
            display: flex;
            flex-direction: column;
        }

        .prestige-label {
            font-size: 11px;
            opacity: 0.7;
        }

        .prestige-value {
            font-size: 18px;
            font-weight: bold;
            color: #FFD700;
        }

        .prestige-bonus {
            font-size: 12px;
            color: #00ff96;
        }

        .prestige-button {
            background: linear-gradient(135deg, #FFD700, #FFA500);
            color: #1a1a2e;
            border: none;
            padding: 8px 16px;
            border-radius: 20px;
            font-weight: bold;
            font-size: 13px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .prestige-button:active {
            transform: scale(0.95);
        }

        .prestige-button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        /* Coin Button */
        .clicker-area {
            text-align: center;
            margin: 40px 0;
            position: relative;
        }

        .combo-display {
            position: absolute;
            top: -30px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(255, 215, 0, 0.2);
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 14px;
            font-weight: bold;
            border: 2px solid #FFD700;
        }

        .coin-button {
            width: 250px;
            height: 250px;
            border: none;
            background: transparent;
            cursor: pointer;
            transition: transform 0.1s;
            position: relative;
        }

        .coin-button:active {
            transform: scale(0.95);
        }

        .coin-button img {
            width: 100%;
            height: 100%;
            filter: drop-shadow(0 10px 30px rgba(255, 215, 0, 0.5));
        }

        .tap-counter {
            text-align: center;
            font-size: 48px;
            font-weight: bold;
            margin-top: 20px;
            color: #FFD700;
            text-shadow: 0 0 20px rgba(255, 215, 0, 0.8);
        }

        /* Floating Animation */
        .floating-text {
            position: absolute;
            font-size: 32px;
            font-weight: bold;
            pointer-events: none;
            animation: float-up 1s ease-out forwards;
            color: #FFD700;
            text-shadow: 0 0 10px rgba(255, 215, 0, 0.8);
            z-index: 100;
        }

        @keyframes float-up {
            0% {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
            100% {
                opacity: 0;
                transform: translateY(-100px) scale(1.5);
            }
        }

        /* Bottom Navigation */
        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: #0d0d0f;
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            padding: 10px 0;
            display: flex;
            justify-content: space-around;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 -5px 20px rgba(0, 0, 0, 0.3);
            z-index: 100;
        }

        .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 5px;
            cursor: pointer;
            transition: all 0.2s;
            padding: 10px 15px;
            border-radius: 10px;
        }

        .nav-item:active {
            transform: scale(0.95);
        }

        .nav-item.active {
            background: rgba(0, 200, 255, 0.1);
            box-shadow: 0 0 15px rgba(0, 200, 255, 0.5);
        }

        .nav-icon {
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .nav-icon img {
            width: 100%;
            height: 100%;
            object-fit: contain;
        }

        .nav-label {
            font-size: 11px;
            opacity: 0.8;
        }

        /* Screens */
        .screen {
            display: none;
        }

        .screen.active {
            display: block;
        }

        /* Modal Sistemi */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(5px);
            z-index: 9999;
            display: none;
            align-items: center;
            justify-content: center;
        }

        .modal-overlay.active {
            display: flex;
        }

        .modal-container {
            background: linear-gradient(135deg, #1e3a5f, #0f2540);
            border-radius: 24px;
            padding: 24px;
            max-width: 320px;
            width: 90%;
            border: 2px solid rgba(255, 215, 0, 0.3);
            animation: modalPop 0.3s ease-out;
        }

        .modal-title {
            font-size: 20px;
            font-weight: bold;
            margin-bottom: 12px;
            color: #FFD700;
        }

        .modal-message {
            font-size: 15px;
            line-height: 1.5;
            margin-bottom: 24px;
            opacity: 0.9;
        }

        .modal-buttons {
            display: flex;
            gap: 12px;
        }

        .modal-button {
            flex: 1;
            padding: 12px;
            border: none;
            border-radius: 12px;
            font-weight: bold;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .modal-button.confirm {
            background: linear-gradient(135deg, #FFD700, #FFA500);
            color: #1a1a2e;
        }

        .modal-button.cancel {
            background: rgba(255, 255, 255, 0.1);
            color: white;
        }

        .modal-button:active {
            transform: scale(0.95);
        }

        @keyframes modalPop {
            0% {
                opacity: 0;
                transform: scale(0.8);
            }
            100% {
                opacity: 1;
                transform: scale(1);
            }
        }

        /* Toast Bildirimi */
        .toast {
            position: fixed;
            bottom: 100px;
            left: 50%;
            transform: translateX(-50%);
            background: linear-gradient(135deg, #00ff96, #00cc66);
            color: #1a1a2e;
            padding: 12px 24px;
            border-radius: 30px;
            font-weight: bold;
            font-size: 14px;
            z-index: 10000;
            box-shadow: 0 5px 20px rgba(0, 255, 150, 0.3);
            animation: toastSlide 0.3s ease-out;
        }

        @keyframes toastSlide {
            0% {
                opacity: 0;
                transform: translate(-50%, 20px);
            }
            100% {
                opacity: 1;
                transform: translate(-50%, 0);
            }
        }

        /* Kartlar Ekranƒ± */
        .cards-tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            overflow-x: auto;
            padding-bottom: 5px;
        }

        .tab-button {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: white;
            padding: 10px 20px;
            border-radius: 10px;
            cursor: pointer;
            white-space: nowrap;
            transition: all 0.3s;
            backdrop-filter: blur(10px);
        }

        .tab-button.active {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-color: transparent;
        }

        .cards-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
        }

        .card-item {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            display: flex;
            flex-direction: column;
            gap: 10px;
            position: relative;
            transition: all 0.3s;
            padding: 12px;
        }

        .card-item.locked {
            opacity: 0.6;
            filter: grayscale(0.7);
        }

        .card-item.can-unlock {
            animation: glowPulse 2s infinite;
            border-color: #00ff96;
            box-shadow: 0 0 20px rgba(0, 255, 150, 0.3);
        }

        .card-item.just-unlocked {
            animation: unlockPop 0.5s ease-out;
        }

        @keyframes glowPulse {
            0%, 100% { border-color: rgba(0, 255, 150, 0.5); }
            50% { border-color: rgba(0, 255, 150, 1); }
        }

        @keyframes unlockPop {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); border-color: #00ff96; }
            100% { transform: scale(1); }
        }

        .card-lock-overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.7);
            border-radius: 15px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 2;
            backdrop-filter: blur(3px);
        }

        .lock-icon {
            font-size: 30px;
            margin-bottom: 8px;
        }

        .lock-text {
            font-size: 11px;
            text-align: center;
            padding: 0 10px;
            opacity: 0.9;
        }

        .card-icon {
            width: 100%;
            height: 70px;
            object-fit: contain;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            padding: 5px;
        }

        .card-details {
            flex: 1;
            display: flex;
            flex-direction: column;
            gap: 4px;
        }

        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .card-name {
            font-weight: bold;
            font-size: 13px;
        }

        .card-level {
            background: rgba(255, 215, 0, 0.2);
            padding: 3px 6px;
            border-radius: 6px;
            font-size: 10px;
            font-weight: bold;
            color: #FFD700;
        }

        .card-profit {
            font-size: 11px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .profit-amount {
            color: #00ff96;
            font-weight: bold;
        }

        .profit-next {
            font-size: 10px;
            color: rgba(255, 255, 255, 0.5);
        }

        .profit-next span {
            color: #00ff96;
        }

        .card-cost {
            background: linear-gradient(135deg, #667eea, #764ba2);
            padding: 6px 10px;
            border-radius: 8px;
            font-size: 11px;
            font-weight: bold;
            text-align: center;
            margin-top: 6px;
            transition: all 0.2s;
            cursor: pointer;
            border: none;
            color: white;
        }

        .card-cost:active {
            transform: scale(0.95);
        }

        .card-cost:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .upgrade-glow {
            animation: upgradeFlash 0.3s ease-out;
        }

        @keyframes upgradeFlash {
            0% { box-shadow: 0 0 0 0 rgba(255, 215, 0, 0.7); }
            50% { box-shadow: 0 0 20px 10px rgba(255, 215, 0, 0.7); }
            100% { box-shadow: 0 0 0 0 rgba(255, 215, 0, 0); }
        }

        /* Profil Ekranƒ± */
        .profile-header {
            text-align: center;
            margin-bottom: 30px;
        }

        .profile-avatar {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 40px;
            margin: 0 auto 15px;
            border: 3px solid rgba(255, 255, 255, 0.3);
        }

        .profile-name {
            font-size: 24px;
            font-weight: bold;
            margin-bottom: 5px;
        }

        .profile-id {
            font-size: 14px;
            opacity: 0.6;
        }

        .profile-stats {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-bottom: 20px;
        }

        .profile-stat-card {
            background: rgba(255, 255, 255, 0.1);
            padding: 20px;
            border-radius: 15px;
            text-align: center;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .profile-stat-value {
            font-size: 28px;
            font-weight: bold;
            margin-bottom: 5px;
        }

        .profile-stat-label {
            font-size: 12px;
            opacity: 0.7;
        }

        /* Madencilik Kartlarƒ± Grid */
        .mining-cards-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-top: 20px;
        }

        .mining-card {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 16px;
            padding: 12px;
            backdrop-filter: blur(20px);
            border: 2px solid rgba(255, 255, 255, 0.2);
            display: flex;
            flex-direction: column;
            gap: 8px;
            transition: transform 0.2s, box-shadow 0.2s;
            position: relative;
        }

        .mining-card:active {
            transform: scale(0.98);
        }

        .mining-card-green {
            border-color: rgba(0, 255, 100, 0.5);
            box-shadow: 0 0 15px rgba(0, 255, 100, 0.2);
        }

        .mining-card-white {
            border-color: rgba(255, 255, 255, 0.5);
            box-shadow: 0 0 15px rgba(255, 255, 255, 0.2);
        }

        .mining-card-blue {
            border-color: rgba(50, 150, 255, 0.5);
            box-shadow: 0 0 15px rgba(50, 150, 255, 0.2);
        }

        .mining-card-red {
            border-color: rgba(255, 50, 50, 0.5);
            box-shadow: 0 0 15px rgba(255, 50, 50, 0.2);
        }

        .mining-card-gold {
            border-color: rgba(255, 215, 0, 0.5);
            box-shadow: 0 0 15px rgba(255, 215, 0, 0.3);
        }

        .mining-status-badge {
            position: absolute;
            top: 8px;
            right: 8px;
            padding: 4px 10px;
            border-radius: 12px;
            font-size: 10px;
            font-weight: 600;
            z-index: 1;
        }

        .mining-status-active {
            background: rgba(0, 255, 150, 0.3);
            color: #00ff96;
            border: 1px solid rgba(0, 255, 150, 0.5);
        }

        .mining-status-ready {
            background: rgba(255, 165, 0, 0.3);
            color: #ffaa00;
            border: 1px solid rgba(255, 165, 0, 0.5);
        }

        .mining-card-image {
            width: 100%;
            height: 100px;
            object-fit: contain;
            border-radius: 10px;
            background: rgba(0, 0, 0, 0.2);
            margin-top: 20px;
        }

        .mining-card-details {
            flex: 1;
            display: flex;
            flex-direction: column;
            gap: 6px;
        }

        .mining-card-name {
            font-weight: 600;
            font-size: 13px;
            margin-bottom: 4px;
            opacity: 0.9;
        }

        .mining-info-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 11px;
        }

        .mining-label {
            opacity: 0.7;
        }

        .mining-value {
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 4px;
        }

        .mining-green {
            color: #00ff96;
        }

        .mining-gold {
            color: #FFD700;
        }

        .mining-price-row {
            margin-top: 4px;
            padding-top: 6px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }

        .mining-price-value {
            display: flex;
            align-items: center;
            gap: 4px;
            font-weight: 600;
            color: #FFD700;
        }

        .ton-icon {
            width: 20px;
            height: 20px;
            object-fit: contain;
        }

        .neon-icon {
            width: 18px;
            height: 18px;
            object-fit: contain;
            vertical-align: middle;
            display: inline-block;
        }

        .mining-countdown {
            background: rgba(0, 0, 0, 0.3);
            padding: 8px;
            border-radius: 8px;
            text-align: center;
            font-size: 11px;
        }

        .countdown-label {
            opacity: 0.7;
            margin-right: 6px;
        }

        .countdown-time {
            font-weight: 700;
            color: #00ffcc;
            font-size: 13px;
        }

        .buy-mining-card-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 10px 15px;
            border-radius: 10px;
            cursor: pointer;
            font-weight: 600;
            font-size: 13px;
            transition: all 0.2s;
        }

        .buy-mining-card-btn:disabled {
            background: rgba(255, 255, 255, 0.2);
            cursor: not-allowed;
        }

        .claim-mining-btn {
            background: linear-gradient(135deg, #ffaa00, #ff8800);
            color: #000000;
            border: none;
            padding: 10px 15px;
            border-radius: 10px;
            cursor: pointer;
            font-weight: 600;
            font-size: 13px;
            transition: all 0.2s;
            box-shadow: 0 0 20px rgba(255, 170, 0, 0.4);
        }

        .mining-stats-card {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 15px;
            margin-bottom: 20px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .mining-stat-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .mining-stat-label {
            font-size: 14px;
            opacity: 0.8;
        }

        .mining-stat-value {
            font-size: 22px;
            font-weight: bold;
            color: #FFD700;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .neontap-text {
            font-size: 14px;
            color: rgba(255, 255, 255, 0.6);
            margin-left: 4px;
        }

        /* Airdrop Ekranƒ± */
        .airdrop-balance-card {
            background: rgba(0, 255, 150, 0.05);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid rgba(0, 255, 150, 0.3);
            border-radius: 20px;
            padding: 18px;
            margin-bottom: 16px;
            box-shadow: 0 0 30px rgba(0, 255, 150, 0.15);
        }

        .airdrop-claim-btn {
            background: linear-gradient(135deg, #00ffcc, #00cc66);
            border-radius: 16px;
            font-weight: 600;
            padding: 16px;
            border: none;
            color: #000000;
            width: 100%;
            font-size: 16px;
            cursor: not-allowed;
            font-family: inherit;
            opacity: 0.5;
        }

        .airdrop-info-card {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 16px;
            padding: 16px;
            margin-top: 20px;
        }

        /* Takas Ekranƒ± */
        .swap-card {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            padding: 14px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.4);
            margin-bottom: 16px;
        }

        .swap-input {
            background: transparent;
            border: none;
            font-size: 26px;
            font-weight: 700;
            color: #ffffff;
            outline: none;
            width: 100%;
            text-align: left;
            font-family: inherit;
        }

        .swap-input::placeholder {
            color: rgba(255, 255, 255, 0.25);
            font-weight: 600;
        }

        .swap-toggle {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            margin: 12px auto;
            background: linear-gradient(145deg, #00ffcc, #0077ff);
            box-shadow: 0 0 20px rgba(0, 255, 200, 0.6);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.4s ease;
            color: white;
        }

        .swap-toggle:hover {
            transform: rotate(180deg);
            box-shadow: 0 0 30px rgba(0, 255, 200, 0.8);
        }

        .swap-info {
            font-size: 12px;
            margin-top: 12px;
            margin-bottom: 16px;
            padding: 0 4px;
            text-align: center;
            opacity: 0.7;
        }

        .swap-confirm {
            background: linear-gradient(135deg, #00ffcc, #00cc66);
            border-radius: 16px;
            font-weight: 600;
            padding: 16px;
            box-shadow: 0 0 25px rgba(0, 255, 150, 0.6);
            transition: all 0.2s;
            border: none;
            color: #000000;
            width: 100%;
            font-size: 16px;
            cursor: pointer;
            font-family: inherit;
        }

        /* Loading */
        .loading {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(180deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 9999;
        }

        .loading-spinner {
            border: 4px solid rgba(255, 255, 255, 0.3);
            border-top: 4px solid #FFD700;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <!-- Y√ºkleme Ekranƒ± -->
    <div class="loading" id="loading" style="display: none;">
        <div class="loading-spinner"></div>
    </div>

    <!-- Modal Sistemi -->
    <div class="modal-overlay" id="modalOverlay">
        <div class="modal-container">
            <div class="modal-title" id="modalTitle">ƒ∞≈ülem Ba≈üarƒ±sƒ±z</div>
            <div class="modal-message" id="modalMessage">Yeterli NeonTap bakiyeniz yok.</div>
            <div class="modal-buttons" id="modalButtons">
                <button class="modal-button confirm" id="modalConfirm">Tamam</button>
            </div>
        </div>
    </div>

    <!-- Toast Bildirimi -->
    <div id="toast" style="display: none;"></div>

    <!-- Hamburger Men√º Toggle -->
    <div class="menu-toggle" id="menuToggle">
        <span></span>
        <span></span>
        <span></span>
    </div>

    <!-- Yan Men√º Overlay -->
    <div class="side-menu-overlay" id="menuOverlay"></div>

    <!-- Yan Men√º -->
    <div class="side-menu" id="sideMenu">
        <div class="menu-header">
            <div class="menu-title">GO Coin Game</div>
        </div>
        <div class="menu-items">
            <div class="menu-item" onclick="openProfile()">
                <div class="menu-item-icon">üë§</div>
                <div class="menu-item-text">
                    <div class="menu-item-title">Profilim</div>
                    <div class="menu-item-desc">Hesap bilgileri</div>
                </div>
            </div>
            <div class="menu-item" onclick="showModal('Bilgi', 'Liderlik tablosu yakƒ±nda!', false)">
                <div class="menu-item-icon">üèÜ</div>
                <div class="menu-item-text">
                    <div class="menu-item-title">Liderlik Tablosu</div>
                    <div class="menu-item-desc">En iyi oyuncular</div>
                </div>
            </div>
            <div class="menu-item" onclick="showModal('Bilgi', 'Arkada≈ülar √∂zelliƒüi yakƒ±nda!', false)">
                <div class="menu-item-icon">üë•</div>
                <div class="menu-item-text">
                    <div class="menu-item-title">Arkada≈ülar</div>
                    <div class="menu-item-desc">Davet et & kazan</div>
                </div>
            </div>
        </div>
    </div>

    <!-- Ana Container -->
    <div class="container">
        <!-- Ana Ekran -->
        <div class="screen active" id="home-screen">
            <div class="top-info">
                <div class="coin-display" id="coin-count">0</div>
                <div class="coin-label">Coins</div>
            </div>

            <!-- Prestige Bar -->
            <div class="prestige-bar">
                <div class="prestige-info">
                    <span class="prestige-label">PRESTƒ∞J PUANI</span>
                    <span class="prestige-value" id="prestige-points">0</span>
                    <span class="prestige-bonus" id="prestige-bonus">+0% bonus</span>
                </div>
                <button class="prestige-button" id="prestigeButton" onclick="showPrestigeModal()">‚ú® Prestige</button>
            </div>

            <div class="stat-cards">
                <div class="stat-card">
                    üí∞ Saatlik: <span class="stat-value" id="profit-per-hour">0</span>
                </div>
                <div class="stat-card">
                    3h: <span class="stat-value" id="profit-3h">0</span>
                </div>
            </div>

            <div class="level-energy">
                <div class="level-display">
                    <span>‚≠ê <span id="level-text">Level 1</span></span>
                    <span><span id="xp-text">0</span> / 100 XP</span>
                </div>
                <div class="energy-bar-container">
                    <span>‚ö° Enerji</span>
                    <span id="energy-display">1000 / 1000</span>
                </div>
                <div class="progress-bar">
                    <div class="progress-fill" id="energy-fill" style="width: 100%;"></div>
                </div>
            </div>

            <div class="clicker-area">
                <div class="combo-display">COMBO X<span id="combo-multiplier">1</span></div>
                <button class="coin-button" id="coin-button">
                    <img src="assets/icons/1000010731-removebg-preview.png" alt="Neontap Coin">
                </button>
                <div class="tap-counter" id="tap-counter">0</div>
            </div>
        </div>

        <!-- Kartlar Ekranƒ± -->
        <div class="screen" id="cards-screen">
            <div class="modal-title" style="margin: 20px 0;">Kartlar</div>
            
            <div class="cards-tabs">
                <button class="tab-button active" onclick="showCardCategory('profession')">Profesyon</button>
                <button class="tab-button" onclick="showCardCategory('companies')">≈ûirketler</button>
                <button class="tab-button" onclick="showCardCategory('technology')">Teknoloji</button>
            </div>

            <!-- Kartlar Container - Dinamik doldurulacak -->
            <div class="cards-grid" id="profession-cards"></div>
            <div class="cards-grid" id="companies-cards" style="display: none;"></div>
            <div class="cards-grid" id="technology-cards" style="display: none;"></div>
        </div>

        <!-- Madencilik Kartlarƒ± Ekranƒ± -->
        <div class="screen" id="mining-screen">
            <div class="modal-title" style="margin: 20px 0;">Madencilik Kartlarƒ±</div>
            
            <div style="padding: 20px;">
                <!-- Madencilik Bilgi Kartƒ± -->
                <div class="mining-stats-card">
                    <div class="mining-stat-item">
                        <span class="mining-stat-label">Saatlik Kazan√ß</span>
                        <span class="mining-stat-value" id="mining-hourly-earning">
                            0
                            <img src="assets/icons/1000010729-removebg-preview.png" alt="NeonTap" class="neon-icon">
                            <span class="neontap-text">NEONTAP</span>
                        </span>
                    </div>
                </div>

                <!-- Madencilik Kartlarƒ± Grid - Dinamik doldurulacak -->
                <div class="mining-cards-grid" id="mining-cards-container"></div>
            </div>
        </div>

        <!-- Profil Ekranƒ± -->
        <div class="screen" id="profile-screen">
            <div class="modal-title" style="margin: 20px 0;">üë§ Profil</div>
            <div class="profile-header">
                <div class="profile-avatar">üòä</div>
                <div class="profile-name" id="profile-name">Oyuncu</div>
                <div class="profile-id">ID: #<span id="profile-id">12345</span></div>
            </div>

            <div class="profile-stats">
                <div class="profile-stat-card">
                    <div class="profile-stat-value" id="profile-coins">0</div>
                    <div class="profile-stat-label">Toplam Coin</div>
                </div>
                <div class="profile-stat-card">
                    <div class="profile-stat-value" id="profile-level">1</div>
                    <div class="profile-stat-label">Level</div>
                </div>
                <div class="profile-stat-card">
                    <div class="profile-stat-value" id="profile-taps">0</div>
                    <div class="profile-stat-label">Toplam Tƒ±klama</div>
                </div>
                <div class="profile-stat-card">
                    <div class="profile-stat-value" id="profile-cards">0</div>
                    <div class="profile-stat-label">Satƒ±n Alƒ±nan Kart</div>
                </div>
            </div>
        </div>

        <!-- Airdrop Ekranƒ± -->
        <div class="screen" id="airdrop-screen">
            <div class="modal-title" style="margin: 20px 0;">Airdrop</div>
            
            <div style="padding: 20px; max-width: 420px; margin: 0 auto;">
                <div class="airdrop-balance-card">
                    <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 16px;">
                        <img src="assets/icons/1000010729-removebg-preview.png" alt="NeonTap" style="width: 40px; height: 40px; object-fit: contain;">
                        <div style="font-size: 18px; font-weight: 600; opacity: 0.9;">Toplam NeonTap</div>
                    </div>
                    <div style="font-size: 42px; font-weight: 700; color: #00ff96; margin-bottom: 12px;" id="airdrop-token-balance">0</div>
                    <div style="font-size: 13px; opacity: 0.6; line-height: 1.5;">
                        Takas, g√∂revler ve madencilikten kazanƒ±lan NeonTap Coinler
                    </div>
                </div>

                <button class="airdrop-claim-btn" disabled>√ñd√ºl Talep Et</button>

                <div class="airdrop-info-card">
                    <div style="font-size: 15px; font-weight: 600; margin-bottom: 12px; opacity: 0.9;">
                        Airdrop Bilgilendirme
                    </div>
                    <div style="font-size: 14px; line-height: 1.6; opacity: 0.85;">
                        NeonTap Coin'leriniz takas, g√∂revler ve madencilik aktiviteleri sonucunda otomatik olarak biriktirilir.
                        <br><br>
                        Token resmi olarak listelendiƒüinde ve airdrop s√ºreci ba≈ülatƒ±ldƒ±ƒüƒ±nda, biriktirdiƒüiniz NeonTap Coin'leri talep edebileceksiniz.
                    </div>
                </div>
            </div>
        </div>

        <!-- Takas Ekranƒ± -->
        <div class="screen" id="trade-screen">
            <div class="modal-title" style="margin: 20px 0;">Takas</div>
            
            <div style="padding: 20px; max-width: 420px; margin: 0 auto;">
                <div class="swap-card">
                    <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 10px;">
                        <div style="display: flex; align-items: center; gap: 10px;">
                            <img src="assets/icons/1000010731-removebg-preview.png" alt="GO Coin" style="width: 28px; height: 28px; object-fit: contain;">
                            <div>
                                <div style="font-weight: 600; font-size: 18px;">GO Coin</div>
                                <div style="font-size: 12px; opacity: 0.6;">Bakiye: <span id="swap-from-balance">0</span></div>
                            </div>
                        </div>
                    </div>
                    <div style="display: flex; align-items: center; gap: 8px;">
                        <input type="number" class="swap-input" id="swap-from-input" placeholder="0" min="50000" step="1000" oninput="calculateSwapAmount()">
                        <div style="font-size: 16px; font-weight: 600; opacity: 0.5;">GO</div>
                    </div>
                    <div style="font-size: 12px; opacity: 0.6; margin-top: 8px;">Minimum: 50,000 GO</div>
                    <div id="swap-error-msg" style="font-size: 12px; color: #ff5555; margin-top: 6px; display: none;">Minimum 50,000 GO gerekli</div>
                </div>

                <div class="swap-toggle">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5">
                        <path d="M7 16V4M7 4L3 8M7 4L11 8"></path>
                        <path d="M17 8V20M17 20L21 16M17 20L13 16"></path>
                    </svg>
                </div>

                <div class="swap-card">
                    <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 10px;">
                        <div style="display: flex; align-items: center; gap: 10px;">
                            <img src="assets/icons/1000010729-removebg-preview.png" alt="NeonTap Token" style="width: 28px; height: 28px; object-fit: contain;">
                            <div>
                                <div style="font-weight: 600; font-size: 18px;">NeonTap Token</div>
                                <div style="font-size: 12px; opacity: 0.6;">Alƒ±nacak Miktar</div>
                            </div>
                        </div>
                    </div>
                    <div style="display: flex; align-items: center; gap: 8px;">
                        <input type="text" class="swap-input" id="swap-to-display" placeholder="0" readonly>
                        <div style="font-size: 16px; font-weight: 600; opacity: 0.5;">NEON</div>
                    </div>
                </div>

                <div class="swap-info">1 GO = 0.02 NEON ‚Ä¢ Fee 0% ‚Ä¢ Likidite: Y√ºksek</div>

                <button class="swap-confirm" id="swap-confirm-btn" onclick="executeTradeWithInput()">Takasƒ± Onayla</button>

                <div id="trade-status" style="margin-top: 15px; text-align: center; font-size: 14px;"></div>

                <div style="margin-top: 25px;">
                    <div style="font-size: 14px; font-weight: 600; margin-bottom: 12px; opacity: 0.7;">ƒ∞statistikler</div>
                    <div style="display: grid; gap: 8px;">
                        <div style="background: rgba(255, 255, 255, 0.05); padding: 10px 12px; border-radius: 10px; display: flex; justify-content: space-between; font-size: 13px;">
                            <span>Toplam Takas:</span> <span id="total-trades">0</span>
                        </div>
                        <div style="background: rgba(255, 255, 255, 0.05); padding: 10px 12px; border-radius: 10px; display: flex; justify-content: space-between; font-size: 13px;">
                            <span>Takas Edilen GO Coin:</span> <span style="color: #FFD700;" id="total-traded-gocoin">0</span>
                        </div>
                        <div style="background: rgba(255, 255, 255, 0.05); padding: 10px 12px; border-radius: 10px; display: flex; justify-content: space-between; font-size: 13px;">
                            <span>Kazanƒ±lan NeonTap:</span> <span style="color: #00ff96;" id="total-earned-neontap">0</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Alt Navigasyon -->
    <div class="bottom-nav">
        <div class="nav-item active" data-screen="home" onclick="switchScreen('home')">
            <div class="nav-icon"><img src="assets/icons/IMG_20260212_212121.png" alt="Ana Sayfa"></div>
            <span class="nav-label">Ana Sayfa</span>
        </div>
        <div class="nav-item" data-screen="cards" onclick="switchScreen('cards')">
            <div class="nav-icon"><img src="assets/icons/icon_cards.png" alt="Kartlar"></div>
            <span class="nav-label">Kartlar</span>
        </div>
        <div class="nav-item" data-screen="mining" onclick="switchScreen('mining')">
            <div class="nav-icon"><img src="assets/icons/mining_hub_icon.png" alt="Madencilik"></div>
            <span class="nav-label">Madencilik</span>
        </div>
        <div class="nav-item" data-screen="airdrop" onclick="switchScreen('airdrop')">
            <div class="nav-icon"><img src="assets/icons/IMG_20260212_212059.png" alt="Airdrop"></div>
            <span class="nav-label">Airdrop</span>
        </div>
        <div class="nav-item" data-screen="trade" onclick="switchScreen('trade')">
            <div class="nav-icon"><img src="assets/icons/icon_trade.png" alt="Takas"></div>
            <span class="nav-label">Takas</span>
        </div>
    </div>

    <script>
        // üéØ Navigation
        window.switchScreen = function(screenName) {
            document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
            document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));
            
            const screenMap = {
                'home': 'home-screen',
                'cards': 'cards-screen',
                'mining': 'mining-screen',
                'profile': 'profile-screen',
                'airdrop': 'airdrop-screen',
                'trade': 'trade-screen'
            };
            
            const targetScreen = document.getElementById(screenMap[screenName]);
            if (targetScreen) targetScreen.classList.add('active');
            
            const navItem = document.querySelector(`[data-screen="${screenName}"]`);
            if (navItem) navItem.classList.add('active');

            // Kartlar ekranƒ±na ge√ßildiƒüinde kartlarƒ± g√ºncelle
            if (screenName === 'cards') {
                renderAllCards();
            }
        };

        // üö´ Loading ekranƒ±nƒ± kapat
        document.getElementById('loading').style.display = 'none';

        // Telegram Web App
        let tg = window.Telegram?.WebApp;
        if (tg) tg.expand();

        // üì¶ Kart Verileri
        const CARDS = [
            // Profesyon Kategorisi
            { id: 'profesyon', category: 'profession', name: 'Profesyon', baseIncome: 100, basePrice: 500, icon: 'card_profession.png', unlockRequirement: null, level: 0 },
            { id: 'freelancer', category: 'profession', name: 'Freelancer', baseIncome: 250, basePrice: 1000, icon: 'card_freelancer.png', unlockRequirement: { cardId: 'profesyon', level: 5 }, level: 0 },
            { id: 'danisman', category: 'profession', name: 'Danƒ±≈üman', baseIncome: 500, basePrice: 2500, icon: 'card_consultant.png', unlockRequirement: { cardId: 'profesyon', level: 10 }, level: 0 },
            { id: 'muhasebeci', category: 'profession', name: 'Muhasebeci', baseIncome: 1000, basePrice: 5000, icon: 'card_accountant.png', unlockRequirement: { cardId: 'freelancer', level: 10 }, level: 0 },
            
            // ≈ûirketler Kategorisi
            { id: 'yazilim', category: 'companies', name: 'Yazƒ±lƒ±m ≈ûirketi', baseIncome: 2000, basePrice: 10000, icon: 'card_app_dev.png', unlockRequirement: { cardId: 'danisman', level: 15 }, level: 0 },
            { id: 'startup', category: 'companies', name: 'Startup CEO', baseIncome: 4000, basePrice: 20000, icon: 'card_technician.png', unlockRequirement: { cardId: 'muhasebeci', level: 20 }, level: 0 },
            { id: 'holding', category: 'companies', name: 'Holding Sahibi', baseIncome: 8000, basePrice: 40000, icon: 'card_ceo.png', unlockRequirement: { cardId: 'yazilim', level: 25 }, level: 0 },
            { id: 'global', category: 'companies', name: 'Global Patron', baseIncome: 16000, basePrice: 80000, icon: 'card_ai_startup.png', unlockRequirement: { cardId: 'startup', level: 30 }, level: 0 }
        ];

        // Oyun Verileri
        let gameData = {
            user_id: Math.floor(Math.random() * 1000000),
            username: 'Oyuncu',
            coins: 0,
            energy: 1000,
            max_energy: 1000,
            energy_recharge_rate: 1,
            tap_power: 1,
            level: 1,
            xp: 0,
            xp_to_next_level: 100,
            total_taps: 0,
            cards_bought: 0,
            combo_multiplier: 1,
            combo_timeout: null,
            last_energy_update: Date.now(),
            neonTapToken: 0,
            totalTrades: 0,
            totalTradedGoCoin: 0,
            totalEarnedNeonTap: 0,
            prestigePoints: 0,
            cards: {} // Kart level'larƒ± i√ßin
        };

        // Kartlarƒ± ba≈ülangƒ±√ß deƒüerleriyle ata
        CARDS.forEach(card => {
            gameData.cards[card.id] = card.level;
        });

        // Mining kartlarƒ±
        let miningCards = [
            { id: 'eco1', name: 'Eco Miner Rig', image: 'eco_miner_rig.png', power: 10, price: 0.5, color: 'green', owned: false, isRunning: false, isClaimReady: false, startTime: null, accumulated: 0 },
            { id: 'eco2', name: 'Eco Miner Rig+', image: 'eco_miner_rig2.png', power: 25, price: 1, color: 'green', owned: false, isRunning: false, isClaimReady: false, startTime: null, accumulated: 0 },
            { id: 'basic1', name: 'Basic Mining Unit', image: 'basic_mining_unit.png', power: 50, price: 2, color: 'white', owned: false, isRunning: false, isClaimReady: false, startTime: null, accumulated: 0 },
            { id: 'basic2', name: 'Basic Mining Unit+', image: 'basic_mining_unit2.png', power: 100, price: 4, color: 'white', owned: false, isRunning: false, isClaimReady: false, startTime: null, accumulated: 0 },
            { id: 'blue1', name: 'Blue Core Miner', image: 'blue_core_miner.png', power: 250, price: 8, color: 'blue', owned: false, isRunning: false, isClaimReady: false, startTime: null, accumulated: 0 },
            { id: 'blue2', name: 'Blue Core Miner+', image: 'blue_core_miner2.png', power: 500, price: 15, color: 'blue', owned: false, isRunning: false, isClaimReady: false, startTime: null, accumulated: 0 },
            { id: 'turbo1', name: 'Turbo Flame Miner', image: 'turbo_flame_miner.png', power: 1000, price: 30, color: 'red', owned: false, isRunning: false, isClaimReady: false, startTime: null, accumulated: 0 },
            { id: 'turbo2', name: 'Turbo Flame Miner+', image: 'turbo_flame_miner2.png', power: 2500, price: 60, color: 'red', owned: false, isRunning: false, isClaimReady: false, startTime: null, accumulated: 0 },
            { id: 'golden1', name: 'Golden Hash Machine', image: 'golden_hash_machine.png', power: 5000, price: 100, color: 'gold', owned: false, isRunning: false, isClaimReady: false, startTime: null, accumulated: 0 },
            { id: 'golden2', name: 'Golden Hash Machine+', image: 'golden_hash_machine2.png', power: 10000, price: 200, color: 'gold', owned: false, isRunning: false, isClaimReady: false, startTime: null, accumulated: 0 }
        ];

        const MINING_CONFIG = {
            CYCLE_DURATION: 24 * 60 * 60 * 1000,
            HOURLY_MULTIPLIER: 0.0625
        };

        // Load game data
        function loadGameData() {
            const saved = localStorage.getItem(`game_${gameData.user_id}`);
            if (saved) {
                const data = JSON.parse(saved);
                Object.assign(gameData, data);
                
                // Kart level'larƒ±nƒ± y√ºkle
                CARDS.forEach(card => {
                    if (data.cards && data.cards[card.id] !== undefined) {
                        gameData.cards[card.id] = data.cards[card.id];
                    }
                });
            }
            
            const miningSaved = localStorage.getItem(`mining_${gameData.user_id}`);
            if (miningSaved) {
                const savedCards = JSON.parse(miningSaved);
                miningCards = savedCards;
            }
        }

        // Save game data
        function saveGameData() {
            localStorage.setItem(`game_${gameData.user_id}`, JSON.stringify(gameData));
            localStorage.setItem(`mining_${gameData.user_id}`, JSON.stringify(miningCards));
        }

        // üìä GELƒ∞R HESAPLAMA FONKSƒ∞YONLARI
        function calculateCardIncome(card, level) {
            if (level === 0) return 0;
            
            const base = card.baseIncome;
            
            if (level <= 50) {
                return base * level;
            } else if (level <= 100) {
                return (base * 50) + (base * (level - 50) * 0.5);
            } else {
                return (base * 50) + (base * 50 * 0.5) + (base * (level - 100) * 0.25);
            }
        }

        function calculateNextLevelIncome(card, level) {
            return calculateCardIncome(card, level + 1);
        }

        function calculateTotalIncome() {
            let total = 0;
            CARDS.forEach(card => {
                total += calculateCardIncome(card, gameData.cards[card.id]);
            });
            // Prestige bonusu ekle
            total = total * (1 + gameData.prestigePoints * 0.1);
            return total;
        }

        function calculateCardUpgradeCost(card, currentLevel) {
            const nextLevel = currentLevel + 1;
            const base = card.basePrice;
            
            if (nextLevel <= 75) {
                return Math.floor(base * Math.pow(1.55, nextLevel));
            } else {
                return Math.floor(base * Math.pow(1.62, nextLevel));
            }
        }

        function formatNumber(num) {
            if (num >= 1000000000) return (num / 1000000000).toFixed(1) + 'B';
            if (num >= 1000000) return (num / 1000000).toFixed(1) + 'M';
            if (num >= 1000) return (num / 1000).toFixed(1) + 'K';
            return num.toString();
        }

        function formatNumberFull(num) {
            return num.toLocaleString('tr-TR');
        }

        // üîì UNLOCK KONTROL FONKSƒ∞YONLARI
        function isCardUnlocked(card) {
            if (!card.unlockRequirement) return true;
            
            const req = card.unlockRequirement;
            return gameData.cards[req.cardId] >= req.level;
        }

        function checkAndUnlockCards() {
            CARDS.forEach(card => {
                if (!isCardUnlocked(card) && gameData.cards[card.id] === 0) {
                    const req = card.unlockRequirement;
                    if (gameData.cards[req.cardId] >= req.level) {
                        // Kart yeni a√ßƒ±ldƒ±
                        showToast(`üéâ Yeni Kart A√ßƒ±ldƒ±: ${card.name}!`);
                        
                        // Animasyon i√ßin kartƒ± i≈üaretle
                        setTimeout(() => {
                            const cardElement = document.getElementById(`card-${card.id}`);
                            if (cardElement) {
                                cardElement.classList.add('just-unlocked');
                                setTimeout(() => cardElement.classList.remove('just-unlocked'), 500);
                            }
                        }, 100);
                    }
                }
            });
        }

        // üÉè KART RENDER FONKSƒ∞YONLARI
        function renderAllCards() {
            renderCategory('profession', 'profession-cards');
            renderCategory('companies', 'companies-cards');
            renderCategory('technology', 'technology-cards');
        }

        function renderCategory(category, elementId) {
            const container = document.getElementById(elementId);
            if (!container) return;

            const categoryCards = CARDS.filter(c => c.category === category);
            
            container.innerHTML = categoryCards.map(card => {
                const level = gameData.cards[card.id];
                const unlocked = isCardUnlocked(card);
                const income = calculateCardIncome(card, level);
                const nextIncome = calculateNextLevelIncome(card, level);
                const upgradeCost = level > 0 ? calculateCardUpgradeCost(card, level) : calculateCardUpgradeCost(card, 0);
                const canAfford = gameData.coins >= upgradeCost && level > 0;
                
                let buttonText = level === 0 ? 'Satƒ±n Al' : 'Y√ºkselt';
                let buttonDisabled = level === 0 ? gameData.coins < upgradeCost : !canAfford;
                
                if (!unlocked && level === 0) {
                    // Kilitli kart
                    const req = card.unlockRequirement;
                    const reqCard = CARDS.find(c => c.id === req.cardId);
                    return `
                        <div class="card-item locked" id="card-${card.id}">
                            <div class="card-lock-overlay">
                                <div class="lock-icon">üîí</div>
                                <div class="lock-text">${reqCard.name} Lv.${req.level} gerekli</div>
                            </div>
                            <img src="assets/icons/${card.icon}" alt="${card.name}" class="card-icon">
                            <div class="card-details">
                                <div class="card-header">
                                    <span class="card-name">${card.name}</span>
                                    <span class="card-level">Lv.0</span>
                                </div>
                            </div>
                        </div>
                    `;
                }

                // A√ßƒ±k kart
                return `
                    <div class="card-item ${level > 0 && !unlocked ? 'can-unlock' : ''}" id="card-${card.id}">
                        <img src="assets/icons/${card.icon}" alt="${card.name}" class="card-icon">
                        <div class="card-details">
                            <div class="card-header">
                                <span class="card-name">${card.name}</span>
                                <span class="card-level">Lv.${level}</span>
                            </div>
                            <div class="card-profit">
                                <span>üí∞ Kazan√ß</span>
                                <span class="profit-amount">${formatNumber(income)}/s</span>
                            </div>
                            ${level > 0 ? `
                                <div class="profit-next">
                                    Sonraki: +${formatNumber(nextIncome - income)}/s
                                </div>
                            ` : ''}
                            <button class="card-cost" onclick="upgradeCard('${card.id}')" ${buttonDisabled ? 'disabled' : ''}>
                                ${buttonText} ‚Ä¢ ${formatNumberFull(upgradeCost)}
                            </button>
                        </div>
                    </div>
                `;
            }).join('');
        }

        // üí≥ KART Y√úKSELTME FONKSƒ∞YONU
        window.upgradeCard = function(cardId) {
            const card = CARDS.find(c => c.id === cardId);
            if (!card) return;
            
            const currentLevel = gameData.cards[cardId];
            const upgradeCost = currentLevel === 0 ? 
                calculateCardUpgradeCost(card, 0) : 
                calculateCardUpgradeCost(card, currentLevel);
            
            if (gameData.coins < upgradeCost) {
                showModal('ƒ∞≈ülem Ba≈üarƒ±sƒ±z', 'Yeterli coin bakiyeniz yok.', false);
                return;
            }
            
            // Y√ºkselt
            gameData.coins -= upgradeCost;
            gameData.cards[cardId] = currentLevel + 1;
            
            if (currentLevel === 0) {
                gameData.cards_bought++;
                showToast(`‚úÖ ${card.name} satƒ±n alƒ±ndƒ±!`);
            } else {
                showToast(`‚¨ÜÔ∏è ${card.name} Level ${currentLevel + 1} oldu!`);
            }
            
            // Animasyon
            const cardElement = document.getElementById(`card-${cardId}`);
            if (cardElement) {
                cardElement.classList.add('upgrade-glow');
                setTimeout(() => cardElement.classList.remove('upgrade-glow'), 300);
            }
            
            // Yeni kartlarƒ± kontrol et
            checkAndUnlockCards();
            
            saveGameData();
            renderAllCards();
            updateDisplay();
        };

        // üéØ Coin click handler
        document.getElementById('coin-button').addEventListener('click', function(e) {
            if (gameData.energy < gameData.tap_power) return;

            const earnedCoins = gameData.tap_power * gameData.combo_multiplier;
            gameData.coins += earnedCoins;
            gameData.energy -= gameData.tap_power;
            gameData.total_taps++;
            gameData.xp += 1;

            // Level up
            if (gameData.xp >= gameData.xp_to_next_level) {
                gameData.level++;
                gameData.xp = 0;
                gameData.xp_to_next_level = Math.floor(gameData.xp_to_next_level * 1.5);
            }

            // Combo
            gameData.combo_multiplier = Math.min(gameData.combo_multiplier + 0.1, 5);
            clearTimeout(gameData.combo_timeout);
            gameData.combo_timeout = setTimeout(() => {
                gameData.combo_multiplier = 1;
                updateDisplay();
            }, 2000);

            // Floating text
            const element = document.createElement('div');
            element.className = 'floating-text';
            element.textContent = `+${earnedCoins}`;
            element.style.left = e.clientX + 'px';
            element.style.top = e.clientY + 'px';
            document.body.appendChild(element);
            setTimeout(() => element.remove(), 1000);

            // Haptic feedback
            if (tg && tg.HapticFeedback) tg.HapticFeedback.impactOccurred('light');

            updateDisplay();
            saveGameData();
        });

        // Energy update
        setInterval(() => {
            const now = Date.now();
            const timePassed = (now - gameData.last_energy_update) / 1000;
            const energyToAdd = timePassed * gameData.energy_recharge_rate;

            gameData.energy = Math.min(gameData.max_energy, gameData.energy + energyToAdd);
            gameData.last_energy_update = now;
            
            updateDisplay();
        }, 1000);

        // Mining update
        setInterval(() => {
            let needsUpdate = false;
            const now = Date.now();

            miningCards.forEach(card => {
                if (card.owned && card.isRunning) {
                    const elapsed = now - card.startTime;
                    
                    if (elapsed >= MINING_CONFIG.CYCLE_DURATION) {
                        card.isRunning = false;
                        card.isClaimReady = true;
                        card.accumulated = card.power * MINING_CONFIG.HOURLY_MULTIPLIER * 24;
                        needsUpdate = true;
                    } else {
                        card.accumulated = (elapsed / (60 * 60 * 1000)) * card.power * MINING_CONFIG.HOURLY_MULTIPLIER;
                    }
                }
            });

            if (needsUpdate) {
                saveGameData();
            }

            updateMiningCards();
        }, 1000);

        // Mining kartlarƒ±nƒ± render et
        function updateMiningCards() {
            const container = document.getElementById('mining-cards-container');
            if (!container) return;

            container.innerHTML = miningCards.map(card => {
                const hourlyEarn = (card.power * MINING_CONFIG.HOURLY_MULTIPLIER).toFixed(3);
                const dailyMax = (card.power * MINING_CONFIG.HOURLY_MULTIPLIER * 24).toFixed(1);
                
                let badgeHtml = '';
                if (card.owned) {
                    if (card.isClaimReady) {
                        badgeHtml = `<div class="mining-status-badge mining-status-ready">Claim Hazƒ±r</div>`;
                    } else if (card.isRunning) {
                        badgeHtml = `<div class="mining-status-badge mining-status-active">Aktif</div>`;
                    }
                }

                let buttonHtml = '';
                if (!card.owned) {
                    buttonHtml = `<button class="buy-mining-card-btn" onclick="buyMiningCard('${card.id}')">Satƒ±n Al</button>`;
                } else if (card.isClaimReady) {
                    buttonHtml = `<button class="claim-mining-btn" onclick="claimMiningReward('${card.id}')">Claim Et</button>`;
                }

                let countdownHtml = '';
                if (card.owned && card.isRunning && card.startTime) {
                    const elapsed = Date.now() - card.startTime;
                    const remaining = Math.max(0, MINING_CONFIG.CYCLE_DURATION - elapsed);
                    const hours = Math.floor(remaining / (60 * 60 * 1000));
                    const minutes = Math.floor((remaining % (60 * 60 * 1000)) / (60 * 1000));
                    const seconds = Math.floor((remaining % (60 * 1000)) / 1000);
                    countdownHtml = `
                        <div class="mining-countdown">
                            <span class="countdown-label">Kalan S√ºre:</span>
                            <span class="countdown-time">${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}</span>
                        </div>
                    `;
                }

                return `
                    <div class="mining-card mining-card-${card.color}">
                        ${badgeHtml}
                        <img src="assets/icons/${card.image}" alt="${card.name}" class="mining-card-image">
                        <div class="mining-card-details">
                            <div class="mining-card-name">${card.name}</div>
                            <div class="mining-info-row">
                                <span class="mining-label">Mining Power:</span>
                                <span class="mining-value">${card.power} MH</span>
                            </div>
                            <div class="mining-info-row">
                                <span class="mining-label">Saatlik √úretim:</span>
                                <span class="mining-value mining-green">
                                    +${hourlyEarn}
                                    <img src="assets/icons/1000010729-removebg-preview.png" alt="NEON" class="neon-icon">
                                </span>
                            </div>
                            <div class="mining-info-row">
                                <span class="mining-label">24 Saatlik Maks:</span>
                                <span class="mining-value mining-gold">
                                    ${dailyMax}
                                    <img src="assets/icons/1000010729-removebg-preview.png" alt="NEON" class="neon-icon">
                                </span>
                            </div>
                            <div class="mining-info-row mining-price-row">
                                <span class="mining-label">Fiyat:</span>
                                <span class="mining-price-value">
                                    <img src="assets/icons/1000011039-removebg-preview.png" alt="TON" class="ton-icon"> ${card.price} TON
                                </span>
                            </div>
                        </div>
                        ${countdownHtml}
                        ${buttonHtml}
                    </div>
                `;
            }).join('');
        }

        // Mining kart satƒ±n al
        window.buyMiningCard = function(cardId) {
            const card = miningCards.find(c => c.id === cardId);
            if (card.owned) {
                showModal('ƒ∞≈ülem Ba≈üarƒ±sƒ±z', 'Bu kartƒ± zaten satƒ±n aldƒ±nƒ±z!', false);
                return;
            }

            const coinEquivalent = card.price * 1000;
            
            if (gameData.coins < coinEquivalent) {
                showModal('ƒ∞≈ülem Ba≈üarƒ±sƒ±z', `Yetersiz coin! ${formatNumberFull(coinEquivalent)} coin gerekli.`, false);
                return;
            }

            gameData.coins -= coinEquivalent;
            card.owned = true;
            card.isRunning = true;
            card.isClaimReady = false;
            card.startTime = Date.now();
            card.accumulated = 0;

            saveGameData();
            updateDisplay();
            updateMiningCards();
            showToast(`‚úÖ ${card.name} satƒ±n alƒ±ndƒ±! Madencilik ba≈üladƒ±.`);
        };

        // Mining √∂d√ºl√º claim et
        window.claimMiningReward = function(cardId) {
            const card = miningCards.find(c => c.id === cardId);
            if (!card || !card.isClaimReady) return;

            const reward = Math.floor(card.accumulated);
            gameData.neonTapToken += reward;

            card.isRunning = true;
            card.isClaimReady = false;
            card.startTime = Date.now();
            card.accumulated = 0;

            saveGameData();
            updateDisplay();
            updateMiningCards();
            showToast(`üí∞ ${reward} NeonTap Token kazandƒ±nƒ±z!`);

            if (tg && tg.HapticFeedback) tg.HapticFeedback.notificationOccurred('success');
        };

        // üíé PRESTƒ∞J Sƒ∞STEMƒ∞
        function canPrestige() {
            const totalIncome = calculateTotalIncome();
            return totalIncome >= 1000000; // 1,000,000 saatlik kazan√ß
        }

        window.showPrestigeModal = function() {
            if (!canPrestige()) {
                const totalIncome = calculateTotalIncome();
                const needed = 1000000 - totalIncome;
                showModal('Prestije Hazƒ±r Deƒüil', `1,000,000/saat kazan√ß gerekli. Mevcut: ${formatNumber(totalIncome)}/s (${formatNumber(needed)} daha)`, false);
                return;
            }

            // Onay modalƒ±
            const modal = document.getElementById('modalOverlay');
            document.getElementById('modalTitle').textContent = '‚ú® Prestige Yap?';
            document.getElementById('modalMessage').innerHTML = `
                T√ºm kartlar sƒ±fƒ±rlanacak.<br>
                <span style="color:#00ff96">+1 Prestige Puanƒ± (%10 bonus)</span> kazanacaksƒ±nƒ±z.<br><br>
                Devam etmek istiyor musunuz?
            `;
            
            const buttons = document.getElementById('modalButtons');
            buttons.innerHTML = `
                <button class="modal-button cancel" onclick="closeModal()">Vazge√ß</button>
                <button class="modal-button confirm" onclick="executePrestige()">Prestige Yap</button>
            `;
            
            modal.classList.add('active');
        };

        window.executePrestige = function() {
            // T√ºm kartlarƒ± sƒ±fƒ±rla
            CARDS.forEach(card => {
                gameData.cards[card.id] = 0;
            });
            
            // Coinleri sƒ±fƒ±rla
            gameData.coins = 0;
            
            // Prestige puanƒ±nƒ± artƒ±r
            gameData.prestigePoints++;
            
            closeModal();
            showToast(`‚ú® Prestige ${gameData.prestigePoints}! %${gameData.prestigePoints * 10} kalƒ±cƒ± bonus kazandƒ±nƒ±z!`);
            
            // Kartlarƒ± yeniden render et
            renderAllCards();
            updateDisplay();
            saveGameData();
            
            if (tg && tg.HapticFeedback) tg.HapticFeedback.notificationOccurred('success');
        };

        // üñºÔ∏è DISPLAY G√úNCELLEME
        function updateDisplay() {
            const totalIncome = calculateTotalIncome();
            
            document.getElementById('coin-count').textContent = formatNumberFull(Math.floor(gameData.coins));
            document.getElementById('profit-per-hour').textContent = formatNumber(totalIncome);
            document.getElementById('profit-3h').textContent = formatNumber(totalIncome * 3);
            document.getElementById('level-text').textContent = `Level ${gameData.level}`;
            document.getElementById('xp-text').textContent = Math.floor(gameData.xp);
            document.getElementById('energy-display').textContent = `${Math.floor(gameData.energy)} / ${gameData.max_energy}`;
            document.getElementById('tap-counter').textContent = gameData.total_taps;
            document.getElementById('combo-multiplier').textContent = gameData.combo_multiplier.toFixed(1);
            document.getElementById('energy-fill').style.width = (gameData.energy / gameData.max_energy * 100) + '%';
            
            // Prestige
            document.getElementById('prestige-points').textContent = gameData.prestigePoints;
            document.getElementById('prestige-bonus').textContent = `+${gameData.prestigePoints * 10}% bonus`;
            document.getElementById('prestigeButton').disabled = !canPrestige();
            
            // Profile
            document.getElementById('profile-name').textContent = gameData.username;
            document.getElementById('profile-id').textContent = gameData.user_id;
            document.getElementById('profile-coins').textContent = formatNumberFull(Math.floor(gameData.coins));
            document.getElementById('profile-level').textContent = gameData.level;
            document.getElementById('profile-taps').textContent = formatNumberFull(gameData.total_taps);
            document.getElementById('profile-cards').textContent = gameData.cards_bought;
            
            // Trade
            document.getElementById('swap-from-balance').textContent = formatNumberFull(Math.floor(gameData.coins));
            document.getElementById('total-trades').textContent = formatNumberFull(gameData.totalTrades);
            document.getElementById('total-traded-gocoin').textContent = formatNumberFull(gameData.totalTradedGoCoin);
            document.getElementById('total-earned-neontap').textContent = formatNumberFull(gameData.totalEarnedNeonTap);
            
            // Airdrop
            document.getElementById('airdrop-token-balance').textContent = formatNumberFull(gameData.neonTapToken);
            
            // Mining - Saatlik kazan√ß
            let totalHourlyNeon = 0;
            miningCards.forEach(card => {
                if (card.owned && (card.isRunning || card.isClaimReady)) {
                    totalHourlyNeon += card.power * MINING_CONFIG.HOURLY_MULTIPLIER;
                }
            });
            document.getElementById('mining-hourly-earning').innerHTML = `
                ${totalHourlyNeon.toFixed(1)}
                <img src="assets/icons/1000010729-removebg-preview.png" alt="NeonTap" class="neon-icon">
                <span class="neontap-text">NEONTAP</span>
            `;
        }

        // ü™ü MODAL Sƒ∞STEMƒ∞
        function showModal(title, message, showConfirm = true) {
            const modal = document.getElementById('modalOverlay');
            document.getElementById('modalTitle').textContent = title;
            document.getElementById('modalMessage').innerHTML = message;
            
            const buttons = document.getElementById('modalButtons');
            if (showConfirm) {
                buttons.innerHTML = `<button class="modal-button confirm" onclick="closeModal()">Tamam</button>`;
            }
            
            modal.classList.add('active');
        }

        window.closeModal = function() {
            document.getElementById('modalOverlay').classList.remove('active');
        };

        // üçû TOAST Sƒ∞STEMƒ∞
        function showToast(message) {
            const toast = document.getElementById('toast');
            toast.textContent = message;
            toast.style.display = 'block';
            
            setTimeout(() => {
                toast.style.display = 'none';
            }, 3000);
        }

        // Menu toggle
        document.getElementById('menuToggle').addEventListener('click', toggleMenu);
        document.getElementById('menuOverlay').addEventListener('click', toggleMenu);

        function toggleMenu() {
            document.getElementById('menuToggle').classList.toggle('active');
            document.getElementById('sideMenu').classList.toggle('active');
            document.getElementById('menuOverlay').classList.toggle('active');
        }

        function openProfile() {
            toggleMenu();
            switchScreen('profile');
        }

        // Kart kategorileri
        window.showCardCategory = function(category) {
            document.querySelectorAll('.cards-grid').forEach(grid => grid.style.display = 'none');
            document.querySelectorAll('.tab-button').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
            
            document.getElementById(category + '-cards').style.display = 'grid';
        };

        // Takas hesaplama
        window.calculateSwapAmount = function() {
            const inputValue = parseFloat(document.getElementById('swap-from-input').value) || 0;
            const confirmBtn = document.getElementById('swap-confirm-btn');
            const errorMsg = document.getElementById('swap-error-msg');
            
            const neonTapAmount = (inputValue / 50000) * 1000;
            
            document.getElementById('swap-to-display').value = Math.floor(neonTapAmount);

            if (inputValue > 0 && inputValue < 50000) {
                confirmBtn.disabled = true;
                confirmBtn.style.opacity = '0.5';
                errorMsg.style.display = 'block';
            } else if (inputValue >= 50000) {
                confirmBtn.disabled = false;
                confirmBtn.style.opacity = '1';
                errorMsg.style.display = 'none';
            } else {
                confirmBtn.disabled = true;
                confirmBtn.style.opacity = '0.5';
                errorMsg.style.display = 'none';
            }
        };

        // Takas i≈ülemi
        window.executeTradeWithInput = function() {
            const tradeAmount = parseFloat(document.getElementById('swap-from-input').value) || 0;

            if (tradeAmount < 50000) {
                showModal('ƒ∞≈ülem Ba≈üarƒ±sƒ±z', 'Minimum 50,000 GO Coin gerekli!', false);
                return;
            }

            if (gameData.coins < tradeAmount) {
                showModal('ƒ∞≈ülem Ba≈üarƒ±sƒ±z', 'Yetersiz GO Coin!', false);
                return;
            }

            const neonTapReward = (tradeAmount / 50000) * 1000;

            gameData.coins -= tradeAmount;
            gameData.neonTapToken += neonTapReward;
            gameData.totalTrades++;
            gameData.totalTradedGoCoin += tradeAmount;
            gameData.totalEarnedNeonTap += neonTapReward;

            saveGameData();
            updateDisplay();

            document.getElementById('swap-from-input').value = '';
            document.getElementById('swap-to-display').value = '';
            
            showToast(`‚úÖ ${Math.floor(neonTapReward)} NeonTap Token kazandƒ±nƒ±z!`);

            if (tg && tg.HapticFeedback) tg.HapticFeedback.notificationOccurred('success');
        };

        // ƒ∞lk y√ºkleme
        loadGameData();
        renderAllCards();
        updateMiningCards();
        updateDisplay();

        // Modal arka plana tƒ±klayƒ±nca kapat
        document.getElementById('modalOverlay').addEventListener('click', function(e) {
            if (e.target === this) closeModal();
        });
    </script>
</body>
</html>

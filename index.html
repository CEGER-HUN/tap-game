<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Modern Clicker Tycoon</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        :root {
            --primary: #ffd700;
            --secondary: #a855f7;
            --accent: #ec4899;
            --bg-dark: #0a0a0f;
            --text: #ffffff;
            --card-bg: rgba(255, 255, 255, 0.08);
        }

        * {
            box-sizing: border-box;
            margin: 0; padding: 0;
            font-family: 'Segoe UI', sans-serif;
            user-select: none;
            -webkit-tap-highlight-color: transparent;
        }

        body {
            background: radial-gradient(circle at center, #1a1a2e 0%, #0a0a0f 100%);
            color: var(--text);
            height: 100vh;
            display: flex; justify-content: center;
            overflow: hidden;
        }

        .game-container {
            width: 100%; max-width: 450px;
            height: 100%;
            background: rgba(26, 26, 46, 0.8);
            backdrop-filter: blur(20px);
            display: flex; flex-direction: column;
            position: relative;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        header { padding: 20px; text-align: center; }
        #score { font-size: 3.5rem; font-weight: 900; color: var(--primary); text-shadow: 0 0 20px rgba(255, 215, 0, 0.3); }
        .passive-income-text { font-size: 0.9rem; color: #ffd700; font-weight: bold; margin-bottom: 10px; }

        /* Barlar */
        .mini-bar { margin-bottom: 8px; padding: 8px 12px; background: rgba(255, 255, 255, 0.05); border-radius: 12px; }
        .progress-bar, .energy-bar { height: 8px; background: rgba(0, 0, 0, 0.3); border-radius: 10px; overflow: hidden; }
        .progress-fill { height: 100%; background: linear-gradient(90deg, var(--secondary), var(--accent)); width: 0%; transition: width 0.3s; }
        .energy-fill { height: 100%; background: linear-gradient(90deg, #00ff88, #00d9ff); width: 100%; transition: width 0.1s; }
        .info-label { display: flex; justify-content: space-between; font-size: 0.75rem; margin-bottom: 4px; font-weight: bold; }

        /* Ana Ekran ve Kombo */
        main { flex: 1; display: flex; flex-direction: column; align-items: center; justify-content: center; position: relative; }
        .combo-container { width: 140px; text-align: center; margin-bottom: 20px; }
        #combo-text { font-weight: 900; color: var(--accent); opacity: 0; }
        #main-coin { font-size: 180px; cursor: pointer; transition: transform 0.05s; animation: float 3s infinite ease-in-out; }
        #main-coin:active { transform: scale(0.9); }
        @keyframes float { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-15px); } }

        /* Alt Navigasyon */
        nav {
            display: flex; justify-content: space-around;
            padding: 15px; background: rgba(0,0,0,0.4);
            border-top: 1px solid rgba(255,255,255,0.1);
        }
        .nav-btn { background: none; border: none; color: #888; font-size: 1.5rem; cursor: pointer; transition: 0.3s; position: relative; }
        .nav-btn.active { color: var(--primary); transform: scale(1.2); }

        /* Market / Kartlar BÃ¶lÃ¼mÃ¼ */
        #market-screen {
            display: none; position: absolute; top: 0; left: 0; width: 100%; height: calc(100% - 70px);
            background: var(--bg-dark); z-index: 100; padding: 20px; overflow-y: auto;
        }
        .market-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; }
        .cards-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; }
        
        .card {
            background: var(--card-bg); border: 1px solid rgba(255,255,255,0.1);
            border-radius: 15px; padding: 15px; text-align: center;
            transition: 0.2s; cursor: pointer;
        }
        .card:active { transform: scale(0.95); }
        .card-icon { font-size: 2.5rem; margin-bottom: 10px; display: block; }
        .card-name { font-size: 0.9rem; font-weight: bold; display: block; }
        .card-yield { font-size: 0.75rem; color: #00ff88; margin: 5px 0; display: block; }
        .card-level { font-size: 0.7rem; color: #888; }
        .card-price {
            margin-top: 10px; background: var(--secondary); border: none;
            color: white; padding: 5px 10px; border-radius: 8px; width: 100%; font-weight: bold;
        }

        .floating-text { position: absolute; color: var(--primary); font-weight: bold; animation: floatUp 0.8s forwards; pointer-events: none; }
        @keyframes floatUp { from { opacity: 1; transform: translateY(0); } to { opacity: 0; transform: translateY(-100px); } }
    </style>
</head>
<body>

    <div class="game-container">
        <div id="market-screen">
            <div class="market-header">
                <h2>YatÄ±rÄ±mlar</h2>
                <button class="nav-btn" onclick="toggleMarket()"><i class="fas fa-times"></i></button>
            </div>
            <div class="cards-grid" id="cards-grid">
                </div>
        </div>

        <header id="main-header">
            <div class="passive-income-text">Saniyelik: <span id="per-sec">0</span> ðŸ’°</div>
            <h1 id="score">0</h1>
            
            <div class="mini-bar">
                <div class="info-label"><span>Seviye <span id="level-val">1</span></span><span id="xp-text">0/100</span></div>
                <div class="progress-bar"><div id="xp-fill" class="progress-fill"></div></div>
            </div>
            
            <div class="mini-bar">
                <div class="info-label"><span>âš¡ Enerji</span><span id="energy-text">1000/1000</span></div>
                <div class="energy-bar"><div id="energy-fill" class="energy-fill"></div></div>
            </div>
        </header>

        <main>
            <div class="combo-container">
                <div id="combo-text">COMBO X1</div>
                <div class="combo-bar"><div id="combo-fill"></div></div>
            </div>
            <div id="main-coin" onclick="handleTap(event)">ðŸª™</div>
        </main>

        <nav>
            <button class="nav-btn active" onclick="toggleMarket(false)"><i class="fas fa-coins"></i></button>
            <button class="nav-btn" onclick="toggleMarket(true)"><i class="fas fa-store"></i></button>
            <button class="nav-btn" onclick="upgradeClick()"><i class="fas fa-hand-pointer"></i></button>
        </nav>
    </div>

    <script>
        const cardsData = {
            lemonade: { name: "Limonata", yield: 1, cost: 100, icon: "ðŸ‹" },
            taxi: { name: "Taksi", yield: 8, cost: 1000, icon: "ðŸš•" },
            shop: { name: "DÃ¼kkan", yield: 45, cost: 5000, icon: "ðŸª" },
            factory: { name: "Fabrika", yield: 200, cost: 25000, icon: "ðŸ­" },
            bank: { name: "Banka", yield: 1000, cost: 150000, icon: "ðŸ¦" },
            crypto: { name: "Madenci", yield: 5000, cost: 1000000, icon: "ðŸ’»" }
        };

        let gameState = {
            score: 0, level: 1, xp: 0, xpToNextLevel: 100,
            clickPower: 1, passiveIncome: 0, energy: 1000,
            lastUpdate: Date.now(),
            ownedCards: { lemonade: 0, taxi: 0, shop: 0, factory: 0, bank: 0, crypto: 0 }
        };

        let combo = 1, comboTimer = 0;

        window.onload = () => {
            loadGame();
            renderCards();
            setInterval(gameLoop, 100);
            setInterval(saveGame, 5000);
        };

        function gameLoop() {
            gameState.score += (gameState.passiveIncome / 10);
            if (gameState.energy < 1000) gameState.energy += 0.05;
            if (comboTimer > 0) {
                comboTimer--;
                document.getElementById('combo-fill').style.width = comboTimer + "%";
            } else {
                combo = 1;
                document.getElementById('combo-text').style.opacity = "0";
            }
            updateUI();
        }

        function handleTap(e) {
            if (gameState.energy < 1) return;
            comboTimer = 100;
            if (combo < 10) combo += 0.05;
            let gain = gameState.clickPower * Math.floor(combo);
            gameState.score += gain;
            gameState.xp += 1;
            gameState.energy -= 1;
            if (gameState.xp >= gameState.xpToNextLevel) levelUp();
            createFloatingText(e.clientX, e.clientY, `+${gain}`);
        }

        function levelUp() {
            gameState.level++;
            gameState.xp = 0;
            gameState.xpToNextLevel *= 1.6;
            alert("TEBRÄ°KLER! LEVEL " + gameState.level);
        }

        function renderCards() {
            const grid = document.getElementById('cards-grid');
            grid.innerHTML = '';
            for (let id in cardsData) {
                let card = cardsData[id];
                let level = gameState.ownedCards[id];
                let cost = Math.floor(card.cost * Math.pow(1.5, level));
                grid.innerHTML += `
                    <div class="card" onclick="buyCard('${id}')">
                        <span class="card-icon">${card.icon}</span>
                        <span class="card-name">${card.name}</span>
                        <span class="card-yield">+${card.yield}/sn</span>
                        <span class="card-level">Seviye: ${level}</span>
                        <button class="card-price">${cost.toLocaleString()}</button>
                    </div>
                `;
            }
        }

        function buyCard(id) {
            let card = cardsData[id];
            let cost = Math.floor(card.cost * Math.pow(1.5, gameState.ownedCards[id]));
            if (gameState.score >= cost) {
                gameState.score -= cost;
                gameState.ownedCards[id]++;
                gameState.passiveIncome += card.yield;
                renderCards();
                updateUI();
            }
        }

        function upgradeClick() {
            let cost = gameState.clickPower * 100;
            if (gameState.score >= cost) {
                gameState.score -= cost;
                gameState.clickPower++;
                alert("TÄ±klama GÃ¼cÃ¼ ArtÄ±rÄ±ldÄ±!");
            }
        }

        function toggleMarket(show) {
            document.getElementById('market-screen').style.display = show ? 'block' : 'none';
        }

        function updateUI() {
            document.getElementById('score').innerText = Math.floor(gameState.score).toLocaleString();
            document.getElementById('per-sec').innerText = Math.floor(gameState.passiveIncome).toLocaleString();
            document.getElementById('energy-text').innerText = Math.floor(gameState.energy) + "/1000";
            document.getElementById('energy-fill').style.width = (gameState.energy / 10) + "%";
            document.getElementById('xp-fill').style.width = (gameState.xp / gameState.xpToNextLevel * 100) + "%";
            document.getElementById('combo-text').innerText = `COMBO X${Math.floor(combo)}`;
            if(combo > 1) document.getElementById('combo-text').style.opacity = "1";
        }

        function createFloatingText(x, y, text) {
            const el = document.createElement('div');
            el.className = 'floating-text';
            el.innerText = text;
            el.style.left = x + 'px'; el.style.top = y + 'px';
            document.body.appendChild(el);
            setTimeout(() => el.remove(), 800);
        }

        function saveGame() { localStorage.setItem('tycoonSave', JSON.stringify(gameState)); }
        function loadGame() {
            const saved = localStorage.getItem('tycoonSave');
            if (saved) gameState = Object.assign(gameState, JSON.parse(saved));
        }
    </script>
</body>
</html>

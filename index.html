<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Tap Game</title>
<script src="https://cdn.jsdelivr.net/npm/phaser@3/dist/phaser.js"></script>
<style>
body { margin:0; background:black; }
canvas { display:block; margin:auto; }
</style>
</head>
<body>

<script>
const WIDTH = 960;
const HEIGHT = 540;
const SPEED = 1;

let working = true;
let bg1, bg2;
let bgIndex = 1;
const TOTAL_BG = 5;

const config = {
  type: Phaser.AUTO,
  width: WIDTH,
  height: HEIGHT,
  scale: {
    mode: Phaser.Scale.FIT,
    autoCenter: Phaser.Scale.CENTER_BOTH
  },
  scene: { preload, create, update }
};

new Phaser.Game(config);

function preload() {
  for (let i = 1; i <= 5; i++) {
    this.load.image("bg" + i, "./assets/bg" + i + ".png");
  }
}

function create() {
  bg1 = this.add.image(0, 0, "bg1").setOrigin(0, 0);
  bg2 = this.add.image(WIDTH, 0, "bg2").setOrigin(0, 0);

  scaleToScreen(bg1);
  scaleToScreen(bg2);
}

function update() {
  bg1.x -= SPEED;
  bg2.x -= SPEED;

  if (bg1.x <= -bg1.displayWidth) resetBG(bg1);
  if (bg2.x <= -bg2.displayWidth) resetBG(bg2);
}

function resetBG(bg) {
  bgIndex++;
  if (bgIndex > TOTAL_BG) bgIndex = 1;

  bg.setTexture("bg" + bgIndex);
  scaleToScreen(bg);
  bg.x = WIDTH;
}

function scaleToScreen(image) {
  const scale = WIDTH / image.width;
  image.setScale(scale);
}
</script>

</body>
</html>

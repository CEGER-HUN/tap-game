<!DOCTYPE html>
<html>
<head>
    <title>Oyun - Maden</title>
    <style>
        body { 
            background: #1a1a2e; 
            color: white; 
            font-family: Arial; 
            padding: 20px; 
            max-width: 800px; 
            margin: auto; 
        }
        
        .oyuncu-bilgi {
            background: #16213e;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
            border: 2px solid #00adb5;
        }
        
        .madenler {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin: 20px 0;
        }
        
        .maden {
            background: #0f3460;
            padding: 15px;
            border-radius: 10px;
            text-align: center;
            cursor: pointer;
            border: 2px solid transparent;
        }
        
        .maden:hover {
            border-color: gold;
        }
        
        .maden-tetikte {
            background: #ffd369;
            color: black;
            padding: 15px;
            border-radius: 10px;
            margin: 20px 0;
            display: none;
        }
        
        button {
            background: #00adb5;
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            margin: 5px;
        }
        
        button:disabled {
            background: #666;
            cursor: not-allowed;
        }
        
        .geri-sayim {
            font-size: 24px;
            color: gold;
            font-weight: bold;
            margin: 10px 0;
        }
    </style>
</head>
<body>
    <div class="oyuncu-bilgi">
        <h2 id="oyuncuIsim">Ä°sim</h2>
        <p>ğŸ’° AltÄ±n: <span id="altin">100</span></p>
        <p>â­ Seviye: <span id="seviye">1</span></p>
        <p>âš”ï¸ Karakter: <span id="karakter">Madenci</span></p>
    </div>
    
    <h2>â›ï¸ MADENLER</h2>
    <p>3 saatlik maden seÃ§, dÃ¶nÃ¼ÅŸte Ã¶dÃ¼lÃ¼nÃ¼ al!</p>
    
    <div class="madenler">
        <div class="maden" onclick="madenSec('demir')">
            <h3>âš’ï¸ Demir Madeni</h3>
            <p>ğŸ’° 50-150 AltÄ±n</p>
            <p>â±ï¸ 3 saat</p>
            <button onclick="madenSec('demir')">Git</button>
        </div>
        
        <div class="maden" onclick="madenSec('altin')">
            <h3>ğŸ’° AltÄ±n Madeni</h3>
            <p>ğŸ’° 200-500 AltÄ±n</p>
            <p>â±ï¸ 3 saat</p>
            <p>ğŸ”“ Seviye 5</p>
            <button onclick="madenSec('altin')">Git</button>
        </div>
        
        <div class="maden" onclick="madenSec('elf')">
            <h3>ğŸ’ Elf TaÅŸÄ±</h3>
            <p>ğŸ’° 800-1500 AltÄ±n</p>
            <p>â±ï¸ 3 saat</p>
            <p>ğŸ”“ Seviye 10</p>
            <button onclick="madenSec('elf')">Git</button>
        </div>
        
        <div class="maden" onclick="madenSec('kristal')">
            <h3>ğŸ”® Kristal</h3>
            <p>ğŸ’° 3000-5000 AltÄ±n</p>
            <p>â±ï¸ 3 saat</p>
            <p>ğŸ”“ Seviye 20</p>
            <button onclick="madenSec('kristal')">Git</button>
        </div>
    </div>
    
    <div class="maden-tetikte" id="madenPanel">
        <h3>â›ï¸ MADENDE Ã‡ALIÅIYORSUN</h3>
        <div class="geri-sayim" id="sayac">03:00:00</div>
        <p id="madenBilgi">Demir madeninde Ã§alÄ±ÅŸÄ±yorsun</p>
        <button onclick="odemeyiAl()" id="odemeButon" disabled>Ã–DÃœLÃœ AL</button>
    </div>
    
    <div style="margin-top: 30px;">
        <button onclick="anaMenuyeDon()">ğŸ  Ana MenÃ¼</button>
        <button onclick="oyunuKaydet()">ğŸ’¾ Kaydet</button>
    </div>
    
    <script>
        // Oyuncu bilgilerini yÃ¼kle
        let oyuncu = JSON.parse(localStorage.getItem('oyuncu')) || {
            isim: "Oyuncu",
            karakter: "madenci",
            altin: 100,
            seviye: 1,
            maden: null,
            madenBitis: null
        };
        
        // Aktif maden
        let aktifMaden = oyuncu.maden;
        let madenBitis = oyuncu.madenBitis ? new Date(oyuncu.madenBitis) : null;
        
        // Sayfa yÃ¼klendiÄŸinde
        document.addEventListener('DOMContentLoaded', function() {
            oyuncuyuGoster();
            madenKontrol();
        });
        
        function oyuncuyuGoster() {
            document.getElementById('oyuncuIsim').textContent = oyuncu.isim;
            document.getElementById('altin').textContent = oyuncu.altin;
            document.getElementById('seviye').textContent = oyuncu.seviye;
            document.getElementById('karakter').textContent = oyuncu.karakter;
        }
        
        function madenSec(tip) {
            if (aktifMaden) {
                alert("Zaten maden-desin! Ã–nce mevcut madenini bitir.");
                return;
            }
            
            // Seviye kontrolÃ¼
            if (tip === 'altin' && oyuncu.seviye < 5) {
                alert("Seviye 5 gerekiyor!");
                return;
            }
            if (tip === 'elf' && oyuncu.seviye < 10) {
                alert("Seviye 10 gerekiyor!");
                return;
            }
            if (tip === 'kristal' && oyuncu.seviye < 20) {
                alert("Seviye 20 gerekiyor!");
                return;
            }
            
            // Madeni baÅŸlat
            aktifMaden = tip;
            madenBitis = new Date();
            madenBitis.setHours(madenBitis.getHours() + 3); // 3 saat ekle
            
            // Kaydet
            oyuncu.maden = tip;
            oyuncu.madenBitis = madenBitis.toISOString();
            localStorage.setItem('oyuncu', JSON.stringify(oyuncu));
            
            // Paneli gÃ¶ster
            document.getElementById('madenPanel').style.display = 'block';
            document.getElementById('madenBilgi').textContent = 
                tip === 'demir' ? 'Demir madeninde Ã§alÄ±ÅŸÄ±yorsun' :
                tip === 'altin' ? 'AltÄ±n madeninde Ã§alÄ±ÅŸÄ±yorsun' :
                tip === 'elf' ? 'Elf taÅŸÄ± madenindesin' :
                'Kristal madenindesin';
            
            alert("â›ï¸ Madene gittin! 3 saat sonra dÃ¶neceksin.");
            
            // Geri sayÄ±mÄ± baÅŸlat
            madenKontrol();
        }
        
        function madenKontrol() {
            if (!aktifMaden || !madenBitis) return;
            
            const simdi = new Date();
            const panel = document.getElementById('madenPanel');
            const sayac = document.getElementById('sayac');
            const odemeButon = document.getElementById('odemeButon');
            
            panel.style.display = 'block';
            
            if (simdi >= madenBitis) {
                // Maden bitti
                sayac.textContent = "00:00:00";
                odemeButon.disabled = false;
                odemeButon.textContent = "Ã–DÃœLÃœ AL";
            } else {
                // Hala Ã§alÄ±ÅŸÄ±yor
                const kalan = madenBitis - simdi;
                const saat = Math.floor(kalan / (1000 * 60 * 60));
                const dakika = Math.floor((kalan % (1000 * 60 * 60)) / (1000 * 60));
                const saniye = Math.floor((kalan % (1000 * 60)) / 1000);
                
                sayac.textContent = 
                    saat.toString().padStart(2, '0') + ':' +
                    dakika.toString().padStart(2, '0') + ':' +
                    saniye.toString().padStart(2, '0');
                
                odemeButon.disabled = true;
                odemeButon.textContent = "BEKLE...";
                
                // 1 saniye sonra tekrar kontrol et
                setTimeout(madenKontrol, 1000);
            }
        }
        
        function odemeyiAl() {
            if (!aktifMaden) return;
            
            // Ã–dÃ¼l hesapla
            let min, max;
            switch(aktifMaden) {
                case 'demir': min = 50; max = 150; break;
                case 'altin': min = 200; max = 500; break;
                case 'elf': min = 800; max = 1500; break;
                case 'kristal': min = 3000; max = 5000; break;
                default: min = 100; max = 300;
            }
            
            // Madenci bonusu
            let bonus = oyuncu.karakter === 'madenci' ? 1.3 : 1.0;
            
            // Rastgele Ã¶dÃ¼l
            const odul = Math.floor((Math.random() * (max - min + 1) + min) * bonus);
            
            // AltÄ±n ekle
            oyuncu.altin += odul;
            
            // EXP ekle (her 100 altÄ±n = 1 EXP)
            const expKazan = Math.floor(odul / 100);
            // Burada seviye sistemi ekleyebilirsin
            
            // Madeni temizle
            aktifMaden = null;
            madenBitis = null;
            oyuncu.maden = null;
            oyuncu.madenBitis = null;
            
            // GÃ¼ncelle
            localStorage.setItem('oyuncu', JSON.stringify(oyuncu));
            oyuncuyuGoster();
            
            // Panel gizle
            document.getElementById('madenPanel').style.display = 'none';
            
            alert(`ğŸ‰ MADENDEN DÃ–NDÃœN!\nğŸ’° KazandÄ±n: ${odul} AltÄ±n\nğŸ“ˆ EXP: +${expKazan}`);
        }
        
        function anaMenuyeDon() {
            window.location.href = 'index.html';
        }
        
        function oyunuKaydet() {
            localStorage.setItem('oyuncu', JSON.stringify(oyuncu));
            alert("Oyun kaydedildi!");
        }
        
        // Her 10 saniyede bir otomatik kaydet
        setInterval(oyunuKaydet, 10000);
    </script>
</body>
</html>

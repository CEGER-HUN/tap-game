<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>GO Coin Game</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    
    <!-- ===== FIREBASE V8 ===== -->
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>
    
    <script>
        // ðŸ”¥ FIREBASE YAPILANDIRMASI - SADECE 1 KEZ
        const firebaseConfig = {
            apiKey: "AIzaSyCg_JVh2QfTmUqgV8zZ5sfy4fLpVRmmXqY",
            authDomain: "neontap-game.firebaseapp.com",
            projectId: "neontap-game",
            storageBucket: "neontap-game.firebasestorage.app",
            messagingSenderId: "470008303209",
            appId: "1:470008303209:web:c14d12073c78bbc413dcf8",
            measurementId: "G-L05G6NELGT"
        };

        // Firebase'i baÅŸlat (zaten baÅŸlatÄ±lmadÄ±ysa)
        if (!firebase.apps.length) {
            firebase.initializeApp(firebaseConfig);
        }
        
        // Firestore'u baÅŸlat
        const db = firebase.firestore();
        
        console.log("âœ… Firebase aktif - Oyun hazÄ±r!");
    </script>
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Arial', sans-serif;
            background-color: #1a1a2e;
            color: white;
            overflow-x: hidden;
            user-select: none;
            -webkit-user-select: none;
            -webkit-touch-callout: none;
            min-height: 100vh;
            position: relative;
        }

        body.modal-open {
            overflow: hidden;
        }

        /* ===== LOADING EKRANI ===== */
        .loading-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100vh;
            background: linear-gradient(165deg, #1a1a2e, #16213e);
            z-index: 99999;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: opacity 0.5s ease;
            opacity: 1;
            will-change: opacity;
        }

        .loading-screen.fade-out {
            opacity: 0;
            pointer-events: none;
        }

        .loading-content {
            text-align: center;
            width: 80%;
            max-width: 300px;
        }

        .loading-logo {
            width: 120px;
            height: 120px;
            margin: 0 auto 30px;
            animation: loadingPulse 1.5s infinite ease-in-out;
        }

        .loading-logo img {
            width: 100%;
            height: 100%;
            object-fit: contain;
            filter: drop-shadow(0 0 20px #FFD700);
        }

        @keyframes loadingPulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        .loading-progress-container {
            width: 100%;
            height: 8px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            overflow: hidden;
            margin: 20px 0 10px;
            border: 1px solid rgba(255, 215, 0, 0.3);
        }

        .loading-progress-bar {
            height: 100%;
            width: 0%;
            background: linear-gradient(90deg, #FFD700, #FFA500);
            border-radius: 10px;
            transition: width 0.1s linear;
            box-shadow: 0 0 15px #FFD700;
            will-change: width;
        }

        .loading-percent {
            font-size: 32px;
            font-weight: 700;
            background: linear-gradient(135deg, #FFD700, #FFA500);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 5px;
            font-variant-numeric: tabular-nums;
        }

        .loading-text {
            font-size: 14px;
            color: rgba(255, 255, 255, 0.7);
            letter-spacing: 1px;
        }

        .loading-subtext {
            font-size: 11px;
            color: rgba(255, 255, 255, 0.4);
            margin-top: 15px;
        }

        /* Leaderboard Stili */
        .leaderboard-container {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 16px;
            padding: 15px;
            margin: 20px 0;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 215, 0, 0.2);
        }
        
        .leaderboard-title {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 15px;
            color: #FFD700;
            text-align: center;
        }
        
        .leaderboard-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px 12px;
            margin-bottom: 5px;
            background: rgba(255, 255, 255, 0.03);
            border-radius: 8px;
            font-size: 14px;
        }
        
        .leaderboard-rank {
            color: #FFD700;
            font-weight: 600;
            margin-right: 10px;
        }
        
        .leaderboard-name {
            flex: 1;
            color: rgba(255, 255, 255, 0.9);
        }
        
        .leaderboard-coins {
            color: #00ff96;
            font-weight: 600;
        }

        /* Hamburger MenÃ¼ Butonu */
        .menu-toggle {
            position: fixed;
            top: 20px;
            left: 20px;
            width: 44px;
            height: 44px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 14px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            gap: 6px;
            cursor: pointer;
            z-index: 1001;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            transition: all 0.2s;
        }

        .menu-toggle.hidden {
            display: none;
        }

        .menu-toggle:active {
            transform: scale(0.92);
            background: rgba(255, 255, 255, 0.2);
        }

        .menu-toggle span {
            width: 22px;
            height: 2.5px;
            background: white;
            border-radius: 2px;
            transition: 0.3s;
        }

        .menu-toggle.active span:nth-child(1) {
            transform: rotate(45deg) translate(6px, 6px);
        }

        .menu-toggle.active span:nth-child(2) {
            opacity: 0;
            transform: translateX(-10px);
        }

        .menu-toggle.active span:nth-child(3) {
            transform: rotate(-45deg) translate(6px, -6px);
        }

        /* Header Version */
        .header-version {
            position: fixed;
            top: 20px;
            right: 20px;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 20px;
            padding: 6px 14px;
            font-size: 11px;
            font-weight: 600;
            color: rgba(255, 255, 255, 0.8);
            letter-spacing: 0.5px;
            z-index: 1001;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
        }

        .header-version.hidden {
            display: none;
        }

        .header-version span {
            color: #00ff96;
            margin-left: 4px;
        }

        /* ========== GÃ–REV BUTONU ========== */
        .quest-button {
            position: fixed !important;
            right: 20px !important;
            top: 55% !important;
            transform: translateY(-50%) !important;
            width: 65px !important;
            height: 65px !important;
            border-radius: 50% !important;
            background: radial-gradient(circle at 30% 30%, #6b21a5, #1e1a4b) !important;
            border: 2px solid rgba(255, 255, 255, 0.2) !important;
            box-shadow: 0 0 20px rgba(106, 13, 173, 0.6), 0 0 40px rgba(106, 13, 173, 0.3) !important;
            cursor: pointer !important;
            z-index: 9999 !important;
            display: flex !important;
            align-items: center !important;
            justify-content: center !important;
            transition: all 0.2s ease !important;
            animation: questPulse 2.5s infinite ease-in-out !important;
            pointer-events: auto !important;
        }

        .quest-button.hidden {
            display: none !important;
        }

        .quest-button:active {
            transform: translateY(-50%) scale(0.95) !important;
            box-shadow: 0 0 30px rgba(106, 13, 173, 0.8) !important;
        }

        .quest-button img {
            width: 70% !important;
            height: 70% !important;
            object-fit: contain !important;
            filter: drop-shadow(0 0 10px rgba(255, 255, 255, 0.5)) !important;
        }

        @media (max-width: 480px) {
            .quest-button {
                right: 15px !important;
                top: 58% !important;
            }
        }

        @keyframes questPulse {
            0%, 100% {
                box-shadow: 0 0 20px rgba(106, 13, 173, 0.6), 0 0 40px rgba(106, 13, 173, 0.3);
                transform: translateY(-50%) scale(1);
            }
            50% {
                box-shadow: 0 0 40px rgba(106, 13, 173, 0.9), 0 0 60px rgba(106, 13, 173, 0.5);
                transform: translateY(-50%) scale(1.05);
            }
        }

        /* Red Dot */
        .quest-red-dot {
            position: absolute;
            top: -2px;
            right: -2px;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: #ff4444;
            border: 2px solid #1a1a2e;
            animation: redDotPulse 1.5s infinite ease-in-out;
            z-index: 1000;
        }

        .quest-red-dot.hidden {
            display: none;
        }

        @keyframes redDotPulse {
            0%, 100% {
                transform: scale(1);
                opacity: 1;
            }
            50% {
                transform: scale(1.2);
                opacity: 0.8;
            }
        }

        /* Hesap Bilgileri ModalÄ± */
        .account-modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100vh;
            background: rgba(0, 0, 0, 0.7);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            z-index: 10000;
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s ease;
        }

        .account-modal-overlay.active {
            opacity: 1;
            pointer-events: auto;
        }

        .account-modal {
            background: linear-gradient(165deg, rgba(30, 30, 50, 0.98), rgba(20, 20, 35, 0.98));
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 215, 0, 0.3);
            border-radius: 24px;
            padding: 25px;
            width: 90%;
            max-width: 340px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.5), 0 0 0 1px rgba(255, 215, 0, 0.1) inset;
            animation: modalSlideUp 0.3s ease-out;
        }

        @keyframes modalSlideUp {
            0% {
                opacity: 0;
                transform: translateY(20px);
            }
            100% {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .account-modal-title {
            font-size: 22px;
            font-weight: 700;
            text-align: center;
            margin-bottom: 20px;
            background: linear-gradient(135deg, #FFD700, #FFA500);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .account-modal-input-group {
            margin-bottom: 20px;
        }

        .account-modal-label {
            display: block;
            font-size: 13px;
            color: rgba(255, 255, 255, 0.7);
            margin-bottom: 6px;
            margin-left: 4px;
        }

        .account-modal-input {
            width: 100%;
            padding: 14px 16px;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 14px;
            color: white;
            font-size: 15px;
            transition: all 0.2s;
        }

        .account-modal-input:focus {
            outline: none;
            border-color: #00ff96;
            background: rgba(255, 255, 255, 0.08);
        }

        .account-modal-input::placeholder {
            color: rgba(255, 255, 255, 0.3);
        }

        .account-modal-error {
            color: #ff5555;
            font-size: 12px;
            margin-top: 5px;
            margin-left: 4px;
            min-height: 18px;
        }

        .account-modal-button {
            width: 100%;
            padding: 16px;
            background: linear-gradient(135deg, #00ff96, #00cc66);
            border: none;
            border-radius: 16px;
            color: #1a1a2e;
            font-weight: 700;
            font-size: 16px;
            cursor: pointer;
            transition: all 0.2s;
            margin-top: 10px;
        }

        .account-modal-button:active {
            transform: scale(0.95);
        }

        /* GÃ¶rev Paneli */
        .quest-panel {
            position: fixed;
            top: 0;
            right: -100%;
            width: 100%;
            max-width: 400px;
            height: 100vh;
            background: rgba(30, 30, 50, 0.95);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border-left: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: -5px 0 30px rgba(0, 0, 0, 0.5);
            z-index: 2000;
            transition: right 0.3s cubic-bezier(0.2, 0.9, 0.3, 1.1);
            overflow-y: auto;
            padding: 20px;
        }

        .quest-panel.active {
            right: 0;
        }

        .quest-panel-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .quest-panel-title {
            font-size: 24px;
            font-weight: 700;
            background: linear-gradient(135deg, #FFD700, #FFA500);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .quest-panel-close {
            width: 40px;
            height: 40px;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .quest-panel-close:active {
            transform: scale(0.9);
            background: rgba(255, 255, 255, 0.2);
        }

        .quest-subtitle {
            font-size: 14px;
            color: rgba(255, 255, 255, 0.7);
            margin-bottom: 25px;
            line-height: 1.5;
        }

        /* UyarÄ± Kutusu */
        .quest-warning {
            background: rgba(255, 165, 0, 0.1);
            border: 1px solid rgba(255, 165, 0, 0.3);
            border-radius: 12px;
            padding: 12px;
            margin-bottom: 20px;
            display: flex;
            align-items: flex-start;
            gap: 10px;
            box-shadow: 0 0 15px rgba(255, 165, 0, 0.2);
        }

        .quest-warning-icon {
            font-size: 18px;
            color: #ffaa00;
        }

        .quest-warning-text {
            font-size: 12px;
            color: rgba(255, 255, 255, 0.9);
            line-height: 1.5;
            flex: 1;
        }

        /* GÃ¶rev KartlarÄ± */
        .quest-card {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 18px;
            padding: 16px;
            margin-bottom: 15px;
            transition: all 0.3s;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }

        .quest-card:hover {
            border-color: rgba(106, 13, 173, 0.5);
            box-shadow: 0 0 20px rgba(106, 13, 173, 0.3);
        }

        .quest-card.completed {
            border-color: #00ff96;
            box-shadow: 0 0 20px rgba(0, 255, 150, 0.2);
        }

        .quest-card.claim-ready {
            border-color: #ffaa00;
            box-shadow: 0 0 20px rgba(255, 170, 0, 0.3);
        }

        .quest-card-header {
            display: flex;
            align-items: center;
            margin-bottom: 12px;
            gap: 8px;
        }

        .quest-icon {
            width: 28px;
            height: 28px;
            object-fit: contain;
            margin-right: 10px;
        }

        .quest-title {
            font-size: 16px;
            font-weight: 600;
            color: #fff;
            flex: 1;
        }

        .quest-reward {
            display: flex;
            align-items: center;
            gap: 6px;
            background: rgba(0, 255, 150, 0.1);
            padding: 4px 10px;
            border-radius: 20px;
            border: 1px solid rgba(0, 255, 150, 0.3);
        }

        .quest-reward-value {
            color: #00ff96;
            font-weight: 600;
            font-size: 14px;
        }

        .quest-reward-icon {
            width: 20px;
            height: 20px;
            object-fit: contain;
        }

        .quest-description {
            font-size: 13px;
            color: rgba(255, 255, 255, 0.6);
            margin-bottom: 15px;
            line-height: 1.4;
        }

        .quest-actions {
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 10px;
        }

        .quest-button-action {
            background: linear-gradient(135deg, #667eea, #764ba2);
            border: none;
            color: white;
            padding: 10px 20px;
            border-radius: 12px;
            font-size: 13px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
            flex: 1;
            min-width: 100px;
        }

        .quest-button-action:active {
            transform: scale(0.95);
        }

        .quest-button-action:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            background: rgba(255, 255, 255, 0.1);
        }

        .quest-button-action.claim {
            background: linear-gradient(135deg, #00ff96, #00cc66);
            color: #1a1a2e;
        }

        .quest-button-action.claim:disabled {
            background: rgba(255, 255, 255, 0.1);
            color: rgba(255, 255, 255, 0.5);
        }

        .quest-button-action.review {
            background: rgba(255, 165, 0, 0.3);
            color: #ffaa00;
            cursor: wait;
        }

        .quest-completed-badge {
            display: flex;
            align-items: center;
            gap: 6px;
            color: #00ff96;
            font-size: 13px;
            font-weight: 600;
        }

        .quest-completed-badge::before {
            content: "âœ“";
            font-size: 16px;
        }

        /* Floating Coin Animation */
        .quest-floating-coin {
            position: fixed;
            font-size: 24px;
            font-weight: bold;
            pointer-events: none;
            animation: questFloat 1s ease-out forwards;
            color: #FFD700;
            text-shadow: 0 0 20px rgba(255, 215, 0, 0.9);
            z-index: 3000;
            white-space: nowrap;
        }

        @keyframes questFloat {
            0% {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
            100% {
                opacity: 0;
                transform: translateY(-60px) scale(1.5);
            }
        }

        /* Sparkle Efekti */
        .quest-sparkle {
            position: fixed;
            pointer-events: none;
            animation: sparkle 0.8s ease-out forwards;
            z-index: 3000;
        }

        @keyframes sparkle {
            0% {
                opacity: 1;
                transform: scale(0.5) rotate(0deg);
            }
            100% {
                opacity: 0;
                transform: scale(2) rotate(180deg);
            }
        }

        /* Profesyonel Hamburger MenÃ¼ */
        .side-menu-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100vh;
            background: rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(5px);
            -webkit-backdrop-filter: blur(5px);
            z-index: 999;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.25s ease;
        }

        .side-menu-overlay.active {
            opacity: 1;
            pointer-events: auto;
        }

        .side-menu {
            position: fixed;
            top: 0;
            left: -75%;
            width: 75%;
            max-width: 360px;
            height: 100vh;
            background: linear-gradient(165deg, rgba(30, 30, 50, 0.95), rgba(20, 20, 35, 0.98));
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            z-index: 1000;
            transition: left 0.25s cubic-bezier(0.2, 0.9, 0.3, 1.1);
            display: flex;
            flex-direction: column;
            border-right: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 5px 0 30px rgba(0, 0, 0, 0.5);
        }

        .side-menu.active {
            left: 0;
        }

        .menu-header {
            padding: 30px 20px 20px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .menu-header h2 {
            font-size: 28px;
            font-weight: 700;
            background: linear-gradient(135deg, #FFD700, #FFA500);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 5px;
        }

        .menu-header p {
            font-size: 13px;
            color: rgba(255, 255, 255, 0.5);
        }

        .menu-content {
            flex: 1;
            overflow-y: auto;
            padding: 15px;
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .menu-item {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 18px;
            padding: 16px;
            display: flex;
            align-items: center;
            gap: 15px;
            cursor: pointer;
            transition: all 0.2s;
            position: relative;
            overflow: hidden;
        }

        .menu-item:hover {
            background: rgba(255, 255, 255, 0.08);
            border-color: rgba(255, 215, 0, 0.3);
            transform: translateX(5px);
        }

        .menu-item:active {
            transform: scale(0.98);
        }

        .menu-item-icon {
            width: 48px;
            height: 48px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            border-radius: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }

        .menu-item-text {
            flex: 1;
        }

        .menu-item-title {
            font-size: 16px;
            font-weight: 600;
            margin-bottom: 4px;
            color: #fff;
        }

        .menu-item-desc {
            font-size: 12px;
            color: rgba(255, 255, 255, 0.5);
        }

        .menu-item-arrow {
            color: rgba(255, 255, 255, 0.3);
            font-size: 18px;
            transition: transform 0.2s;
        }

        .menu-item:hover .menu-item-arrow {
            transform: translateX(5px);
            color: #FFD700;
        }

        .menu-footer {
            padding: 20px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            font-size: 11px;
            color: rgba(255, 255, 255, 0.3);
            text-align: center;
        }

        /* Referans Paneli - YENÄ° */
        .referral-panel {
            position: fixed;
            top: 0;
            right: -100%;
            width: 100%;
            max-width: 400px;
            height: 100vh;
            background: linear-gradient(165deg, rgba(30, 30, 50, 0.98), rgba(20, 20, 35, 0.98));
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            z-index: 2000;
            transition: right 0.25s cubic-bezier(0.2, 0.9, 0.3, 1.1);
            padding: 20px;
            overflow-y: auto;
            border-left: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: -5px 0 30px rgba(0, 0, 0, 0.5);
        }

        .referral-panel.active {
            right: 0;
        }

        /* Referans KartÄ± */
        .referral-card {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 18px;
            padding: 20px;
            margin-top: 20px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }

        .referral-title {
            font-size: 22px;
            font-weight: 700;
            text-align: center;
            margin-bottom: 20px;
            background: linear-gradient(135deg, #FFD700, #FFA500);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .referral-row {
            display: flex;
            align-items: center;
            justify-content: space-between;
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 14px;
            padding: 12px 16px;
            margin-bottom: 15px;
        }

        .referral-label {
            font-size: 13px;
            color: rgba(255, 255, 255, 0.7);
        }

        .referral-value {
            font-size: 14px;
            font-weight: 600;
            color: #fff;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .referral-copy-btn {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 8px;
            padding: 4px 8px;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .referral-copy-btn:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        .referral-copy-btn:active {
            transform: scale(0.95);
        }

        .referral-copy-btn svg {
            width: 18px;
            height: 18px;
            stroke: #fff;
        }

        .referral-stats {
            background: rgba(0, 255, 150, 0.05);
            border: 1px solid rgba(0, 255, 150, 0.3);
            border-radius: 16px;
            padding: 16px;
            margin: 20px 0;
            text-align: center;
        }

        .referral-stats-value {
            font-size: 32px;
            font-weight: 700;
            color: #00ff96;
            margin-bottom: 5px;
        }

        .referral-stats-label {
            font-size: 13px;
            color: rgba(255, 255, 255, 0.6);
        }

        .referral-share-btn {
            width: 100%;
            padding: 16px;
            background: linear-gradient(135deg, #1DA1F2, #0d8bd9);
            border: none;
            border-radius: 16px;
            color: white;
            font-weight: 700;
            font-size: 16px;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .referral-share-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(29, 161, 242, 0.4);
        }

        .referral-share-btn:active {
            transform: scale(0.95);
        }

        .referral-share-btn svg {
            width: 20px;
            height: 20px;
            fill: white;
        }

        .copy-toast {
            position: fixed;
            bottom: 100px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0, 255, 150, 0.9);
            color: #1a1a2e;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 13px;
            font-weight: 600;
            z-index: 10000;
            animation: toastFade 0.3s ease-out;
        }

        @keyframes toastFade {
            0% {
                opacity: 0;
                transform: translate(-50%, 20px);
            }
            100% {
                opacity: 1;
                transform: translate(-50%, 0);
            }
        }

        /* Roadmap Paneli */
        .roadmap-panel {
            position: fixed;
            top: 0;
            right: -100%;
            width: 100%;
            max-width: 480px;
            height: 100vh;
            background: linear-gradient(165deg, rgba(20, 20, 35, 0.98), rgba(15, 15, 25, 0.98));
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            z-index: 2000;
            transition: right 0.3s cubic-bezier(0.2, 0.9, 0.3, 1.1);
            overflow-y: auto;
            border-left: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: -5px 0 30px rgba(0, 0, 0, 0.5);
        }

        .roadmap-panel.active {
            right: 0;
        }

        .panel-header {
            position: sticky;
            top: 0;
            background: rgba(20, 20, 35, 0.95);
            backdrop-filter: blur(10px);
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 20px 24px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            z-index: 10;
        }

        .panel-title {
            font-size: 24px;
            font-weight: 700;
            background: linear-gradient(135deg, #FFD700, #FFA500);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .panel-close {
            width: 40px;
            height: 40px;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .panel-close:active {
            transform: scale(0.9);
            background: rgba(255, 255, 255, 0.2);
        }

        .panel-content {
            padding: 24px;
        }

        /* Status Card */
        .status-card {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3);
        }

        .status-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 16px;
            margin-bottom: 16px;
        }

        .status-item {
            display: flex;
            flex-direction: column;
            gap: 6px;
        }

        .status-label {
            font-size: 11px;
            color: rgba(255, 255, 255, 0.5);
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .status-value {
            font-size: 15px;
            font-weight: 600;
            color: #fff;
        }

        .status-value.highlight {
            color: #00ff96;
        }

        .status-description {
            font-size: 13px;
            color: rgba(255, 255, 255, 0.7);
            line-height: 1.5;
            padding-top: 12px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }

        /* Timeline */
        .timeline {
            position: relative;
            margin: 20px 0 30px 0;
        }

        .timeline-line {
            position: absolute;
            left: 20px;
            top: 0;
            bottom: 0;
            width: 2px;
            background: linear-gradient(180deg, #00ff96, #FFD700, #ffaa00, #0096ff);
            border-radius: 2px;
            opacity: 0.3;
        }

        .timeline-item {
            position: relative;
            padding-left: 60px;
            margin-bottom: 30px;
        }

        .timeline-marker {
            position: absolute;
            left: 12px;
            top: 0;
            width: 16px;
            height: 16px;
            border-radius: 50%;
            background: #1a1a2e;
            border: 3px solid;
            z-index: 2;
        }

        .timeline-marker.completed {
            border-color: #00ff96;
            box-shadow: 0 0 15px #00ff96;
        }

        .timeline-marker.in-progress {
            border-color: #FFD700;
            box-shadow: 0 0 15px #FFD700;
            animation: pulse 2s infinite;
        }

        .timeline-marker.planned {
            border-color: #ffaa00;
        }

        .timeline-marker.future {
            border-color: #0096ff;
        }

        @keyframes pulse {
            0%, 100% { box-shadow: 0 0 15px #FFD700; }
            50% { box-shadow: 0 0 25px #FFD700; }
        }

        .timeline-content {
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 16px;
            padding: 16px;
        }

        .timeline-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 12px;
        }

        .timeline-phase {
            font-size: 16px;
            font-weight: 700;
            color: #fff;
        }

        .timeline-status {
            font-size: 11px;
            padding: 4px 12px;
            border-radius: 20px;
            background: rgba(255, 255, 255, 0.1);
            color: rgba(255, 255, 255, 0.8);
        }

        .timeline-status.completed {
            background: rgba(0, 255, 150, 0.2);
            color: #00ff96;
        }

        .timeline-status.in-progress {
            background: rgba(255, 215, 0, 0.2);
            color: #FFD700;
        }

        .timeline-items {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 8px;
        }

        .timeline-item-feature {
            display: flex;
            align-items: center;
            gap: 6px;
            font-size: 12px;
            color: rgba(255, 255, 255, 0.8);
        }

        .feature-dot {
            width: 6px;
            height: 6px;
            border-radius: 50%;
            background: currentColor;
        }

        /* Transparency Note */
        .transparency-note {
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 16px;
            padding: 16px;
            margin-top: 30px;
            font-size: 13px;
            color: rgba(255, 255, 255, 0.6);
            text-align: center;
            font-style: italic;
        }

        /* DiÄŸer Paneller */
        .support-panel, .sponsor-panel, .profile-panel, .leaderboard-panel {
            position: fixed;
            top: 0;
            right: -100%;
            width: 100%;
            max-width: 400px;
            height: 100vh;
            background: linear-gradient(165deg, rgba(30, 30, 50, 0.98), rgba(20, 20, 35, 0.98));
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            z-index: 2000;
            transition: right 0.25s cubic-bezier(0.2, 0.9, 0.3, 1.1);
            padding: 20px;
            overflow-y: auto;
            border-left: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: -5px 0 30px rgba(0, 0, 0, 0.5);
        }

        .support-panel.active, .sponsor-panel.active, .profile-panel.active, .leaderboard-panel.active {
            right: 0;
        }

        /* Profil Paneli - Sosyal Hesap KartÄ± */
        .social-card {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 18px;
            padding: 18px;
            margin-top: 20px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }

        .social-card-title {
            font-size: 16px;
            font-weight: 600;
            color: #FFD700;
            margin-bottom: 15px;
        }

        .social-info-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .social-info-label {
            font-size: 13px;
            color: rgba(255, 255, 255, 0.6);
        }

        .social-info-value {
            font-size: 13px;
            font-weight: 600;
            color: #fff;
        }

        .social-update-btn {
            width: 100%;
            padding: 14px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            border: none;
            border-radius: 14px;
            color: white;
            font-weight: 600;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.2s;
            margin-top: 15px;
        }

        .social-update-btn:active {
            transform: scale(0.95);
        }

        /* Form ElemanlarÄ± */
        .form-group {
            margin-bottom: 20px;
        }

        .form-label {
            font-size: 12px;
            color: rgba(255, 255, 255, 0.6);
            margin-bottom: 6px;
            display: block;
        }

        .form-input {
            width: 100%;
            padding: 14px 16px;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 16px;
            color: white;
            font-size: 14px;
            transition: all 0.2s;
        }

        .form-input:focus {
            outline: none;
            border-color: #00ff96;
            background: rgba(255, 255, 255, 0.08);
        }

        .form-input[readonly] {
            background: rgba(255, 255, 255, 0.02);
            color: rgba(255, 255, 255, 0.6);
            border-color: rgba(255, 255, 255, 0.05);
        }

        .form-textarea {
            width: 100%;
            padding: 14px 16px;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 16px;
            color: white;
            font-size: 14px;
            min-height: 120px;
            resize: vertical;
            font-family: inherit;
        }

        .form-textarea:focus {
            outline: none;
            border-color: #00ff96;
            background: rgba(255, 255, 255, 0.08);
        }

        .form-select {
            width: 100%;
            padding: 14px 16px;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 16px;
            color: white;
            font-size: 14px;
            cursor: pointer;
            appearance: none;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='none' stroke='white' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E");
            background-repeat: no-repeat;
            background-position: right 16px center;
        }

        .form-select option {
            background: #1a1a2e;
            color: white;
        }

        .form-select:focus {
            outline: none;
            border-color: #00ff96;
        }

        .submit-btn {
            width: 100%;
            padding: 16px;
            background: linear-gradient(135deg, #00ff96, #00cc66);
            border: none;
            border-radius: 20px;
            color: #1a1a2e;
            font-weight: 700;
            font-size: 16px;
            cursor: pointer;
            transition: all 0.2s;
            margin-top: 20px;
        }

        .submit-btn:active {
            transform: scale(0.95);
        }

        .submit-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        /* Sponsor KartÄ± */
        .sponsor-card {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            padding: 20px;
            margin-bottom: 20px;
            text-align: center;
        }

        .sponsor-icon {
            font-size: 48px;
            margin-bottom: 15px;
            color: #FFD700;
        }

        .sponsor-title {
            font-size: 20px;
            font-weight: 700;
            margin-bottom: 10px;
        }

        .sponsor-desc {
            font-size: 13px;
            color: rgba(255, 255, 255, 0.7);
            line-height: 1.5;
            margin-bottom: 20px;
        }

        /* Profil Paneli */
        .profile-avatar-large {
            width: 90px;
            height: 90px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 45px;
            margin: 0 auto 15px;
            border: 3px solid #FFD700;
            box-shadow: 0 0 30px rgba(255, 215, 0, 0.3);
        }

        .profile-field {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 16px;
            padding: 15px;
            margin-bottom: 15px;
        }

        .profile-field-label {
            font-size: 12px;
            color: rgba(255, 255, 255, 0.5);
            margin-bottom: 5px;
        }

        .profile-field-value {
            font-size: 18px;
            font-weight: 600;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .edit-name-btn {
            background: linear-gradient(135deg, #667eea, #764ba2);
            border: none;
            color: white;
            padding: 8px 16px;
            border-radius: 12px;
            font-size: 13px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
        }

        .edit-name-btn:active {
            transform: scale(0.95);
        }

        .copy-btn {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: white;
            padding: 6px 12px;
            border-radius: 10px;
            font-size: 12px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .copy-btn:active {
            background: rgba(255, 255, 255, 0.2);
        }

        .stats-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
            margin: 20px 0;
        }

        .stat-card {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 16px;
            padding: 15px;
            text-align: center;
        }

        .stat-value {
            font-size: 22px;
            font-weight: 700;
            color: #00ff96;
            margin-bottom: 5px;
        }

        .stat-label {
            font-size: 11px;
            color: rgba(255, 255, 255, 0.5);
        }

        /* Liderlik Tablosu */
        .leaderboard-item {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 14px;
            padding: 12px 15px;
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 12px;
            transition: all 0.2s;
        }

        .leaderboard-item.top-1 {
            background: rgba(255, 215, 0, 0.1);
            border-color: #FFD700;
            box-shadow: 0 0 20px rgba(255, 215, 0, 0.2);
        }

        .leaderboard-item.top-2 {
            background: rgba(192, 192, 192, 0.1);
            border-color: #C0C0C0;
            box-shadow: 0 0 20px rgba(192, 192, 192, 0.2);
        }

        .leaderboard-item.top-3 {
            background: rgba(205, 127, 50, 0.1);
            border-color: #CD7F32;
            box-shadow: 0 0 20px rgba(205, 127, 50, 0.2);
        }

        .leaderboard-rank {
            width: 35px;
            height: 35px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 16px;
        }

        .leaderboard-info {
            flex: 1;
        }

        .leaderboard-name {
            font-weight: 600;
            font-size: 14px;
            margin-bottom: 3px;
        }

        .leaderboard-coins {
            font-size: 12px;
            color: #00ff96;
        }

        /* Ä°sim DeÄŸiÅŸtirme ModalÄ± */
        .name-edit-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100vh;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(10px);
            z-index: 3000;
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.2s;
        }

        .name-edit-modal.active {
            opacity: 1;
            pointer-events: auto;
        }

        .name-edit-content {
            background: linear-gradient(165deg, rgba(30, 30, 50, 0.98), rgba(20, 20, 35, 0.98));
            border: 1px solid rgba(255, 215, 0, 0.3);
            border-radius: 24px;
            padding: 25px;
            width: 90%;
            max-width: 320px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.5);
        }

        .name-edit-title {
            font-size: 20px;
            font-weight: 700;
            margin-bottom: 15px;
            text-align: center;
            color: #FFD700;
        }

        .name-edit-input {
            width: 100%;
            padding: 15px;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 16px;
            color: white;
            font-size: 16px;
            margin-bottom: 15px;
        }

        .name-edit-input:focus {
            outline: none;
            border-color: #FFD700;
        }

        .name-edit-buttons {
            display: flex;
            gap: 10px;
        }

        .name-edit-button {
            flex: 1;
            padding: 14px;
            border: none;
            border-radius: 14px;
            font-weight: 600;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .name-edit-button.save {
            background: linear-gradient(135deg, #00ff96, #00cc66);
            color: #1a1a2e;
        }

        .name-edit-button.cancel {
            background: rgba(255, 255, 255, 0.1);
            color: white;
        }

        .name-edit-button:active {
            transform: scale(0.95);
        }

        /* Ana Container */
        .container {
            max-width: 480px;
            margin: 0 auto;
            padding: 20px;
            padding-bottom: 100px;
            min-height: 100vh;
            position: relative;
        }

        /* Ãœst Bilgi KartÄ± */
        .top-info {
            margin-top: 60px;
            text-align: center;
        }

        .coin-display {
            font-size: 48px;
            font-weight: bold;
            margin-bottom: 5px;
            text-shadow: 0 0 20px rgba(255, 215, 0, 0.5);
        }

        .coin-label {
            font-size: 18px;
            font-weight: bold;
            letter-spacing: 2px;
            color: #FFD700;
            margin-bottom: 15px;
        }

        /* Stat Cards */
        .stat-cards {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-bottom: 15px;
        }

        .stat-card {
            flex: 1;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            padding: 8px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            font-size: 12px;
            text-align: center;
        }

        .stat-value {
            font-size: 16px;
            font-weight: bold;
            margin-top: 3px;
        }

        /* Pasif KazanÃ§ KartÄ± */
        .passive-card {
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.2), rgba(118, 75, 162, 0.2));
            border-radius: 16px;
            padding: 10px 12px;
            margin-bottom: 15px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
        }

        .passive-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 6px;
        }

        .passive-title {
            font-size: 12px;
            opacity: 0.8;
        }

        .passive-amount {
            font-size: 18px;
            font-weight: bold;
            color: #00ff96;
        }

        .passive-progress {
            width: 100%;
            height: 4px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 2px;
            margin: 6px 0;
            overflow: hidden;
        }

        .passive-progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #00ff96, #00ccff);
            width: 0%;
            transition: width 0.3s;
        }

        .passive-buttons {
            display: flex;
            gap: 8px;
            margin-top: 8px;
        }

        .passive-button {
            flex: 1;
            padding: 8px 0;
            border: none;
            border-radius: 20px;
            font-weight: bold;
            font-size: 12px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .passive-button:active {
            transform: scale(0.95);
        }

        .passive-button.claim {
            background: linear-gradient(135deg, #00ff96, #00cc66);
            color: #1a1a2e;
        }

        .passive-button.claim:disabled {
            opacity: 0.3;
            background: rgba(255, 255, 255, 0.1);
            color: rgba(255, 255, 255, 0.3);
            cursor: not-allowed;
            transform: none;
        }

        .passive-button.x2 {
            background: linear-gradient(135deg, #FFD700, #FFA500);
            color: #1a1a2e;
            position: relative;
        }

        .passive-button.x2:disabled {
            opacity: 0.3;
            background: rgba(255, 255, 255, 0.1);
            color: rgba(255, 255, 255, 0.3);
            cursor: not-allowed;
            transform: none;
        }

        .x2-counter {
            position: absolute;
            top: -4px;
            right: -4px;
            background: #ff4444;
            color: white;
            border-radius: 20px;
            padding: 2px 5px;
            font-size: 9px;
            font-weight: bold;
        }

        .passive-time {
            font-size: 10px;
            opacity: 0.5;
            margin-top: 6px;
            text-align: center;
        }

        /* Energy Bar */
        .energy-section {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 12px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            margin-bottom: 25px;
        }

        .energy-bar-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 6px;
            font-size: 13px;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 4px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #00f260 0%, #0575e6 100%);
            transition: width 0.3s;
            border-radius: 4px;
        }

        /* Coin Button - YUVARLAK ve PATLAMA EFEKTLÄ° */
        .clicker-area {
            text-align: center;
            margin: 15px 0;
            position: relative;
        }

        .combo-display {
            position: absolute;
            top: -25px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(255, 215, 0, 0.2);
            padding: 4px 12px;
            border-radius: 16px;
            font-size: 12px;
            font-weight: bold;
            border: 2px solid #FFD700;
            opacity: 0;
            transition: opacity 0.2s;
            will-change: opacity;
        }

        .combo-display.visible {
            opacity: 1;
        }

        .coin-button {
            width: 253px;
            height: 253px;
            border: none;
            background: transparent;
            cursor: pointer;
            transition: transform 0.05s cubic-bezier(0.1, 0.9, 0.2, 1);
            will-change: transform;
            touch-action: manipulation;
            -webkit-tap-highlight-color: transparent;
            -webkit-user-select: none;
            user-select: none;
            box-shadow: 0 8px 20px rgba(255, 215, 0, 0.5);
            position: relative;
            border-radius: 50%;
            overflow: hidden;
            outline: none;
            display: inline-block;
        }

        .coin-button:active {
            transform: scale(0.92);
        }

        .coin-button img {
            width: 100%;
            height: 100%;
            object-fit: contain;
            pointer-events: none;
            -webkit-user-select: none;
            user-select: none;
            display: block;
        }

        /* Particle (Patlama) Efekti */
        .particle {
            position: absolute;
            width: 8px;
            height: 8px;
            background: #FFD700;
            border-radius: 50%;
            pointer-events: none;
            z-index: 1000;
            box-shadow: 0 0 15px #FFD700;
            animation: particle-animation 0.3s ease-out forwards;
            will-change: transform, opacity;
        }

        @keyframes particle-animation {
            0% {
                opacity: 1;
                transform: translate(0, 0) scale(1);
            }
            100% {
                opacity: 0;
                transform: translate(var(--tx), var(--ty)) scale(0.5);
            }
        }

        /* Floating Animation - OPTÄ°MÄ°ZE */
        .floating-text {
            position: absolute;
            font-size: 32px;
            font-weight: bold;
            pointer-events: none;
            animation: smooth-float 0.6s ease-out forwards;
            color: #FFD700;
            text-shadow: 0 0 20px #FFD700;
            z-index: 100;
            white-space: nowrap;
            will-change: transform, opacity;
        }

        @keyframes smooth-float {
            0% {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
            70% {
                opacity: 0.8;
                transform: translateY(-50px) scale(1.3);
            }
            100% {
                opacity: 0;
                transform: translateY(-80px) scale(1.5);
            }
        }

        /* Bottom Navigation */
        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: #0d0d0f;
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            padding: 8px 0;
            display: flex;
            justify-content: space-around;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 -5px 20px rgba(0, 0, 0, 0.3);
            z-index: 100;
        }

        .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 4px;
            cursor: pointer;
            transition: all 0.2s;
            padding: 8px 12px;
            border-radius: 10px;
            -webkit-tap-highlight-color: transparent;
            touch-action: manipulation;
        }

        .nav-item:active {
            transform: scale(0.95);
        }

        .nav-item.active {
            background: rgba(0, 200, 255, 0.1);
            box-shadow: 0 0 15px rgba(0, 200, 255, 0.5);
        }

        .nav-icon {
            width: 36px;
            height: 36px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .nav-icon img {
            width: 100%;
            height: 100%;
            object-fit: contain;
            pointer-events: none;
        }

        .nav-label {
            font-size: 10px;
            opacity: 0.8;
        }

        /* Screens */
        .screen {
            display: none;
        }

        .screen.active {
            display: block;
        }

        /* Modern Toast Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.5);
            z-index: 2000;
            align-items: center;
            justify-content: center;
        }

        .modal.active {
            display: flex;
        }

        .modal-content {
            background: rgba(30, 30, 50, 0.85);
            backdrop-filter: blur(15px);
            -webkit-backdrop-filter: blur(15px);
            padding: 20px 25px;
            border-radius: 18px;
            max-width: 280px;
            width: 80%;
            text-align: center;
            border: 1px solid rgba(0, 255, 150, 0.3);
            box-shadow: 0 10px 30px rgba(0, 255, 150, 0.2), 0 0 0 1px rgba(255, 255, 255, 0.05) inset;
            animation: modalPop 0.2s ease-out;
            position: relative;
        }

        @keyframes modalPop {
            0% {
                opacity: 0;
                transform: scale(0.95);
            }
            100% {
                opacity: 1;
                transform: scale(1);
            }
        }

        .modal-icon {
            font-size: 32px;
            margin-bottom: 8px;
            color: #00ff96;
            text-shadow: 0 0 15px #00ff96;
        }

        .modal-title {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 6px;
            color: #fff;
            letter-spacing: 0.5px;
        }

        .modal-message {
            font-size: 13px;
            line-height: 1.4;
            opacity: 0.9;
            color: #ddd;
        }

        /* Kartlar EkranÄ± */
        .cards-tabs {
            display: flex;
            gap: 8px;
            margin-bottom: 15px;
            overflow-x: auto;
            padding-bottom: 5px;
        }

        .tab-button {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: white;
            padding: 8px 16px;
            border-radius: 20px;
            cursor: pointer;
            white-space: nowrap;
            transition: all 0.3s;
            backdrop-filter: blur(10px);
            font-size: 12px;
            -webkit-tap-highlight-color: transparent;
            touch-action: manipulation;
        }

        .tab-button.active {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-color: transparent;
        }

        .cards-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
        }

        .card-item {
            background: rgba(255, 255, 255, 0.1);
            padding: 12px;
            border-radius: 12px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            display: flex;
            flex-direction: column;
            gap: 8px;
            min-height: 260px;
            position: relative;
        }

        .card-item.locked {
            opacity: 0.6;
            filter: grayscale(0.5);
        }

        .card-lock-overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.7);
            border-radius: 12px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 2;
            backdrop-filter: blur(2px);
        }

        .lock-icon {
            font-size: 28px;
            margin-bottom: 6px;
        }

        .lock-text {
            font-size: 10px;
            text-align: center;
            padding: 0 8px;
        }

        .card-icon {
            width: 100%;
            height: 80px;
            border-radius: 8px;
            object-fit: cover;
            flex-shrink: 0;
            background: rgba(255, 255, 255, 0.1);
            pointer-events: none;
        }

        .card-details {
            flex: 1;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }

        .card-name {
            font-weight: bold;
            margin-bottom: 4px;
            font-size: 13px;
        }

        .card-profit {
            font-size: 12px;
            color: #FFD700;
            margin-bottom: 4px;
        }

        .card-level-badge {
            background: rgba(255, 215, 0, 0.2);
            padding: 2px 5px;
            border-radius: 4px;
            font-size: 9px;
            display: inline-block;
        }

        .card-cost {
            font-size: 11px;
            opacity: 0.6;
            display: block;
            margin-bottom: 4px;
        }

        .buy-card-button {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 8px 10px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
            white-space: nowrap;
            font-size: 12px;
            width: 100%;
            -webkit-tap-highlight-color: transparent;
            touch-action: manipulation;
        }

        .buy-card-button:disabled {
            background: rgba(255, 255, 255, 0.2);
            cursor: not-allowed;
        }

        /* Profil EkranÄ± (Oyun iÃ§i) */
        .profile-header {
            text-align: center;
            margin-bottom: 25px;
        }

        .profile-avatar {
            width: 70px;
            height: 70px;
            border-radius: 50%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 35px;
            margin: 0 auto 12px;
            border: 3px solid rgba(255, 255, 255, 0.3);
        }

        .profile-name {
            font-size: 22px;
            font-weight: bold;
            margin-bottom: 4px;
        }

        .profile-id {
            font-size: 13px;
            opacity: 0.6;
        }

        .profile-stats {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
            margin-bottom: 15px;
        }

        .profile-stat-card {
            background: rgba(255, 255, 255, 0.1);
            padding: 15px;
            border-radius: 12px;
            text-align: center;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .profile-stat-value {
            font-size: 24px;
            font-weight: bold;
            margin-bottom: 4px;
        }

        .profile-stat-label {
            font-size: 11px;
            opacity: 0.7;
        }

        /* Madencilik KartlarÄ± Grid */
        .mining-cards-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
            margin-top: 15px;
        }

        .mining-card {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 14px;
            padding: 10px;
            backdrop-filter: blur(20px);
            border: 2px solid rgba(255, 255, 255, 0.2);
            display: flex;
            flex-direction: column;
            gap: 6px;
            transition: transform 0.2s, box-shadow 0.2s;
            position: relative;
        }

        .mining-card:active {
            transform: scale(0.98);
        }

        .mining-card-green {
            border-color: rgba(0, 255, 100, 0.5);
            box-shadow: 0 0 12px rgba(0, 255, 100, 0.2);
        }

        .mining-card-white {
            border-color: rgba(255, 255, 255, 0.5);
            box-shadow: 0 0 12px rgba(255, 255, 255, 0.2);
        }

        .mining-card-blue {
            border-color: rgba(50, 150, 255, 0.5);
            box-shadow: 0 0 12px rgba(50, 150, 255, 0.2);
        }

        .mining-card-red {
            border-color: rgba(255, 50, 50, 0.5);
            box-shadow: 0 0 12px rgba(255, 50, 50, 0.2);
        }

        .mining-card-gold {
            border-color: rgba(255, 215, 0, 0.5);
            box-shadow: 0 0 12px rgba(255, 215, 0, 0.3);
        }

        .mining-status-badge {
            position: absolute;
            top: 6px;
            right: 6px;
            padding: 3px 8px;
            border-radius: 10px;
            font-size: 9px;
            font-weight: 600;
            z-index: 1;
        }

        .mining-status-active {
            background: rgba(0, 255, 150, 0.3);
            color: #00ff96;
            border: 1px solid rgba(0, 255, 150, 0.5);
        }

        .mining-status-ready {
            background: rgba(255, 165, 0, 0.3);
            color: #ffaa00;
            border: 1px solid rgba(255, 165, 0, 0.5);
        }

        .mining-card-image {
            width: 100%;
            height: 85px;
            object-fit: contain;
            border-radius: 8px;
            background: rgba(0, 0, 0, 0.2);
            margin-top: 15px;
            pointer-events: none;
        }

        .mining-card-details {
            flex: 1;
            display: flex;
            flex-direction: column;
            gap: 5px;
        }

        .mining-card-name {
            font-weight: 600;
            font-size: 12px;
            margin-bottom: 3px;
            opacity: 0.9;
        }

        .mining-info-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 10px;
        }

        .mining-label {
            opacity: 0.7;
        }

        .mining-value {
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 4px;
        }

        .mining-green {
            color: #00ff96;
        }

        .mining-gold {
            color: #FFD700;
        }

        .mining-price-row {
            margin-top: 3px;
            padding-top: 4px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }

        .mining-price-value {
            display: flex;
            align-items: center;
            gap: 4px;
            font-weight: 600;
            color: #FFD700;
        }

        .ton-icon {
            width: 16px;
            height: 16px;
            object-fit: contain;
        }

        .neon-icon {
            width: 16px;
            height: 16px;
            object-fit: contain;
            vertical-align: middle;
            display: inline-block;
        }

        .mining-countdown {
            background: rgba(0, 0, 0, 0.3);
            padding: 6px;
            border-radius: 6px;
            text-align: center;
            font-size: 10px;
        }

        .countdown-label {
            opacity: 0.7;
            margin-right: 4px;
        }

        .countdown-time {
            font-weight: 700;
            color: #00ffcc;
            font-size: 11px;
        }

        .buy-mining-card-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 8px 12px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            font-size: 12px;
            transition: all 0.2s;
            -webkit-tap-highlight-color: transparent;
            touch-action: manipulation;
        }

        .buy-mining-card-btn:disabled {
            background: rgba(255, 255, 255, 0.2);
            cursor: not-allowed;
        }

        .claim-mining-btn {
            background: linear-gradient(135deg, #ffaa00, #ff8800);
            color: #000000;
            border: none;
            padding: 8px 12px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            font-size: 12px;
            transition: all 0.2s;
            box-shadow: 0 0 15px rgba(255, 170, 0, 0.4);
        }

        /* Airdrop EkranÄ± */
        .airdrop-balance-card {
            background: rgba(0, 255, 150, 0.05);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid rgba(0, 255, 150, 0.3);
            border-radius: 18px;
            padding: 15px;
            margin-bottom: 15px;
            box-shadow: 0 0 25px rgba(0, 255, 150, 0.15);
        }

        .airdrop-claim-btn {
            background: linear-gradient(135deg, #00ffcc, #00cc66);
            border-radius: 14px;
            font-weight: 600;
            padding: 14px;
            border: none;
            color: #000000;
            width: 100%;
            font-size: 15px;
            cursor: not-allowed;
            font-family: inherit;
            opacity: 0.5;
        }

        .airdrop-info-card {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 14px;
            padding: 14px;
            margin-top: 15px;
        }

        /* Takas EkranÄ± */
        .swap-card {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 18px;
            padding: 12px;
            box-shadow: 0 8px 30px rgba(0, 0, 0, 0.4);
            margin-bottom: 14px;
        }

        .swap-input {
            background: transparent;
            border: none;
            font-size: 24px;
            font-weight: 700;
            color: #ffffff;
            outline: none;
            width: 100%;
            text-align: left;
            font-family: inherit;
        }

        .swap-input::placeholder {
            color: rgba(255, 255, 255, 0.25);
            font-weight: 600;
        }

        .swap-toggle {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            margin: 10px auto;
            background: linear-gradient(145deg, #00ffcc, #0077ff);
            box-shadow: 0 0 15px rgba(0, 255, 200, 0.6);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.4s ease;
            color: white;
        }

        .swap-toggle:hover {
            transform: rotate(180deg);
            box-shadow: 0 0 25px rgba(0, 255, 200, 0.8);
        }

        .swap-info {
            font-size: 11px;
            margin-top: 10px;
            margin-bottom: 14px;
            padding: 0 4px;
            text-align: center;
            opacity: 0.7;
        }

        .swap-confirm {
            background: linear-gradient(135deg, #00ffcc, #00cc66);
            border-radius: 14px;
            font-weight: 600;
            padding: 14px;
            box-shadow: 0 0 20px rgba(0, 255, 150, 0.6);
            transition: all 0.2s;
            border: none;
            color: #000000;
            width: 100%;
            font-size: 15px;
            cursor: pointer;
            font-family: inherit;
            -webkit-tap-highlight-color: transparent;
            touch-action: manipulation;
        }

        /* Madencilik Ãœst Bilgi KartÄ± */
        .mining-stats-card {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            padding: 12px;
            margin-bottom: 15px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .mining-stat-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .mining-stat-label {
            font-size: 13px;
            opacity: 0.8;
        }

        .mining-stat-value {
            font-size: 20px;
            font-weight: bold;
            color: #FFD700;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .mining-stat-value img {
            width: 22px;
            height: 22px;
            object-fit: contain;
        }

        .neontap-text {
            font-size: 13px;
            color: rgba(255, 255, 255, 0.6);
            margin-left: 4px;
        }

        /* Loading */
        .loading.hidden {
            display: none;
        }

        .loading-spinner {
            border: 4px solid rgba(255, 255, 255, 0.3);
            border-top: 4px solid #FFD700;
            border-radius: 50%;
            width: 45px;
            height: 45px;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <!-- GERÃ‡EK LOADING EKRANI -->
    <div class="loading-screen" id="loadingScreen">
        <div class="loading-content">
            <div class="loading-logo">
                <img src="assets/icons/1000010731-removebg-preview.png" alt="GO Coin">
            </div>
            <div class="loading-percent" id="loadingPercent">0%</div>
            <div class="loading-progress-container">
                <div class="loading-progress-bar" id="loadingProgressBar" style="width: 0%;"></div>
            </div>
            <div class="loading-text">YÃœKLENÄ°YOR...</div>
            <div class="loading-subtext" id="loadingSubtext">GÃ¶rseller yÃ¼kleniyor</div>
        </div>
    </div>

    <!-- YÃ¼kleme EkranÄ± (eski) -->
    <div class="loading" id="loading" style="display: none;">
        <div class="loading-spinner"></div>
    </div>

    <!-- Header Version -->
    <div class="header-version" id="headerVersion">
        NeonTap <span>v1.2.0</span>
    </div>

    <!-- Hamburger MenÃ¼ Toggle -->
    <div class="menu-toggle" id="menuToggle">
        <span></span>
        <span></span>
        <span></span>
    </div>

    <!-- ========== GÃ–REV BUTONU ========== -->
    <div class="quest-button" id="questButton" onclick="handleQuestButtonClick()">
        <img src="assets/icons/1000011085-removebg-preview.png" alt="GÃ¶revler">
        <div class="quest-red-dot" id="questRedDot"></div>
    </div>

    <!-- Hesap Bilgileri ModalÄ± -->
    <div class="account-modal-overlay" id="accountModal">
        <div class="account-modal">
            <div class="account-modal-title">Hesap Bilgilerini Gir</div>
            
            <div class="account-modal-input-group">
                <label class="account-modal-label">X KullanÄ±cÄ± AdÄ±</label>
                <input type="text" class="account-modal-input" id="xUsername" placeholder="@kullaniciadi">
                <div class="account-modal-error" id="xUsernameError"></div>
            </div>

            <div class="account-modal-input-group">
                <label class="account-modal-label">Telegram KullanÄ±cÄ± AdÄ±</label>
                <input type="text" class="account-modal-input" id="telegramUsername" placeholder="@kullaniciadi">
                <div class="account-modal-error" id="telegramUsernameError"></div>
            </div>

            <button class="account-modal-button" onclick="saveAccountInfo()">KAYDET</button>
        </div>
    </div>

    <!-- GÃ¶rev Paneli -->
    <div class="quest-panel" id="questPanel">
        <div class="quest-panel-header">
            <div class="quest-panel-title">ðŸŽ¯ GÃ¶rev Merkezi</div>
            <div class="quest-panel-close" onclick="closeQuestPanel()">âœ•</div>
        </div>
        
        <div class="quest-subtitle">
            Sosyal gÃ¶revleri tamamla, NeonTap coin kazan.
        </div>

        <!-- UyarÄ± Kutusu -->
        <div class="quest-warning">
            <span class="quest-warning-icon">âš ï¸</span>
            <span class="quest-warning-text">
                GÃ¶revler manuel olarak incelenmektedir. LÃ¼tfen gÃ¶revleri eksiksiz ve doÄŸru ÅŸekilde tamamladÄ±ÄŸÄ±nÄ±zdan emin olun. Onay sonrasÄ± CLAIM butonu aktif olacaktÄ±r.
            </span>
        </div>

        <!-- Telegram GÃ¶revi -->
        <div class="quest-card" id="questTelegram">
            <div class="quest-card-header">
                <img src="assets/icons/1000011087-removebg-preview.png" alt="Telegram" class="quest-icon">
                <span class="quest-title">Telegram KanalÄ±na KatÄ±l</span>
                <div class="quest-reward">
                    <span class="quest-reward-value">+50</span>
                    <img src="assets/icons/1000010729-removebg-preview.png" alt="NeonTap" class="quest-reward-icon">
                </div>
            </div>
            <div class="quest-description">
                Resmi Telegram kanalÄ±mÄ±za katÄ±l, gÃ¼ncellemelerden haberdar ol.
            </div>
            <div class="quest-actions" id="questTelegramActions">
                <!-- Dinamik olarak doldurulacak -->
            </div>
        </div>

        <!-- X (Twitter) GÃ¶revi -->
        <div class="quest-card" id="questX">
            <div class="quest-card-header">
                <img src="assets/icons/images (1).png" alt="X" class="quest-icon">
                <span class="quest-title">X HesabÄ±nÄ± Takip Et</span>
                <div class="quest-reward">
                    <span class="quest-reward-value">+50</span>
                    <img src="assets/icons/1000010729-removebg-preview.png" alt="NeonTap" class="quest-reward-icon">
                </div>
            </div>
            <div class="quest-description">
                X'te bizi takip et, duyurularÄ± kaÃ§Ä±rma.
            </div>
            <div class="quest-actions" id="questXActions">
                <!-- Dinamik olarak doldurulacak -->
            </div>
        </div>
    </div>

    <!-- Yan MenÃ¼ Overlay -->
    <div class="side-menu-overlay" id="menuOverlay"></div>

    <!-- Profesyonel Hamburger MenÃ¼ -->
    <div class="side-menu" id="sideMenu">
        <div class="menu-header">
            <h2>GO Coin Game</h2>
            <p>v1.0.0 â€¢ Premium</p>
        </div>
        <div class="menu-content">
            <div class="menu-item" onclick="openProfilePanel()">
                <div class="menu-item-icon">ðŸ‘¤</div>
                <div class="menu-item-text">
                    <div class="menu-item-title">Profilim</div>
                    <div class="menu-item-desc">Hesap bilgileri, ID</div>
                </div>
                <div class="menu-item-arrow">â†’</div>
            </div>
            <div class="menu-item" onclick="openLeaderboardPanel()">
                <div class="menu-item-icon">ðŸ†</div>
                <div class="menu-item-text">
                    <div class="menu-item-title">Liderlik Tablosu</div>
                    <div class="menu-item-desc">En Ã§ok NeonTap kazananlar</div>
                </div>
                <div class="menu-item-arrow">â†’</div>
            </div>
            <!-- Referans sekmesi - ARTIK PROFÄ°LE ATMÄ°YOR -->
            <div class="menu-item" onclick="openReferralPanel()">
                <div class="menu-item-icon">ðŸ‘¥</div>
                <div class="menu-item-text">
                    <div class="menu-item-title">Referans</div>
                    <div class="menu-item-desc">Davet et, bonus kazan</div>
                </div>
                <div class="menu-item-arrow">â†’</div>
            </div>
            <div class="menu-item" onclick="openRoadmapPanel()">
                <div class="menu-item-icon">ðŸ“</div>
                <div class="menu-item-text">
                    <div class="menu-item-title">Roadmap</div>
                    <div class="menu-item-desc">GeliÅŸtirme planÄ± ve yenilikler</div>
                </div>
                <div class="menu-item-arrow">â†’</div>
            </div>
            <div class="menu-item" onclick="openSupportPanel()">
                <div class="menu-item-icon">ðŸ› </div>
                <div class="menu-item-text">
                    <div class="menu-item-title">Destek</div>
                    <div class="menu-item-desc">Teknik destek ve geri bildirim</div>
                </div>
                <div class="menu-item-arrow">â†’</div>
            </div>
            <div class="menu-item" onclick="openSponsorPanel()">
                <div class="menu-item-icon">ðŸ“¢</div>
                <div class="menu-item-text">
                    <div class="menu-item-title">Sponsor / Reklam</div>
                    <div class="menu-item-desc">NeonTap'te reklam verin</div>
                </div>
                <div class="menu-item-arrow">â†’</div>
            </div>
        </div>
        <div class="menu-footer">
            Â© 2026 GO Coin Game
        </div>
    </div>

    <!-- Referans Paneli - YENÄ° -->
    <div class="referral-panel" id="referralPanel">
        <div class="panel-header">
            <div class="panel-title">ðŸ‘¥ Referans Sistemi</div>
            <div class="panel-close" onclick="closeReferralPanel()">âœ•</div>
        </div>

        <div class="referral-card">
            <div class="referral-title">Referans Kodun</div>
            
            <div class="referral-row">
                <span class="referral-label">Kod:</span>
                <div class="referral-value">
                    <span id="referralCodeDisplay">GO-123456</span>
                    <div class="referral-copy-btn" onclick="copyToClipboard('referralCodeDisplay')">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
                            <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
                        </svg>
                    </div>
                </div>
            </div>

            <div class="referral-row">
                <span class="referral-label">Link:</span>
                <div class="referral-value">
                    <span id="referralLinkDisplay">https://neontap.com/?ref=GO-123456</span>
                    <div class="referral-copy-btn" onclick="copyToClipboard('referralLinkDisplay')">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
                            <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
                        </svg>
                    </div>
                </div>
            </div>

            <div class="referral-stats">
                <div class="referral-stats-value" id="referralCountDisplay">0</div>
                <div class="referral-stats-label">Toplam Referans</div>
            </div>

            <button class="referral-share-btn" onclick="shareOnX()">
                <svg viewBox="0 0 24 24">
                    <path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"/>
                </svg>
                X'te PaylaÅŸ
            </button>
        </div>
    </div>

    <!-- Roadmap Paneli -->
    <div class="roadmap-panel" id="roadmapPanel">
        <div class="panel-header">
            <div class="panel-title">ðŸ“ NeonTap Development Roadmap</div>
            <div class="panel-close" onclick="closeRoadmapPanel()">âœ•</div>
        </div>
        
        <div class="panel-content">
            <div class="roadmap-subtitle">
                NeonTap ÅŸu anda aktif geliÅŸtirme ve test aÅŸamasÄ±ndadÄ±r. AÅŸaÄŸÄ±daki takvim planlanan geliÅŸtirme sÃ¼recini gÃ¶stermektedir.
            </div>

            <div class="section-title">CURRENT STATUS</div>
            
            <div class="status-card">
                <div class="status-grid">
                    <div class="status-item">
                        <span class="status-label">Project Stage</span>
                        <span class="status-value highlight">Beta Testing</span>
                    </div>
                    <div class="status-item">
                        <span class="status-label">Version</span>
                        <span class="status-value">v1.2.0</span>
                    </div>
                    <div class="status-item">
                        <span class="status-label">Economy Status</span>
                        <span class="status-value highlight">Active</span>
                    </div>
                    <div class="status-item">
                        <span class="status-label">Token Status</span>
                        <span class="status-value">Not Released</span>
                    </div>
                    <div class="status-item">
                        <span class="status-label">Platform</span>
                        <span class="status-value">Web</span>
                    </div>
                </div>
                <div class="status-description">
                    NeonTap ÅŸu anda beta test sÃ¼recindedir. Oyun ekonomisi ve sistem dengesi optimize edilmektedir. Token lansmanÄ± ilerleyen fazlarda deÄŸerlendirilecektir.
                </div>
            </div>

            <div class="section-title">DEVELOPMENT PHASES</div>
            
            <div class="timeline">
                <div class="timeline-line"></div>
                
                <div class="timeline-item">
                    <div class="timeline-marker completed"></div>
                    <div class="timeline-content">
                        <div class="timeline-header">
                            <span class="timeline-phase">PHASE 1 â€” Core Infrastructure</span>
                            <span class="timeline-status completed">Completed</span>
                        </div>
                        <div class="timeline-items">
                            <div class="timeline-item-feature"><span class="feature-dot" style="color: #00ff96;"></span> Tap System</div>
                            <div class="timeline-item-feature"><span class="feature-dot" style="color: #00ff96;"></span> Passive Income</div>
                            <div class="timeline-item-feature"><span class="feature-dot" style="color: #00ff96;"></span> Referral System</div>
                            <div class="timeline-item-feature"><span class="feature-dot" style="color: #00ff96;"></span> Leaderboard</div>
                            <div class="timeline-item-feature"><span class="feature-dot" style="color: #00ff96;"></span> Support System</div>
                        </div>
                    </div>
                </div>

                <div class="timeline-item">
                    <div class="timeline-marker in-progress"></div>
                    <div class="timeline-content">
                        <div class="timeline-header">
                            <span class="timeline-phase">PHASE 2 â€” System Expansion</span>
                            <span class="timeline-status in-progress">In Progress</span>
                        </div>
                        <div class="timeline-items">
                            <div class="timeline-item-feature"><span class="feature-dot" style="color: #FFD700;"></span> Daily Missions</div>
                            <div class="timeline-item-feature"><span class="feature-dot" style="color: #FFD700;"></span> Upgrade Market</div>
                            <div class="timeline-item-feature"><span class="feature-dot" style="color: #FFD700;"></span> League System</div>
                            <div class="timeline-item-feature"><span class="feature-dot" style="color: #FFD700;"></span> Critical Tap Mechanics</div>
                            <div class="timeline-item-feature"><span class="feature-dot" style="color: #FFD700;"></span> UI Polish</div>
                        </div>
                    </div>
                </div>

                <div class="timeline-item">
                    <div class="timeline-marker planned"></div>
                    <div class="timeline-content">
                        <div class="timeline-header">
                            <span class="timeline-phase">PHASE 3 â€” Platform Scaling</span>
                            <span class="timeline-status">Planned</span>
                        </div>
                        <div class="timeline-items">
                            <div class="timeline-item-feature"><span class="feature-dot" style="color: #ffaa00;"></span> Global Leaderboard</div>
                            <div class="timeline-item-feature"><span class="feature-dot" style="color: #ffaa00;"></span> Backend Migration</div>
                            <div class="timeline-item-feature"><span class="feature-dot" style="color: #ffaa00;"></span> Admin Dashboard Advanced Controls</div>
                            <div class="timeline-item-feature"><span class="feature-dot" style="color: #ffaa00;"></span> Anti-Cheat System</div>
                        </div>
                    </div>
                </div>

                <div class="timeline-item">
                    <div class="timeline-marker future"></div>
                    <div class="timeline-content">
                        <div class="timeline-header">
                            <span class="timeline-phase">PHASE 4 â€” Token & Ecosystem</span>
                            <span class="timeline-status">Future Consideration</span>
                        </div>
                        <div class="timeline-items">
                            <div class="timeline-item-feature"><span class="feature-dot" style="color: #0096ff;"></span> Token Utility Model</div>
                            <div class="timeline-item-feature"><span class="feature-dot" style="color: #0096ff;"></span> Smart Contract Design</div>
                            <div class="timeline-item-feature"><span class="feature-dot" style="color: #0096ff;"></span> Audit Process</div>
                            <div class="timeline-item-feature"><span class="feature-dot" style="color: #0096ff;"></span> Exchange Listing Evaluation</div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="transparency-note">
                NeonTap uzun vadeli geliÅŸtirilen bir dijital oyun projesidir. GÃ¼ncellemeler aÅŸamalÄ± olarak yayÄ±nlanmaktadÄ±r.
            </div>
        </div>
    </div>

    <!-- Destek Paneli -->
    <div class="support-panel" id="supportPanel">
        <div class="panel-header">
            <div class="panel-title">ðŸ›  Destek</div>
            <div class="panel-close" onclick="closeSupportPanel()">âœ•</div>
        </div>

        <form id="supportForm" onsubmit="submitSupportTicket(event)">
            <div class="form-group">
                <label class="form-label">Oyuncu ID</label>
                <input type="text" class="form-input" id="supportPlayerId" readonly value="">
            </div>

            <div class="form-group">
                <label class="form-label">Kategori</label>
                <select class="form-select" id="supportCategory" required>
                    <option value="" disabled selected>Kategori seÃ§in</option>
                    <option value="technical">Teknik Sorun</option>
                    <option value="payment">Ã–deme / Coin Sorunu</option>
                    <option value="account">Hesap Sorunu</option>
                    <option value="feedback">Geri Bildirim</option>
                    <option value="other">DiÄŸer</option>
                </select>
            </div>

            <div class="form-group">
                <label class="form-label">MesajÄ±nÄ±z</label>
                <textarea class="form-textarea" id="supportMessage" placeholder="Åžikayet, geri bildirim veya destek talebinizi buraya yazÄ±n..." minlength="10" required></textarea>
            </div>

            <button type="submit" class="submit-btn">GÃ¶nder</button>
        </form>
    </div>

    <!-- Sponsor/Reklam Paneli -->
    <div class="sponsor-panel" id="sponsorPanel">
        <div class="panel-header">
            <div class="panel-title">ðŸ“¢ Sponsor / Reklam</div>
            <div class="panel-close" onclick="closeSponsorPanel()">âœ•</div>
        </div>

        <div class="sponsor-card">
            <div class="sponsor-icon">ðŸ“¢</div>
            <div class="sponsor-title">NeonTap'te Reklam Verin</div>
            <div class="sponsor-desc">
                NeonTap aktif bÃ¼yÃ¼yen bir platformdur. Sponsor olmak iÃ§in baÅŸvuru yapabilirsiniz.
            </div>
        </div>

        <form id="sponsorForm" onsubmit="submitSponsorRequest(event)">
            <div class="form-group">
                <label class="form-label">Åžirket / Proje AdÄ±</label>
                <input type="text" class="form-input" id="sponsorCompany" placeholder="Åžirket veya proje adÄ±" required>
            </div>

            <div class="form-group">
                <label class="form-label">Ä°letiÅŸim E-posta</label>
                <input type="email" class="form-input" id="sponsorEmail" placeholder="ornek@firma.com" required>
            </div>

            <div class="form-group">
                <label class="form-label">Reklam TÃ¼rÃ¼</label>
                <select class="form-select" id="sponsorType" required>
                    <option value="" disabled selected>Reklam tÃ¼rÃ¼ seÃ§in</option>
                    <option value="banner">Banner</option>
                    <option value="event">Ã–zel Etkinlik SponsorluÄŸu</option>
                    <option value="featured">Ã–ne Ã‡Ä±kan Proje</option>
                    <option value="other">DiÄŸer</option>
                </select>
            </div>

            <div class="form-group">
                <label class="form-label">MesajÄ±nÄ±z</label>
                <textarea class="form-textarea" id="sponsorMessage" placeholder="Reklam talebiniz hakkÄ±nda detaylÄ± bilgi..." required></textarea>
            </div>

            <button type="submit" class="submit-btn">BaÅŸvur</button>
        </form>
    </div>

    <!-- Profil Paneli -->
    <div class="profile-panel" id="profilePanel">
        <div class="panel-header">
            <div class="panel-title">ðŸ‘¤ Profilim</div>
            <div class="panel-close" onclick="closeProfilePanel()">âœ•</div>
        </div>
        
        <div class="profile-avatar-large" id="profileAvatar">ðŸ˜Š</div>
        
        <div class="profile-field">
            <div class="profile-field-label">Oyuncu ID</div>
            <div class="profile-field-value">
                <span id="playerId">#123456</span>
            </div>
        </div>
        
        <div class="profile-field">
            <div class="profile-field-label">Oyuncu AdÄ±</div>
            <div class="profile-field-value">
                <span id="playerName">Oyuncu</span>
                <button class="edit-name-btn" onclick="openNameEditModal()">Ä°smi DeÄŸiÅŸtir</button>
            </div>
        </div>
        
        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-value" id="totalNeonTap">0</div>
                <div class="stat-label">NeonTap Coin</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="referralCount">0</div>
                <div class="stat-label">Referans</div>
            </div>
        </div>

        <!-- Sosyal Hesap Bilgileri KartÄ± -->
        <div class="social-card">
            <div class="social-card-title">Sosyal Hesap Bilgileri</div>
            
            <div class="social-info-row">
                <span class="social-info-label">X KullanÄ±cÄ± AdÄ±</span>
                <span class="social-info-value" id="profileXUsername">-</span>
            </div>
            
            <div class="social-info-row">
                <span class="social-info-label">Telegram KullanÄ±cÄ± AdÄ±</span>
                <span class="social-info-value" id="profileTelegramUsername">-</span>
            </div>

            <button class="social-update-btn" onclick="openAccountModal(true)">GÃ¼ncelle</button>
        </div>
    </div>

    <!-- Liderlik Tablosu Paneli -->
    <div class="leaderboard-panel" id="leaderboardPanel">
        <div class="panel-header">
            <div class="panel-title">ðŸ† Liderlik</div>
            <div class="panel-close" onclick="closeLeaderboardPanel()">âœ•</div>
        </div>
        
        <div id="leaderboardContainer" style="margin-top: 20px;">
            <!-- Liderlik tablosu JavaScript ile doldurulacak -->
        </div>
    </div>

    <!-- Ä°sim DeÄŸiÅŸtirme ModalÄ± -->
    <div class="name-edit-modal" id="nameEditModal">
        <div class="name-edit-content">
            <div class="name-edit-title">Ä°smini DeÄŸiÅŸtir</div>
            <input type="text" class="name-edit-input" id="nameInput" maxlength="16" placeholder="Yeni isim...">
            <div class="name-edit-buttons">
                <button class="name-edit-button cancel" onclick="closeNameEditModal()">Ä°ptal</button>
                <button class="name-edit-button save" onclick="saveName()">Kaydet</button>
            </div>
        </div>
    </div>

    <!-- Modern Toast Modal -->
    <div class="modal" id="modal">
        <div class="modal-content">
            <div class="modal-icon" id="modalIcon">âœ…</div>
            <div class="modal-title" id="modalTitle"></div>
            <div class="modal-message" id="modalMessage"></div>
        </div>
    </div>

    <!-- Ana Container (Oyun) -->
    <div class="container">
        <!-- Ana Ekran -->
        <div class="screen active" id="home-screen">
            <div class="top-info">
                <div class="coin-display" id="coin-count">0</div>
                <div class="coin-label">GO COIN</div>
            </div>

            <!-- Pasif KazanÃ§ KartÄ± -->
            <div class="passive-card">
                <div class="passive-header">
                    <span class="passive-title">Pasif KazanÃ§</span>
                    <span class="passive-amount" id="passive-amount">0 GO</span>
                </div>
                <div class="passive-progress">
                    <div class="passive-progress-fill" id="passive-progress" style="width: 0%;"></div>
                </div>
                <div class="passive-buttons">
                    <button class="passive-button x2" id="x2-button" onclick="claimPassiveWithAd()" disabled>
                        2X
                        <span class="x2-counter" id="x2-counter">6</span>
                    </button>
                    <button class="passive-button claim" id="claim-button" onclick="claimPassive()" disabled>
                        CLAIM
                    </button>
                </div>
                <div class="passive-time" id="passive-time"></div>
            </div>

            <div class="stat-cards">
                <div class="stat-card">
                    <span class="stat-value" id="profit-per-hour">0</span>/s
                </div>
            </div>

            <!-- Enerji BarÄ± -->
            <div class="energy-section">
                <div class="energy-bar-container">
                    <span>âš¡ Enerji</span>
                    <span id="energy-display">500 / 500</span>
                </div>
                <div class="progress-bar">
                    <div class="progress-fill" id="energy-fill" style="width: 100%;"></div>
                </div>
            </div>

            <div class="clicker-area">
                <div class="combo-display" id="combo-display">COMBO X<span id="combo-multiplier">1</span></div>
                <button class="coin-button" id="coin-button">
                    <img src="assets/icons/1000010731-removebg-preview.png" alt="GO Coin">
                </button>
            </div>
        </div>

        <!-- Kartlar EkranÄ± -->
        <div class="screen" id="cards-screen">
            <div class="modal-title" style="margin: 15px 0;">Kartlar</div>
            
            <div class="cards-tabs">
                <button class="tab-button active" onclick="showCardCategory('profession')">Profesyon</button>
                <button class="tab-button" onclick="showCardCategory('companies')">Åžirketler</button>
                <button class="tab-button" onclick="showCardCategory('technology')">Teknoloji</button>
            </div>

            <!-- Profesyon KartlarÄ± -->
            <div class="cards-grid" id="profession-cards">
                <!-- Kartlar JavaScript ile dinamik doldurulacak -->
            </div>

            <!-- Åžirketler KartlarÄ± -->
            <div class="cards-grid" id="companies-cards" style="display: none;">
                <!-- Kartlar JavaScript ile dinamik doldurulacak -->
            </div>

            <!-- Teknoloji KartlarÄ± -->
            <div class="cards-grid" id="technology-cards" style="display: none;">
                <!-- Kartlar JavaScript ile dinamik doldurulacak -->
            </div>
        </div>

        <!-- Madencilik KartlarÄ± EkranÄ± -->
        <div class="screen" id="mining-screen">
            <div class="modal-title" style="margin: 15px 0;">Madencilik KartlarÄ±</div>
            
            <div style="padding: 15px;">
                <!-- Madencilik Bilgi KartÄ± -->
                <div class="mining-stats-card">
                    <div class="mining-stat-item">
                        <span class="mining-stat-label">Saatlik KazanÃ§</span>
                        <span class="mining-stat-value" id="mining-hourly-earning">
                            0
                            <img src="assets/icons/1000010729-removebg-preview.png" alt="NeonTap" class="neon-icon">
                            <span class="neontap-text">NEONTAP</span>
                        </span>
                    </div>
                </div>

                <!-- Madencilik KartlarÄ± Grid -->
                <div class="mining-cards-grid" id="mining-cards-container">
                    <!-- Kartlar JavaScript ile dinamik olarak doldurulacak -->
                </div>
            </div>
        </div>

        <!-- Profil EkranÄ± (Oyun iÃ§i) -->
        <div class="screen" id="profile-screen">
            <div class="modal-title" style="margin: 15px 0;">ðŸ‘¤ Profil</div>
            <div class="profile-header">
                <div class="profile-avatar">ðŸ˜Š</div>
                <div class="profile-name" id="profile-name">Oyuncu</div>
                <div class="profile-id">ID: #<span id="profile-id">12345</span></div>
            </div>

            <div class="profile-stats">
                <div class="profile-stat-card">
                    <div class="profile-stat-value" id="profile-coins">0</div>
                    <div class="profile-stat-label">Toplam Coin</div>
                </div>
                <div class="profile-stat-card">
                    <div class="profile-stat-value" id="profile-level">1</div>
                    <div class="profile-stat-label">Level</div>
                </div>
                <div class="profile-stat-card">
                    <div class="profile-stat-value" id="profile-taps">0</div>
                    <div class="profile-stat-label">Toplam TÄ±klama</div>
                </div>
                <div class="profile-stat-card">
                    <div class="profile-stat-value" id="profile-cards">0</div>
                    <div class="profile-stat-label">SatÄ±n AlÄ±nan Kart</div>
                </div>
            </div>
        </div>

        <!-- Airdrop EkranÄ± -->
        <div class="screen" id="airdrop-screen">
            <div class="modal-title" style="margin: 15px 0;">Airdrop</div>
            
            <div style="padding: 15px; max-width: 420px; margin: 0 auto;">
                <div class="airdrop-balance-card">
                    <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 12px;">
                        <img src="assets/icons/1000010729-removebg-preview.png" alt="NeonTap" style="width: 36px; height: 36px; object-fit: contain;">
                        <div style="font-size: 16px; font-weight: 600; opacity: 0.9;">Toplam NeonTap</div>
                    </div>
                    <div style="font-size: 38px; font-weight: 700; color: #00ff96; margin-bottom: 10px;" id="airdrop-token-balance">0</div>
                    <div style="font-size: 12px; opacity: 0.6; line-height: 1.4;">
                        Takas, gÃ¶revler ve madencilikten kazanÄ±lan NeonTap Coinler
                    </div>
                </div>

                <button class="airdrop-claim-btn" disabled>Ã–dÃ¼l Talep Et</button>

                <div class="airdrop-info-card">
                    <div style="font-size: 14px; font-weight: 600; margin-bottom: 10px; opacity: 0.9;">
                        Airdrop Bilgilendirme
                    </div>
                    <div style="font-size: 13px; line-height: 1.5; opacity: 0.85;">
                        NeonTap Coin'leriniz takas, gÃ¶revler ve madencilik aktiviteleri sonucunda otomatik olarak biriktirilir.
                        <br><br>
                        Token resmi olarak listelendiÄŸinde ve airdrop sÃ¼reci baÅŸlatÄ±ldÄ±ÄŸÄ±nda, biriktirdiÄŸiniz NeonTap Coin'leri talep edebileceksiniz.
                    </div>
                </div>
            </div>
        </div>

        <!-- Takas EkranÄ± -->
        <div class="screen" id="trade-screen">
            <div class="modal-title" style="margin: 15px 0;">Takas</div>
            
            <div style="padding: 15px; max-width: 420px; margin: 0 auto;">
                <div class="swap-card">
                    <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 8px;">
                        <div style="display: flex; align-items: center; gap: 8px;">
                            <img src="assets/icons/1000010731-removebg-preview.png" alt="GO Coin" style="width: 24px; height: 24px; object-fit: contain;">
                            <div>
                                <div style="font-weight: 600; font-size: 16px;">GO Coin</div>
                                <div style="font-size: 11px; opacity: 0.6;">Bakiye: <span id="swap-from-balance">0</span></div>
                            </div>
                        </div>
                    </div>
                    <div style="display: flex; align-items: center; gap: 6px;">
                        <input type="number" class="swap-input" id="swap-from-input" placeholder="0" min="50000" step="1000" oninput="calculateSwapAmount()">
                        <div style="font-size: 14px; font-weight: 600; opacity: 0.5;">GO</div>
                    </div>
                    <div style="font-size: 11px; opacity: 0.6; margin-top: 6px;">Minimum: 50,000 GO</div>
                    <div id="swap-error-msg" style="font-size: 11px; color: #ff5555; margin-top: 5px; display: none;">Minimum 50,000 GO gerekli</div>
                </div>

                <div class="swap-toggle">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5">
                        <path d="M7 16V4M7 4L3 8M7 4L11 8"></path>
                        <path d="M17 8V20M17 20L21 16M17 20L13 16"></path>
                    </svg>
                </div>

                <div class="swap-card">
                    <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 8px;">
                        <div style="display: flex; align-items: center; gap: 8px;">
                            <img src="assets/icons/1000010729-removebg-preview.png" alt="NeonTap Token" style="width: 24px; height: 24px; object-fit: contain;">
                            <div>
                                <div style="font-weight: 600; font-size: 16px;">NeonTap Token</div>
                                <div style="font-size: 11px; opacity: 0.6;">AlÄ±nacak Miktar</div>
                            </div>
                        </div>
                    </div>
                    <div style="display: flex; align-items: center; gap: 6px;">
                        <input type="text" class="swap-input" id="swap-to-display" placeholder="0" readonly>
                        <div style="font-size: 14px; font-weight: 600; opacity: 0.5;">NEON</div>
                    </div>
                </div>

                <div class="swap-info">1 GO = 0.02 NEON â€¢ Fee 0% â€¢ Likidite: YÃ¼ksek</div>

                <button class="swap-confirm" id="swap-confirm-btn" onclick="executeTradeWithInput()">TakasÄ± Onayla</button>

                <div id="trade-status" style="margin-top: 12px; text-align: center; font-size: 13px;"></div>

                <div style="margin-top: 20px;">
                    <div style="font-size: 13px; font-weight: 600; margin-bottom: 10px; opacity: 0.7;">Ä°statistikler</div>
                    <div style="display: grid; gap: 6px;">
                        <div style="background: rgba(255, 255, 255, 0.05); padding: 8px 10px; border-radius: 8px; display: flex; justify-content: space-between; font-size: 12px;">
                            <span>Toplam Takas:</span> <span id="total-trades">0</span>
                        </div>
                        <div style="background: rgba(255, 255, 255, 0.05); padding: 8px 10px; border-radius: 8px; display: flex; justify-content: space-between; font-size: 12px;">
                            <span>Takas Edilen GO Coin:</span> <span style="color: #FFD700;" id="total-traded-gocoin">0</span>
                        </div>
                        <div style="background: rgba(255, 255, 255, 0.05); padding: 8px 10px; border-radius: 8px; display: flex; justify-content: space-between; font-size: 12px;">
                            <span>KazanÄ±lan NeonTap:</span> <span style="color: #00ff96;" id="total-earned-neontap">0</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Alt Navigasyon -->
    <div class="bottom-nav">
        <div class="nav-item active" data-screen="home" onclick="switchScreen('home')">
            <div class="nav-icon"><img src="assets/icons/IMG_20260212_212121.png" alt="Ana Sayfa"></div>
            <span class="nav-label">Ana Sayfa</span>
        </div>
        <div class="nav-item" data-screen="cards" onclick="switchScreen('cards')">
            <div class="nav-icon"><img src="assets/icons/icon_cards.png" alt="Kartlar"></div>
            <span class="nav-label">Kartlar</span>
        </div>
        <div class="nav-item" data-screen="mining" onclick="switchScreen('mining')">
            <div class="nav-icon"><img src="assets/icons/mining_hub_icon.png" alt="Madencilik"></div>
            <span class="nav-label">Madencilik</span>
        </div>
        <div class="nav-item" data-screen="airdrop" onclick="switchScreen('airdrop')">
            <div class="nav-icon"><img src="assets/icons/IMG_20260212_212059.png" alt="Airdrop"></div>
            <span class="nav-label">Airdrop</span>
        </div>
        <div class="nav-item" data-screen="trade" onclick="switchScreen('trade')">
            <div class="nav-icon"><img src="assets/icons/icon_trade.png" alt="Takas"></div>
            <span class="nav-label">Takas</span>
        </div>
    </div>

    <!-- ===== FIREBASE LEADERBOARD EKÄ° ===== -->
    <div class="container" style="margin-top: 10px;">
        <div class="leaderboard-container">
            <div class="leaderboard-title">ðŸ† LÄ°DERLÄ°K TABLOSU</div>
            <div id="firebase-leaderboard"></div>
        </div>
    </div>

    <script>
        // ============================================
        // FIREBASE USER ID, COIN SAVE & LOAD, LEADERBOARD
        // ============================================
        
        // ðŸ”¥ USER ID SÄ°STEMÄ°
        let userId = localStorage.getItem("userId");
        
        if (!userId) {
            userId = "user_" + Math.random().toString(36).substr(2, 9);
            localStorage.setItem("userId", userId);
            console.log("ðŸ†• Yeni kullanÄ±cÄ± oluÅŸturuldu:", userId);
        } else {
            console.log("ðŸ‘¤ Mevcut kullanÄ±cÄ±:", userId);
        }

        // ðŸ“¥ OYUN BAÅžLARKEN COIN YÃœKLE
        window.addEventListener('load', function() {
            // Firebase hazÄ±r mÄ± kontrol et
            if (typeof db !== 'undefined') {
                db.collection("users").doc(userId).get().then(doc => {
                    if (doc.exists) {
                        const savedCoins = doc.data().coins || 0;
                        // Oyunun coin deÄŸiÅŸkenini gÃ¼ncelle (gameData.coins)
                        if (typeof gameData !== 'undefined') {
                            gameData.coins = savedCoins;
                            console.log("ðŸ“¥ Firebase'den coin yÃ¼klendi:", savedCoins);
                            
                            // EkranÄ± gÃ¼ncelle
                            if (typeof updateDisplay === 'function') {
                                updateDisplay();
                            }
                        }
                    } else {
                        console.log("ðŸ“ Yeni kullanÄ±cÄ±, henÃ¼z veri yok");
                    }
                }).catch(error => {
                    console.error("âŒ Coin yÃ¼kleme hatasÄ±:", error);
                });
                
                // Leaderboard'u yÃ¼kle
                loadFirebaseLeaderboard();
            }
        });

        // ðŸ’° COIN SAVE FONKSÄ°YONU (5 saniyede bir)
        function saveProgress() {
            if (typeof db !== 'undefined' && typeof gameData !== 'undefined') {
                db.collection("users").doc(userId).set({
                    coins: gameData.coins,
                    updatedAt: firebase.firestore.FieldValue.serverTimestamp(),
                    userId: userId,
                    lastSeen: new Date().toISOString()
                }).then(() => {
                    console.log("ðŸ’¾ Coin kaydedildi:", gameData.coins);
                }).catch(error => {
                    console.error("âŒ KayÄ±t hatasÄ±:", error);
                });
            }
        }

        // 5 saniyede bir kaydet
        setInterval(saveProgress, 5000);

        // ðŸ† LEADERBOARD FONKSÄ°YONU
        function loadFirebaseLeaderboard() {
            if (typeof db === 'undefined') return;
            
            db.collection("users")
                .orderBy("coins", "desc")
                .limit(10)
                .get()
                .then(snapshot => {
                    let html = "";
                    let rank = 1;
                    
                    snapshot.forEach(doc => {
                        const data = doc.data();
                        const userIdShort = data.userId ? data.userId.substr(0, 8) : "Anonim";
                        const coins = data.coins || 0;
                        
                        html += `
                            <div class="leaderboard-item">
                                <span class="leaderboard-rank">#${rank}</span>
                                <span class="leaderboard-name">${userIdShort}</span>
                                <span class="leaderboard-coins">${coins.toLocaleString()}</span>
                            </div>
                        `;
                        rank++;
                    });
                    
                    if (html === "") {
                        html = '<div style="text-align: center; padding: 10px; color: rgba(255,255,255,0.5);">HenÃ¼z veri yok</div>';
                    }
                    
                    document.getElementById("firebase-leaderboard").innerHTML = html;
                })
                .catch(error => {
                    console.error("âŒ Leaderboard hatasÄ±:", error);
                    document.getElementById("firebase-leaderboard").innerHTML = '<div style="text-align: center; padding: 10px; color: #ff5555;">Leaderboard yÃ¼klenemedi</div>';
                });
        }

        // Leaderboard'u her 30 saniyede bir gÃ¼ncelle
        setInterval(loadFirebaseLeaderboard, 30000);

        // ============================================
        // GERÃ‡EK ASSET LOADING SÄ°STEMÄ°
        // ============================================
        
        // TÃ¼m assetleri topla
        const assetList = [
            // Ana coin
            "assets/icons/1000010731-removebg-preview.png",
            // GÃ¶rev butonu
            "assets/icons/1000011085-removebg-preview.png",
            // Telegram ikonu
            "assets/icons/1000011087-removebg-preview.png",
            // NeonTap coin
            "assets/icons/1000010729-removebg-preview.png",
            // X ikonu
            "assets/icons/images (1).png",
            // Navigasyon ikonlarÄ±
            "assets/icons/IMG_20260212_212121.png",
            "assets/icons/icon_cards.png",
            "assets/icons/mining_hub_icon.png",
            "assets/icons/IMG_20260212_212059.png",
            "assets/icons/icon_trade.png",
            // TON ikonu
            "assets/icons/1000011039-removebg-preview.png",
            // Kart ikonlarÄ±
            "assets/icons/card_profession.png",
            "assets/icons/card_freelancer.png",
            "assets/icons/card_consultant.png",
            "assets/icons/card_accountant.png",
            "assets/icons/card_lawyer.png",
            "assets/icons/card_ceo.png",
            "assets/icons/card_cafe.png",
            "assets/icons/card_restaurant.png",
            "assets/icons/card_boutique.png",
            "assets/icons/card_hotel.png",
            "assets/icons/card_mall.png",
            "assets/icons/card_app_dev.png",
            "assets/icons/card_technician.png",
            "assets/icons/card_crypto_mining.png",
            "assets/icons/card_ai_startup.png",
            "assets/icons/card_space_tech.png",
            // Mining kart ikonlarÄ±
            "assets/icons/eco_miner_rig.png",
            "assets/icons/eco_miner_rig2.png",
            "assets/icons/basic_mining_unit.png",
            "assets/icons/basic_mining_unit2.png",
            "assets/icons/blue_core_miner.png",
            "assets/icons/blue_core_miner2.png",
            "assets/icons/turbo_flame_miner.png",
            "assets/icons/turbo_flame_miner2.png",
            "assets/icons/golden_hash_machine.png",
            "assets/icons/golden_hash_machine2.png"
        ];

        // Loading elementi
        const loadingScreen = document.getElementById('loadingScreen');
        const loadingPercent = document.getElementById('loadingPercent');
        const loadingProgressBar = document.getElementById('loadingProgressBar');
        const loadingSubtext = document.getElementById('loadingSubtext');

        let loadedCount = 0;
        const totalAssets = assetList.length;
        let loadingComplete = false;
        const startTime = Date.now();
        const MIN_LOADING_TIME = 1000; // Minimum 1 saniye

        // Her asset iÃ§in yÃ¼kleme fonksiyonu
        function loadAsset(src) {
            return new Promise((resolve, reject) => {
                const img = new Image();
                img.onload = () => {
                    loadedCount++;
                    updateProgress();
                    resolve(src);
                };
                img.onerror = () => {
                    // Hata olsa bile say, takÄ±lmasÄ±n
                    loadedCount++;
                    updateProgress();
                    console.warn(`Asset yÃ¼klenemedi: ${src}`);
                    resolve(src); // reject yerine resolve ile devam et
                };
                img.src = src;
            });
        }

        // Progress gÃ¼ncelle
        function updateProgress() {
            const percent = Math.floor((loadedCount / totalAssets) * 100);
            loadingPercent.textContent = percent + '%';
            loadingProgressBar.style.width = percent + '%';
            
            // Alt metni gÃ¼ncelle
            if (loadedCount < totalAssets) {
                loadingSubtext.textContent = `GÃ¶rsel ${loadedCount}/${totalAssets} yÃ¼kleniyor...`;
            }
        }

        // TÃ¼m assetleri yÃ¼kle
        async function loadAllAssets() {
            const promises = assetList.map(src => loadAsset(src));
            await Promise.all(promises);
            
            // YÃ¼kleme tamamlandÄ±
            loadingComplete = true;
            loadingSubtext.textContent = `GÃ¶rsel ${totalAssets}/${totalAssets} yÃ¼klendi`;
            
            // Minimum loading sÃ¼resini kontrol et
            const elapsedTime = Date.now() - startTime;
            const remainingTime = Math.max(0, MIN_LOADING_TIME - elapsedTime);
            
            setTimeout(() => {
                // %100 gÃ¶ster
                loadingPercent.textContent = '100%';
                loadingProgressBar.style.width = '100%';
                
                // Fade out ve ekranÄ± kaldÄ±r
                loadingScreen.classList.add('fade-out');
                
                setTimeout(() => {
                    loadingScreen.style.display = 'none';
                    
                    // Oyunu baÅŸlat
                    initGame();
                }, 500);
            }, remainingTime);
        }

        // Oyunu baÅŸlat
        function initGame() {
            // ðŸš« Loading ekranÄ±nÄ± kapat
            document.getElementById('loading').style.display = 'none';

            // Telegram Web App
            let tg = window.Telegram?.WebApp;
            if (tg) tg.expand();

            // Ä°lk gÃ¼ncelleme
            renderAllCards();
            updateMiningCards();
            updateDisplay();
            updateProfileDisplay();
            updateReferralDisplay();
            updateQuestButtons();
            
            updateUIVisibility();

            document.getElementById('modal').addEventListener('click', function(e) {
                if (e.target === this) closeModal();
            });
        }

        // Asset yÃ¼klemeyi baÅŸlat
        loadAllAssets();

        // ðŸŽ¯ Navigation State - Aktif panel takibi
        let activePanel = null; // 'profile', 'leaderboard', 'referral', 'roadmap', 'support', 'sponsor', 'quest', null

        // ðŸŽ¯ Navigation - Hamburger, Header ve GÃ¶rev Butonu gÃ¶rÃ¼nÃ¼rlÃ¼ÄŸÃ¼ kontrolÃ¼
        function updateUIVisibility() {
            const menuToggle = document.getElementById('menuToggle');
            const headerVersion = document.getElementById('headerVersion');
            const questButton = document.getElementById('questButton');
            const sideMenu = document.getElementById('sideMenu');
            const questPanel = document.getElementById('questPanel');
            const accountModal = document.getElementById('accountModal');
            const activeScreen = document.querySelector('.screen.active');
            
            const isHomeScreen = activeScreen && activeScreen.id === 'home-screen';
            const isSideMenuOpen = sideMenu.classList.contains('active');
            const isQuestPanelOpen = questPanel.classList.contains('active');
            const isAccountModalOpen = accountModal.classList.contains('active');
            const isAnyPanelOpen = activePanel !== null;
            
            // Sadece Ana Sayfa aktifse ve hiÃ§bir panel/modal aÃ§Ä±k deÄŸilse gÃ¶ster
            if (isHomeScreen && !isSideMenuOpen && !isQuestPanelOpen && !isAccountModalOpen && !isAnyPanelOpen) {
                menuToggle.classList.remove('hidden');
                headerVersion.classList.remove('hidden');
                questButton.classList.remove('hidden');
            } else {
                menuToggle.classList.add('hidden');
                headerVersion.classList.add('hidden');
                questButton.classList.add('hidden');
            }
        }

        window.switchScreen = function(screenName) {
            document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
            document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));
            
            const screenMap = {
                'home': 'home-screen',
                'cards': 'cards-screen',
                'mining': 'mining-screen',
                'profile': 'profile-screen',
                'airdrop': 'airdrop-screen',
                'trade': 'trade-screen'
            };
            
            const targetScreen = document.getElementById(screenMap[screenName]);
            if (targetScreen) targetScreen.classList.add('active');
            
            const navItem = document.querySelector(`[data-screen="${screenName}"]`);
            if (navItem) navItem.classList.add('active');

            if (screenName === 'cards') {
                renderAllCards();
            }
            
            // Aktif paneli sÄ±fÄ±rla
            activePanel = null;
            
            updateUIVisibility();
        };

        // Telegram Web App
        let tg = window.Telegram?.WebApp;

        // ðŸ“¦ Kart Verileri
        const CARDS = [
            { id: 'profesyon', category: 'profession', name: 'Profesyon', baseIncome: 100, basePrice: 500, icon: 'card_profession.png', level: 0, unlockRequirement: null },
            { id: 'freelancer', category: 'profession', name: 'Freelancer', baseIncome: 250, basePrice: 1000, icon: 'card_freelancer.png', level: 0, unlockRequirement: { cardId: 'profesyon', level: 5 } },
            { id: 'danisman', category: 'profession', name: 'DanÄ±ÅŸman', baseIncome: 500, basePrice: 2500, icon: 'card_consultant.png', level: 0, unlockRequirement: { cardId: 'profesyon', level: 10 } },
            { id: 'muhasebeci', category: 'profession', name: 'Muhasebeci', baseIncome: 1000, basePrice: 5000, icon: 'card_accountant.png', level: 0, unlockRequirement: { cardId: 'freelancer', level: 10 } },
            { id: 'avukat', category: 'profession', name: 'Avukat', baseIncome: 2000, basePrice: 10000, icon: 'card_lawyer.png', level: 0, unlockRequirement: { cardId: 'muhasebeci', level: 15 } },
            { id: 'ceo', category: 'profession', name: 'CEO', baseIncome: 5000, basePrice: 25000, icon: 'card_ceo.png', level: 0, unlockRequirement: { cardId: 'avukat', level: 20 } },
            { id: 'kafe', category: 'companies', name: 'Kafe', baseIncome: 300, basePrice: 1500, icon: 'card_cafe.png', level: 0, unlockRequirement: { cardId: 'ceo', level: 5 } },
            { id: 'restoran', category: 'companies', name: 'Restoran', baseIncome: 750, basePrice: 4000, icon: 'card_restaurant.png', level: 0, unlockRequirement: { cardId: 'kafe', level: 10 } },
            { id: 'butik', category: 'companies', name: 'Butik', baseIncome: 1500, basePrice: 8000, icon: 'card_boutique.png', level: 0, unlockRequirement: { cardId: 'restoran', level: 15 } },
            { id: 'otel', category: 'companies', name: 'Otel', baseIncome: 3000, basePrice: 15000, icon: 'card_hotel.png', level: 0, unlockRequirement: { cardId: 'butik', level: 20 } },
            { id: 'avm', category: 'companies', name: 'AVM', baseIncome: 7500, basePrice: 35000, icon: 'card_mall.png', level: 0, unlockRequirement: { cardId: 'otel', level: 25 } },
            { id: 'app', category: 'technology', name: 'Uygulama GeliÅŸtirme', baseIncome: 2000, basePrice: 10000, icon: 'card_app_dev.png', level: 0, unlockRequirement: { cardId: 'avm', level: 10 } },
            { id: 'teknisyen', category: 'technology', name: 'Teknisyen', baseIncome: 4000, basePrice: 20000, icon: 'card_technician.png', level: 0, unlockRequirement: { cardId: 'app', level: 15 } },
            { id: 'kripto', category: 'technology', name: 'Kripto MadenciliÄŸi', baseIncome: 8000, basePrice: 40000, icon: 'card_crypto_mining.png', level: 0, unlockRequirement: { cardId: 'teknisyen', level: 20 } },
            { id: 'ai', category: 'technology', name: 'AI Startup', baseIncome: 15000, basePrice: 75000, icon: 'card_ai_startup.png', level: 0, unlockRequirement: { cardId: 'kripto', level: 25 } },
            { id: 'uzay', category: 'technology', name: 'Uzay Teknolojisi', baseIncome: 30000, basePrice: 150000, icon: 'card_space_tech.png', level: 0, unlockRequirement: { cardId: 'ai', level: 30 } }
        ];

        // Oyun Verileri
        let gameData = {
            user_id: Math.floor(Math.random() * 1000000),
            username: 'Oyuncu',
            coins: 0,
            energy: 500,
            max_energy: 500,
            energy_recharge_rate: 500 / (30 * 60),
            tap_power: 1,
            total_taps: 0,
            cards_bought: 0,
            combo_multiplier: 1,
            combo_timeout: null,
            last_energy_update: Date.now(),
            neonTapToken: 0,
            totalTrades: 0,
            totalTradedGoCoin: 0,
            totalEarnedNeonTap: 0,
            prestigePoints: 0,
            cardLevels: {},
            
            // Referans sistemi
            referralCode: '',
            referralCount: 0,
            referralEarnings: 0,
            referredBy: null,
            
            // Pasif kazanÃ§
            passiveEarnings: 0,
            passiveStartTime: Date.now(),
            passiveLastClaim: Date.now(),
            passiveMaxDuration: 5 * 60 * 60 * 1000,
            passiveCooldown: 0,
            x2UsesLeft: 6,
            x2LastReset: Date.now(),

            // Support ve sponsor talepleri
            supportTickets: [],
            sponsorRequests: [],

            // GÃ¶revler
            quests: {
                telegram: { 
                    started: false,
                    completed: false,
                    claimed: false,
                    startTime: null,
                    reviewEndTime: null
                },
                x: { 
                    started: false,
                    completed: false,
                    claimed: false,
                    startTime: null,
                    reviewEndTime: null
                }
            },

            // Sosyal medya hesaplarÄ±
            xUsername: '',
            telegramUsername: ''
        };

        // Kart level'larÄ±nÄ± baÅŸlat
        CARDS.forEach(card => {
            gameData.cardLevels[card.id] = 0;
        });

        // Referans kodu oluÅŸtur
        function generateReferralCode() {
            return 'GO-' + gameData.user_id.toString().slice(-6);
        }

        // Ä°lk yÃ¼kleme
        gameData.referralCode = generateReferralCode();

        // Profil bilgilerini gÃ¼ncelle
        function updateProfileDisplay() {
            document.getElementById('playerId').textContent = '#' + gameData.user_id;
            document.getElementById('playerName').textContent = gameData.username;
            document.getElementById('totalNeonTap').textContent = formatNumberFull(gameData.neonTapToken);
            document.getElementById('referralCount').textContent = gameData.referralCount;
            
            // Sosyal medya bilgilerini gÃ¶ster
            document.getElementById('profileXUsername').textContent = gameData.xUsername || '-';
            document.getElementById('profileTelegramUsername').textContent = gameData.telegramUsername || '-';
            
            document.getElementById('supportPlayerId').value = '#' + gameData.user_id;
        }

        // Referans panelini gÃ¼ncelle
        function updateReferralDisplay() {
            document.getElementById('referralCodeDisplay').textContent = gameData.referralCode;
            document.getElementById('referralLinkDisplay').textContent = `https://neontap.com/?ref=${gameData.referralCode}`;
            document.getElementById('referralCountDisplay').textContent = gameData.referralCount;
        }

        // Kopyalama fonksiyonu
        function copyToClipboard(elementId) {
            const element = document.getElementById(elementId);
            const text = element.textContent;
            
            navigator.clipboard.writeText(text).then(() => {
                const toast = document.createElement('div');
                toast.className = 'copy-toast';
                toast.textContent = 'KopyalandÄ±!';
                document.body.appendChild(toast);
                setTimeout(() => toast.remove(), 2000);
            });
        }

        // X'te paylaÅŸ
        function shareOnX() {
            const text = encodeURIComponent(`NeonTap ile coin kazanÄ±yorum ðŸš€\nSen de katÄ±l!\nðŸ”— https://neontap.com/?ref=${gameData.referralCode}`);
            window.open(`https://twitter.com/intent/tweet?text=${text}`, '_blank');
        }

        // Hesap bilgileri modalÄ±nÄ± aÃ§
        function openAccountModal(isUpdate = false) {
            if (isUpdate) {
                document.getElementById('xUsername').value = gameData.xUsername || '';
                document.getElementById('telegramUsername').value = gameData.telegramUsername || '';
            } else {
                document.getElementById('xUsername').value = '';
                document.getElementById('telegramUsername').value = '';
            }
            
            document.getElementById('xUsernameError').textContent = '';
            document.getElementById('telegramUsernameError').textContent = '';
            
            document.getElementById('accountModal').classList.add('active');
            document.body.classList.add('modal-open');
            updateUIVisibility();
        }

        // Hesap bilgilerini kaydet
        function saveAccountInfo() {
            const xUsername = document.getElementById('xUsername').value.trim();
            const telegramUsername = document.getElementById('telegramUsername').value.trim();
            
            let hasError = false;
            
            if (!xUsername) {
                document.getElementById('xUsernameError').textContent = 'X kullanÄ±cÄ± adÄ± zorunludur';
                hasError = true;
            } else {
                document.getElementById('xUsernameError').textContent = '';
            }
            
            if (!telegramUsername) {
                document.getElementById('telegramUsernameError').textContent = 'Telegram kullanÄ±cÄ± adÄ± zorunludur';
                hasError = true;
            } else {
                document.getElementById('telegramUsernameError').textContent = '';
            }
            
            if (hasError) return;
            
            gameData.xUsername = xUsername;
            gameData.telegramUsername = telegramUsername;
            
            closeAccountModal();
            updateProfileDisplay();
            saveGameData();
            
            openQuestPanel();
        }

        // Hesap bilgileri modalÄ±nÄ± kapat
        function closeAccountModal() {
            document.getElementById('accountModal').classList.remove('active');
            document.body.classList.remove('modal-open');
            updateUIVisibility();
        }

        // GÃ¶rev butonu tÄ±klama iÅŸleyicisi
        function handleQuestButtonClick() {
            if (!gameData.xUsername || !gameData.telegramUsername) {
                openAccountModal(false);
            } else {
                openQuestPanel();
            }
        }

        // Ä°sim deÄŸiÅŸtirme modalÄ±
        window.openNameEditModal = function() {
            document.getElementById('nameInput').value = gameData.username;
            document.getElementById('nameEditModal').classList.add('active');
            closeMenu();
        };

        window.closeNameEditModal = function() {
            document.getElementById('nameEditModal').classList.remove('active');
        };

        window.saveName = function() {
            const newName = document.getElementById('nameInput').value.trim();
            
            const forbiddenWords = ['sex', 'porn', 'fuck', 'sik', 'amk', 'aq', 'yarrak', 'gÃ¶t'];
            let hasBadWord = false;
            forbiddenWords.forEach(word => {
                if (newName.toLowerCase().includes(word)) hasBadWord = true;
            });
            
            if (hasBadWord) {
                showModal('UyarÄ±', 'GeÃ§ersiz isim! LÃ¼tfen baÅŸka bir isim seÃ§in.');
                return;
            }
            
            if (newName && newName.length > 0 && newName.length <= 16) {
                gameData.username = newName;
                document.getElementById('playerName').textContent = newName;
                document.getElementById('profile-name').textContent = newName;
                closeNameEditModal();
                saveGameData();
                showModal('BaÅŸarÄ±lÄ±', 'Ä°sminiz gÃ¼ncellendi!');
            } else {
                showModal('UyarÄ±', 'Ä°sim 1-16 karakter arasÄ± olmalÄ±dÄ±r.');
            }
        };

        // Red Dot kontrolÃ¼
        function updateRedDot() {
            const hasUnclaimed = Object.values(gameData.quests).some(quest => quest.completed && !quest.claimed);
            const redDot = document.getElementById('questRedDot');
            if (hasUnclaimed) {
                redDot.classList.remove('hidden');
            } else {
                redDot.classList.add('hidden');
            }
        }

        // GÃ¶rev butonlarÄ±nÄ± gÃ¼ncelle
        function updateQuestButtons() {
            const telegramQuest = gameData.quests.telegram;
            const xQuest = gameData.quests.x;
            
            const telegramActions = document.getElementById('questTelegramActions');
            const xActions = document.getElementById('questXActions');
            
            const now = Date.now();
            
            // Telegram gÃ¶revi
            if (!telegramQuest.started) {
                telegramActions.innerHTML = `<button class="quest-button-action" onclick="startQuest('telegram')">KatÄ±l</button>`;
                document.getElementById('questTelegram').classList.remove('completed', 'claim-ready');
            } else if (telegramQuest.completed) {
                if (telegramQuest.claimed) {
                    telegramActions.innerHTML = `<div class="quest-completed-badge">TamamlandÄ±</div>`;
                    document.getElementById('questTelegram').classList.add('completed');
                    document.getElementById('questTelegram').classList.remove('claim-ready');
                } else {
                    telegramActions.innerHTML = `<button class="quest-button-action claim" onclick="claimQuest('telegram', 50)">CLAIM</button>`;
                    document.getElementById('questTelegram').classList.add('claim-ready');
                    document.getElementById('questTelegram').classList.remove('completed');
                }
            } else if (telegramQuest.started && !telegramQuest.completed) {
                const timeLeft = 10 * 60 * 1000 - (now - telegramQuest.startTime);
                if (timeLeft <= 0) {
                    telegramQuest.completed = true;
                    telegramQuest.reviewEndTime = now;
                    telegramActions.innerHTML = `<button class="quest-button-action claim" onclick="claimQuest('telegram', 50)">CLAIM</button>`;
                    document.getElementById('questTelegram').classList.add('claim-ready');
                } else {
                    telegramActions.innerHTML = `<button class="quest-button-action review" disabled>Ä°nceleniyor</button>`;
                }
                document.getElementById('questTelegram').classList.remove('completed', 'claim-ready');
            }
            
            // X gÃ¶revi
            if (!xQuest.started) {
                xActions.innerHTML = `<button class="quest-button-action" onclick="startQuest('x')">Takip Et</button>`;
                document.getElementById('questX').classList.remove('completed', 'claim-ready');
            } else if (xQuest.completed) {
                if (xQuest.claimed) {
                    xActions.innerHTML = `<div class="quest-completed-badge">TamamlandÄ±</div>`;
                    document.getElementById('questX').classList.add('completed');
                    document.getElementById('questX').classList.remove('claim-ready');
                } else {
                    xActions.innerHTML = `<button class="quest-button-action claim" onclick="claimQuest('x', 50)">CLAIM</button>`;
                    document.getElementById('questX').classList.add('claim-ready');
                    document.getElementById('questX').classList.remove('completed');
                }
            } else if (xQuest.started && !xQuest.completed) {
                const timeLeft = 10 * 60 * 1000 - (now - xQuest.startTime);
                if (timeLeft <= 0) {
                    xQuest.completed = true;
                    xQuest.reviewEndTime = now;
                    xActions.innerHTML = `<button class="quest-button-action claim" onclick="claimQuest('x', 50)">CLAIM</button>`;
                    document.getElementById('questX').classList.add('claim-ready');
                } else {
                    xActions.innerHTML = `<button class="quest-button-action review" disabled>Ä°nceleniyor</button>`;
                }
                document.getElementById('questX').classList.remove('completed', 'claim-ready');
            }
            
            updateRedDot();
            saveGameData();
        }

        // GÃ¶reve baÅŸla
        window.startQuest = function(questId) {
            const links = {
                telegram: 'https://t.me/neontap_official',
                x: 'https://x.com/neontap'
            };
            
            window.open(links[questId], '_blank');
            
            gameData.quests[questId].started = true;
            gameData.quests[questId].startTime = Date.now();
            
            updateQuestButtons();
            saveGameData();
        };

        // GÃ¶rev claim et
        window.claimQuest = function(questId, reward) {
            const quest = gameData.quests[questId];
            
            if (!quest.completed || quest.claimed) return;
            
            gameData.neonTapToken += reward;
            quest.claimed = true;
            
            const button = document.querySelector(`#quest${questId === 'x' ? 'X' : 'Telegram'}Actions .quest-button-action`);
            if (button) {
                const rect = button.getBoundingClientRect();
                
                const floating = document.createElement('div');
                floating.className = 'quest-floating-coin';
                floating.textContent = `+${reward}`;
                floating.style.left = rect.left + rect.width/2 + 'px';
                floating.style.top = rect.top + 'px';
                document.body.appendChild(floating);
                setTimeout(() => floating.remove(), 1000);
                
                for (let i = 0; i < 5; i++) {
                    const sparkle = document.createElement('div');
                    sparkle.className = 'quest-sparkle';
                    sparkle.innerHTML = 'âœ¨';
                    sparkle.style.left = rect.left + Math.random() * rect.width + 'px';
                    sparkle.style.top = rect.top + Math.random() * rect.height + 'px';
                    document.body.appendChild(sparkle);
                    setTimeout(() => sparkle.remove(), 800);
                }
            }
            
            updateQuestButtons();
            updateDisplay();
            saveGameData();
            
            if (tg && tg.HapticFeedback) tg.HapticFeedback.notificationOccurred('success');
        };

        // GÃ¶revleri periyodik gÃ¼ncelle
        setInterval(() => {
            updateQuestButtons();
        }, 5000);

        // GÃ¶rev paneli aÃ§/kapat
        window.openQuestPanel = function() {
            updateQuestButtons();
            document.getElementById('questPanel').classList.add('active');
            activePanel = 'quest';
            updateUIVisibility();
        };

        window.closeQuestPanel = function() {
            document.getElementById('questPanel').classList.remove('active');
            activePanel = null;
            updateUIVisibility();
        };

        // DiÄŸer panel fonksiyonlarÄ±
        window.openProfilePanel = function() {
            closeMenu();
            updateProfileDisplay();
            document.getElementById('profilePanel').classList.add('active');
            activePanel = 'profile';
            updateUIVisibility();
        };

        window.closeProfilePanel = function() {
            document.getElementById('profilePanel').classList.remove('active');
            activePanel = null;
            updateUIVisibility();
        };

        window.openLeaderboardPanel = function() {
            closeMenu();
            generateLeaderboard();
            document.getElementById('leaderboardPanel').classList.add('active');
            activePanel = 'leaderboard';
            updateUIVisibility();
        };

        window.closeLeaderboardPanel = function() {
            document.getElementById('leaderboardPanel').classList.remove('active');
            activePanel = null;
            updateUIVisibility();
        };

        // Referans paneli - ARTIK AYRI BÄ°R PANEL
        window.openReferralPanel = function() {
            closeMenu();
            updateReferralDisplay();
            document.getElementById('referralPanel').classList.add('active');
            activePanel = 'referral';
            updateUIVisibility();
        };

        window.closeReferralPanel = function() {
            document.getElementById('referralPanel').classList.remove('active');
            activePanel = null;
            updateUIVisibility();
        };

        window.openRoadmapPanel = function() {
            closeMenu();
            document.getElementById('roadmapPanel').classList.add('active');
            activePanel = 'roadmap';
            updateUIVisibility();
        };

        window.closeRoadmapPanel = function() {
            document.getElementById('roadmapPanel').classList.remove('active');
            activePanel = null;
            updateUIVisibility();
        };

        window.openSupportPanel = function() {
            closeMenu();
            document.getElementById('supportPlayerId').value = '#' + gameData.user_id;
            document.getElementById('supportPanel').classList.add('active');
            activePanel = 'support';
            updateUIVisibility();
        };

        window.closeSupportPanel = function() {
            document.getElementById('supportPanel').classList.remove('active');
            activePanel = null;
            updateUIVisibility();
        };

        window.openSponsorPanel = function() {
            closeMenu();
            document.getElementById('sponsorPanel').classList.add('active');
            activePanel = 'sponsor';
            updateUIVisibility();
        };

        window.closeSponsorPanel = function() {
            document.getElementById('sponsorPanel').classList.remove('active');
            activePanel = null;
            updateUIVisibility();
        };

        window.closeMenu = function() {
            document.getElementById('menuToggle').classList.remove('active');
            document.getElementById('sideMenu').classList.remove('active');
            document.getElementById('menuOverlay').classList.remove('active');
            updateUIVisibility();
        };

        // Demo leaderboard oluÅŸtur
        function generateLeaderboard() {
            const players = [
                { name: 'CryptoKing', coins: 1250000 },
                { name: 'NeonMaster', coins: 980000 },
                { name: 'CoinHunter', coins: 750000 },
                { name: 'MiningGuru', coins: 520000 },
                { name: 'TokenLord', coins: 410000 },
                { name: 'BlockchainPro', coins: 320000 },
                { name: 'GoldMiner', coins: 280000 },
                { name: 'DiamondHands', coins: 210000 },
                { name: 'MoonWalker', coins: 150000 },
                { name: 'SatHunter', coins: 98000 }
            ];
            
            const playerCoins = gameData.neonTapToken;
            const playerIndex = players.findIndex(p => p.coins < playerCoins);
            
            let leaderboardHtml = '';
            
            players.forEach((player, index) => {
                let rankClass = '';
                if (index === 0) rankClass = 'top-1';
                else if (index === 1) rankClass = 'top-2';
                else if (index === 2) rankClass = 'top-3';
                
                leaderboardHtml += `
                    <div class="leaderboard-item ${rankClass}">
                        <div class="leaderboard-rank">#${index + 1}</div>
                        <div class="leaderboard-info">
                            <div class="leaderboard-name">${player.name}</div>
                            <div class="leaderboard-coins">${formatNumberFull(player.coins)} NEON</div>
                        </div>
                    </div>
                `;
            });
            
            if (playerCoins > 0) {
                const rank = playerIndex + 1;
                leaderboardHtml += `
                    <div style="margin-top: 15px; padding: 12px; background: rgba(255,215,0,0.1); border-radius: 12px; text-align: center;">
                        Senin SÄ±ran: #${rank} â€¢ ${formatNumberFull(playerCoins)} NEON
                    </div>
                `;
            }
            
            document.getElementById('leaderboardContainer').innerHTML = leaderboardHtml;
        }

        // Destek talebi gÃ¶nderme
        window.submitSupportTicket = function(event) {
            event.preventDefault();
            
            const category = document.getElementById('supportCategory').value;
            const message = document.getElementById('supportMessage').value.trim();
            
            if (!category) {
                showModal('UyarÄ±', 'LÃ¼tfen bir kategori seÃ§in.');
                return;
            }
            
            if (message.length < 10) {
                showModal('UyarÄ±', 'MesajÄ±nÄ±z en az 10 karakter olmalÄ±dÄ±r.');
                return;
            }
            
            const ticket = {
                id: 'TICKET-' + Date.now() + '-' + Math.floor(Math.random() * 1000),
                userId: gameData.user_id,
                username: gameData.username,
                category: category,
                message: message,
                date: new Date().toISOString(),
                status: 'Bekliyor',
                read: false
            };
            
            if (!gameData.supportTickets) gameData.supportTickets = [];
            gameData.supportTickets.push(ticket);
            
            document.getElementById('supportCategory').value = '';
            document.getElementById('supportMessage').value = '';
            
            saveGameData();
            showModal('BaÅŸarÄ±lÄ±', 'Destek talebiniz alÄ±ndÄ±. En kÄ±sa sÃ¼rede dÃ¶nÃ¼ÅŸ yapÄ±lacaktÄ±r.');
            closeSupportPanel();
        };

        // Sponsor baÅŸvurusu gÃ¶nderme
        window.submitSponsorRequest = function(event) {
            event.preventDefault();
            
            const company = document.getElementById('sponsorCompany').value.trim();
            const email = document.getElementById('sponsorEmail').value.trim();
            const type = document.getElementById('sponsorType').value;
            const message = document.getElementById('sponsorMessage').value.trim();
            
            if (!company || !email || !type || !message) {
                showModal('UyarÄ±', 'LÃ¼tfen tÃ¼m alanlarÄ± doldurun.');
                return;
            }
            
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            if (!emailRegex.test(email)) {
                showModal('UyarÄ±', 'GeÃ§erli bir e-posta adresi giriniz.');
                return;
            }
            
            const request = {
                id: 'SPONSOR-' + Date.now() + '-' + Math.floor(Math.random() * 1000),
                userId: gameData.user_id,
                username: gameData.username,
                company: company,
                email: email,
                type: type,
                message: message,
                date: new Date().toISOString(),
                status: 'Bekliyor',
                read: false
            };
            
            if (!gameData.sponsorRequests) gameData.sponsorRequests = [];
            gameData.sponsorRequests.push(request);
            
            document.getElementById('sponsorCompany').value = '';
            document.getElementById('sponsorEmail').value = '';
            document.getElementById('sponsorType').value = '';
            document.getElementById('sponsorMessage').value = '';
            
            saveGameData();
            showModal('BaÅŸarÄ±lÄ±', 'Sponsorluk baÅŸvurunuz alÄ±ndÄ±. En kÄ±sa sÃ¼rede iletiÅŸime geÃ§ilecektir.');
            closeSponsorPanel();
        };

        // Mining kartlarÄ±
        let miningCards = [
            { id: 'eco1', name: 'Eco Miner Rig', image: 'eco_miner_rig.png', power: 10, price: 0.5, color: 'green', owned: false, isRunning: false, isClaimReady: false, startTime: null, accumulated: 0 },
            { id: 'eco2', name: 'Eco Miner Rig+', image: 'eco_miner_rig2.png', power: 25, price: 1, color: 'green', owned: false, isRunning: false, isClaimReady: false, startTime: null, accumulated: 0 },
            { id: 'basic1', name: 'Basic Mining Unit', image: 'basic_mining_unit.png', power: 50, price: 2, color: 'white', owned: false, isRunning: false, isClaimReady: false, startTime: null, accumulated: 0 },
            { id: 'basic2', name: 'Basic Mining Unit+', image: 'basic_mining_unit2.png', power: 100, price: 4, color: 'white', owned: false, isRunning: false, isClaimReady: false, startTime: null, accumulated: 0 },
            { id: 'blue1', name: 'Blue Core Miner', image: 'blue_core_miner.png', power: 250, price: 8, color: 'blue', owned: false, isRunning: false, isClaimReady: false, startTime: null, accumulated: 0 },
            { id: 'blue2', name: 'Blue Core Miner+', image: 'blue_core_miner2.png', power: 500, price: 15, color: 'blue', owned: false, isRunning: false, isClaimReady: false, startTime: null, accumulated: 0 },
            { id: 'turbo1', name: 'Turbo Flame Miner', image: 'turbo_flame_miner.png', power: 1000, price: 30, color: 'red', owned: false, isRunning: false, isClaimReady: false, startTime: null, accumulated: 0 },
            { id: 'turbo2', name: 'Turbo Flame Miner+', image: 'turbo_flame_miner2.png', power: 2500, price: 60, color: 'red', owned: false, isRunning: false, isClaimReady: false, startTime: null, accumulated: 0 },
            { id: 'golden1', name: 'Golden Hash Machine', image: 'golden_hash_machine.png', power: 5000, price: 100, color: 'gold', owned: false, isRunning: false, isClaimReady: false, startTime: null, accumulated: 0 },
            { id: 'golden2', name: 'Golden Hash Machine+', image: 'golden_hash_machine2.png', power: 10000, price: 200, color: 'gold', owned: false, isRunning: false, isClaimReady: false, startTime: null, accumulated: 0 }
        ];

        const MINING_CONFIG = {
            CYCLE_DURATION: 24 * 60 * 60 * 1000,
            HOURLY_MULTIPLIER: 0.0625
        };

        // ðŸ“Š GELÄ°R HESAPLAMA FONKSÄ°YONLARI
        function calculateCardIncome(card, level) {
            if (level === 0) return 0;
            
            const base = card.baseIncome;
            
            if (level <= 50) {
                return Math.floor(base * level);
            } else if (level <= 100) {
                return Math.floor((base * 50) + (base * (level - 50) * 0.5));
            } else {
                return Math.floor((base * 50) + (base * 50 * 0.5) + (base * (level - 100) * 0.25));
            }
        }

        function calculateNextLevelIncome(card, level) {
            return Math.floor(calculateCardIncome(card, level + 1) - calculateCardIncome(card, level));
        }

        function calculateTotalIncome() {
            let total = 0;
            CARDS.forEach(card => {
                total += calculateCardIncome(card, gameData.cardLevels[card.id]);
            });
            total = Math.floor(total * (1 + gameData.prestigePoints * 0.1));
            return total;
        }

        function calculateUpgradeCost(card, currentLevel) {
            const nextLevel = currentLevel + 1;
            const base = card.basePrice;
            
            if (nextLevel <= 75) {
                return Math.floor(base * Math.pow(1.55, nextLevel));
            } else {
                return Math.floor(base * Math.pow(1.62, nextLevel));
            }
        }

        // ðŸ”“ UNLOCK KONTROL
        function isCardUnlocked(card) {
            if (!card.unlockRequirement) return true;
            
            const req = card.unlockRequirement;
            return gameData.cardLevels[req.cardId] >= req.level;
        }

        // ðŸƒ KART RENDER
        function renderAllCards() {
            renderCategory('profession', 'profession-cards');
            renderCategory('companies', 'companies-cards');
            renderCategory('technology', 'technology-cards');
        }

        function renderCategory(category, elementId) {
            const container = document.getElementById(elementId);
            if (!container) return;

            const categoryCards = CARDS.filter(c => c.category === category);
            
            container.innerHTML = categoryCards.map(card => {
                const level = gameData.cardLevels[card.id];
                const unlocked = isCardUnlocked(card);
                const income = calculateCardIncome(card, level);
                const nextIncomeIncrease = level > 0 ? calculateNextLevelIncome(card, level) : 0;
                const upgradeCost = level === 0 ? calculateUpgradeCost(card, 0) : calculateUpgradeCost(card, level);
                const canAfford = gameData.coins >= upgradeCost;
                
                let buttonText = level === 0 ? 'SatÄ±n Al' : 'YÃ¼kselt';
                let buttonDisabled = !canAfford;

                if (!unlocked) {
                    const req = card.unlockRequirement;
                    const reqCard = CARDS.find(c => c.id === req.cardId);
                    
                    return `
                        <div class="card-item locked">
                            <div class="card-lock-overlay">
                                <div class="lock-icon">ðŸ”’</div>
                                <div class="lock-text">${reqCard.name} Lv.${req.level} gerekli</div>
                            </div>
                            <img src="assets/icons/${card.icon}" alt="${card.name}" class="card-icon">
                            <div class="card-details">
                                <div class="card-name">${card.name}</div>
                                <div class="card-profit">Kilitli</div>
                            </div>
                        </div>
                    `;
                }

                return `
                    <div class="card-item">
                        <img src="assets/icons/${card.icon}" alt="${card.name}" class="card-icon">
                        <div class="card-details">
                            <div class="card-name">${card.name} <span class="card-level-badge">Lv.${level}</span></div>
                            <div class="card-profit">ðŸ’° ${formatNumber(income)}/s</div>
                            ${level > 0 ? `<div class="card-cost">Sonraki: +${formatNumber(nextIncomeIncrease)}/s</div>` : ''}
                            <button class="buy-card-button" onclick="upgradeCard('${card.id}')" ${buttonDisabled ? 'disabled' : ''}>
                                ${buttonText} â€¢ ${formatNumberFull(upgradeCost)}
                            </button>
                        </div>
                    </div>
                `;
            }).join('');
        }

        // ðŸ’³ KART YÃœKSELTME
        window.upgradeCard = function(cardId) {
            const card = CARDS.find(c => c.id === cardId);
            if (!card) return;
            
            const currentLevel = gameData.cardLevels[cardId];
            const upgradeCost = currentLevel === 0 ? calculateUpgradeCost(card, 0) : calculateUpgradeCost(card, currentLevel);
            
            if (gameData.coins < upgradeCost) {
                showModal('Yetersiz Bakiye', 'Bu iÅŸlem iÃ§in yeterli coininiz yok.');
                return;
            }
            
            gameData.coins -= upgradeCost;
            gameData.cardLevels[cardId] = currentLevel + 1;
            
            if (currentLevel === 0) {
                gameData.cards_bought++;
                showModal('BaÅŸarÄ±lÄ±', `${card.name} satÄ±n alÄ±ndÄ±!`);
            } else {
                showModal('BaÅŸarÄ±lÄ±', `${card.name} Level ${currentLevel + 1} oldu!`);
            }
            
            if (tg && tg.HapticFeedback) tg.HapticFeedback.notificationOccurred('success');

            saveGameData();
            renderAllCards();
            updateDisplay();
        };

        // Pasif kazanÃ§ hesaplama
        function calculatePassiveEarnings() {
            const now = Date.now();
            const totalIncome = calculateTotalIncome() / 3600;
            
            const elapsed = Math.min(now - gameData.passiveStartTime, gameData.passiveMaxDuration);
            gameData.passiveEarnings = Math.floor(totalIncome * elapsed / 1000);
            
            return gameData.passiveEarnings;
        }

        // CLAIM iÅŸlemi
        window.claimPassive = function() {
            const now = Date.now();
            
            if (gameData.passiveCooldown > now) {
                showModal('Bekleyin', 'LÃ¼tfen 5 saniye bekleyin.');
                return;
            }
            
            const earnings = calculatePassiveEarnings();
            if (earnings <= 0) {
                showModal('Bilgi', 'HenÃ¼z birikmiÅŸ kazancÄ±nÄ±z yok.');
                return;
            }
            
            gameData.coins += earnings;
            gameData.passiveStartTime = now;
            gameData.passiveEarnings = 0;
            gameData.passiveCooldown = now + 5000;
            
            saveGameData();
            updateDisplay();
            
            if (tg && tg.HapticFeedback) tg.HapticFeedback.notificationOccurred('success');
        };

        // 2X Claim
        window.claimPassiveWithAd = function() {
            const now = Date.now();
            
            const dayInMs = 24 * 60 * 60 * 1000;
            if (now - gameData.x2LastReset > dayInMs) {
                gameData.x2UsesLeft = 6;
                gameData.x2LastReset = now;
            }
            
            if (gameData.x2UsesLeft <= 0) {
                showModal('Limit Doldu', 'GÃ¼nlÃ¼k 2X hakkÄ±nÄ±z bitti. YarÄ±n tekrar deneyin.');
                return;
            }
            
            if (gameData.passiveCooldown > now) {
                showModal('Bekleyin', 'LÃ¼tfen 5 saniye bekleyin.');
                return;
            }
            
            const earnings = calculatePassiveEarnings();
            if (earnings <= 0) {
                showModal('Bilgi', 'HenÃ¼z birikmiÅŸ kazancÄ±nÄ±z yok.');
                return;
            }
            
            showModal('Reklam', 'Reklam izleniyor...');
            
            setTimeout(() => {
                gameData.coins += earnings * 2;
                gameData.x2UsesLeft--;
                gameData.passiveStartTime = now;
                gameData.passiveEarnings = 0;
                gameData.passiveCooldown = now + 5000;
                
                saveGameData();
                updateDisplay();
                closeModal();
                
                showModal('BaÅŸarÄ±lÄ±', `${earnings * 2} GO Coin kazandÄ±nÄ±z!`);
                if (tg && tg.HapticFeedback) tg.HapticFeedback.notificationOccurred('success');
            }, 2000);
        };

        // Load game data
        function loadGameData() {
            const saved = localStorage.getItem(`game_${gameData.user_id}`);
            if (saved) {
                const data = JSON.parse(saved);
                
                if (data.last_energy_update) {
                    const timeDiff = Date.now() - data.last_energy_update;
                    if (timeDiff > 24 * 60 * 60 * 1000) {
                        data.energy = data.max_energy;
                        data.last_energy_update = Date.now();
                    }
                }
                
                Object.assign(gameData, data);
                
                if (data.cardLevels) {
                    CARDS.forEach(card => {
                        if (data.cardLevels[card.id] !== undefined) {
                            gameData.cardLevels[card.id] = data.cardLevels[card.id];
                        }
                    });
                }
            }
            
            const miningSaved = localStorage.getItem(`mining_${gameData.user_id}`);
            if (miningSaved) {
                const savedCards = JSON.parse(miningSaved);
                miningCards = savedCards;
            }
        }

        // Save game data
        function saveGameData() {
            localStorage.setItem(`game_${gameData.user_id}`, JSON.stringify(gameData));
            localStorage.setItem(`mining_${gameData.user_id}`, JSON.stringify(miningCards));
        }

        // Load data
        loadGameData();

        // Combo sistemi
        let lastComboIncrease = 0;
        
        // ============================================
        // ULTRA SMOOTH TAP ENGINE + PATLAMA EFEKTÄ°
        // ============================================

        // Tap batching sistemi - performans iÃ§in
        let pendingCoins = 0;
        let tapBatchTimeout = null;
        const TAP_BATCH_INTERVAL = 16; // 16ms = ~60fps

        // Coin butonunu bul
        const coinBtn = document.getElementById('coin-button');
        
        // Eski click listener'Ä± temizle (birden fazla eklenmesini engelle)
        if (coinBtn) {
            // Mevcut event listener'larÄ± temizle (gÃ¼venli yol)
            const newCoinBtn = coinBtn.cloneNode(true);
            coinBtn.parentNode.replaceChild(newCoinBtn, coinBtn);
            
            // Yeni butonu deÄŸiÅŸkene ata
            const updatedCoinBtn = document.getElementById('coin-button');
            
            // Touch event'leri engelleme
            updatedCoinBtn.style.touchAction = 'manipulation';
            
            // Yeni pointerdown event (click'ten daha hÄ±zlÄ±)
            updatedCoinBtn.addEventListener('pointerdown', handleSmoothTap);
            
            // Touch iptalini engelle
            updatedCoinBtn.addEventListener('touchstart', (e) => {
                e.preventDefault();
            }, { passive: false });
            
            // Mobilde context menu'yu engelle
            updatedCoinBtn.addEventListener('contextmenu', (e) => {
                e.preventDefault();
            });
        }

        // Smooth tap handler
        function handleSmoothTap(e) {
            e.preventDefault(); // VarsayÄ±lan davranÄ±ÅŸÄ± engelle
            
            const now = Date.now();
            
            // Enerji kontrolÃ¼
            if (gameData.energy < gameData.tap_power) {
                // Enerji yoksa hafif titreÅŸim
                if (navigator.vibrate) navigator.vibrate(10);
                return;
            }
            
            // Haptic feedback (Ã§ok hafif)
            if (navigator.vibrate) navigator.vibrate(5);
            
            // Telegram haptic feedback
            if (tg && tg.HapticFeedback) {
                tg.HapticFeedback.impactOccurred('light');
            }
            
            // PATLAMA EFEKTÄ° - ParÃ§acÄ±klar oluÅŸtur
            createParticles(e);
            
            // Combo sistemi
            if (now - lastComboIncrease >= 1000) {
                gameData.combo_multiplier = Math.min(gameData.combo_multiplier + 0.1, 5);
                lastComboIncrease = now;
                
                // Combo display'i hemen gÃ¼ncelle
                const comboDisplay = document.getElementById('combo-display');
                const comboMultiplier = document.getElementById('combo-multiplier');
                if (comboMultiplier) {
                    comboMultiplier.textContent = gameData.combo_multiplier.toFixed(1);
                }
                if (comboDisplay && gameData.combo_multiplier > 1) {
                    comboDisplay.classList.add('visible');
                }
                
                // Combo timeout'u sÄ±fÄ±rla
                clearTimeout(gameData.combo_timeout);
                gameData.combo_timeout = setTimeout(() => {
                    gameData.combo_multiplier = 1;
                    const comboMultiplierEl = document.getElementById('combo-multiplier');
                    if (comboMultiplierEl) comboMultiplierEl.textContent = '1';
                    document.getElementById('combo-display')?.classList.remove('visible');
                }, 2000);
            }

            // Coin kazancÄ±nÄ± hesapla
            const earnedCoins = Math.floor(gameData.tap_power * gameData.combo_multiplier);
            
            // Oyun verilerini gÃ¼ncelle
            gameData.coins += earnedCoins;
            gameData.energy -= gameData.tap_power;
            gameData.total_taps++;
            
            // Floating text oluÅŸtur (hÄ±zlÄ±)
            createFloatingText(e, earnedCoins);
            
            // Batch ile coin display'i gÃ¼ncelle (performans iÃ§in)
            pendingCoins += earnedCoins;
            
            if (!tapBatchTimeout) {
                tapBatchTimeout = requestAnimationFrame(() => {
                    const coinDisplay = document.getElementById('coin-count');
                    if (coinDisplay) {
                        coinDisplay.textContent = formatNumberFull(Math.floor(gameData.coins));
                    }
                    
                    // Enerji display'ini gÃ¼ncelle
                    const energyDisplay = document.getElementById('energy-display');
                    const energyFill = document.getElementById('energy-fill');
                    if (energyDisplay) {
                        energyDisplay.textContent = `${Math.floor(gameData.energy)} / ${gameData.max_energy}`;
                    }
                    if (energyFill) {
                        energyFill.style.width = (gameData.energy / gameData.max_energy * 100) + '%';
                    }
                    
                    pendingCoins = 0;
                    tapBatchTimeout = null;
                });
            }
            
            // Verileri kaydet (arka planda)
            if (gameData.total_taps % 10 === 0) {
                setTimeout(() => saveGameData(), 0);
            }
        }

        // Patlama efekti - parÃ§acÄ±klar oluÅŸtur
        function createParticles(e) {
            const particleCount = 8; // 8 parÃ§acÄ±k
            const coinButton = document.getElementById('coin-button');
            const rect = coinButton.getBoundingClientRect();
            
            // Merkez noktasÄ±
            const centerX = rect.left + rect.width / 2;
            const centerY = rect.top + rect.height / 2;
            
            for (let i = 0; i < particleCount; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle';
                
                // Rastgele yÃ¶n ve mesafe
                const angle = (i / particleCount) * Math.PI * 2 + Math.random() * 0.5;
                const distance = 50 + Math.random() * 50; // 50-100px arasÄ±
                
                const tx = Math.cos(angle) * distance;
                const ty = Math.sin(angle) * distance;
                
                // CSS deÄŸiÅŸkenleri ile animasyon
                particle.style.setProperty('--tx', tx + 'px');
                particle.style.setProperty('--ty', ty + 'px');
                
                // Rastgele boyut
                const size = 6 + Math.random() * 6;
                particle.style.width = size + 'px';
                particle.style.height = size + 'px';
                
                // Rastgele renk varyasyonu
                const hue = 45 + Math.random() * 20; // AltÄ±n tonlarÄ±
                particle.style.background = `hsl(${hue}, 100%, 60%)`;
                particle.style.boxShadow = `0 0 15px hsl(${hue}, 100%, 60%)`;
                
                // Pozisyon (coin merkezi)
                particle.style.left = centerX + 'px';
                particle.style.top = centerY + 'px';
                
                document.body.appendChild(particle);
                
                // 300ms sonra temizle
                setTimeout(() => {
                    if (particle.parentNode) {
                        particle.remove();
                    }
                }, 300);
            }
        }

        // Floating text oluÅŸtur (optimize)
        function createFloatingText(e, amount) {
            const element = document.createElement('div');
            element.className = 'floating-text';
            element.textContent = `+${amount}`;
            
            // Pozisyonu pointer'dan al
            let clientX, clientY;
            
            if (e.pointerType === 'touch' && e.touches) {
                clientX = e.touches[0].clientX;
                clientY = e.touches[0].clientY;
            } else {
                clientX = e.clientX;
                clientY = e.clientY;
            }
            
            // Rastgele hafif sapma (daha doÄŸal gÃ¶rÃ¼nÃ¼m)
            const offsetX = (Math.random() - 0.5) * 30;
            const offsetY = (Math.random() - 0.5) * 20;
            
            element.style.left = (clientX + offsetX) + 'px';
            element.style.top = (clientY + offsetY) + 'px';
            
            document.body.appendChild(element);
            
            // Animasyon sonunda temizle
            setTimeout(() => {
                if (element.parentNode) {
                    element.remove();
                }
            }, 580); // Animasyon sÃ¼resinden biraz kÄ±sa
        }

        // Energy update (optimize)
        setInterval(() => {
            const now = Date.now();
            const timePassed = (now - gameData.last_energy_update) / 1000;
            const energyToAdd = timePassed * gameData.energy_recharge_rate;

            const oldEnergy = gameData.energy;
            gameData.energy = Math.min(gameData.max_energy, gameData.energy + energyToAdd);
            gameData.last_energy_update = now;
            
            // Sadece deÄŸiÅŸtiyse gÃ¼ncelle
            if (Math.floor(oldEnergy) !== Math.floor(gameData.energy)) {
                const energyDisplay = document.getElementById('energy-display');
                const energyFill = document.getElementById('energy-fill');
                
                if (energyDisplay) {
                    energyDisplay.textContent = `${Math.floor(gameData.energy)} / ${gameData.max_energy}`;
                }
                if (energyFill) {
                    energyFill.style.width = (gameData.energy / gameData.max_energy * 100) + '%';
                }
            }
            
            updateDisplay(); // DiÄŸer display'ler periyodik gÃ¼ncellenir
        }, 500); // 500ms'de bir gÃ¼ncelle (performans)

        // Mining update
        setInterval(() => {
            let needsUpdate = false;
            const now = Date.now();

            miningCards.forEach(card => {
                if (card.owned && card.isRunning) {
                    const elapsed = now - card.startTime;
                    
                    if (elapsed >= MINING_CONFIG.CYCLE_DURATION) {
                        card.isRunning = false;
                        card.isClaimReady = true;
                        card.accumulated = Math.floor(card.power * MINING_CONFIG.HOURLY_MULTIPLIER * 24);
                        needsUpdate = true;
                    } else {
                        card.accumulated = (elapsed / (60 * 60 * 1000)) * card.power * MINING_CONFIG.HOURLY_MULTIPLIER;
                    }
                }
            });

            if (needsUpdate) {
                saveGameData();
            }

            updateMiningCards();
        }, 1000);

        // Mining kartlarÄ±nÄ± render et
        function updateMiningCards() {
            const container = document.getElementById('mining-cards-container');
            if (!container) return;

            container.innerHTML = miningCards.map(card => {
                const hourlyEarn = Math.floor(card.power * MINING_CONFIG.HOURLY_MULTIPLIER * 100) / 100;
                const dailyMax = Math.floor(card.power * MINING_CONFIG.HOURLY_MULTIPLIER * 24 * 100) / 100;
                
                let badgeHtml = '';
                if (card.owned) {
                    if (card.isClaimReady) {
                        badgeHtml = `<div class="mining-status-badge mining-status-ready">Claim HazÄ±r</div>`;
                    } else if (card.isRunning) {
                        badgeHtml = `<div class="mining-status-badge mining-status-active">Aktif</div>`;
                    }
                }

                let buttonHtml = '';
                if (!card.owned) {
                    buttonHtml = `<button class="buy-mining-card-btn" onclick="buyMiningCard('${card.id}')">SatÄ±n Al</button>`;
                } else if (card.isClaimReady) {
                    buttonHtml = `<button class="claim-mining-btn" onclick="claimMiningReward('${card.id}')">Claim Et</button>`;
                }

                let countdownHtml = '';
                if (card.owned && card.isRunning && card.startTime) {
                    const elapsed = Date.now() - card.startTime;
                    const remaining = Math.max(0, MINING_CONFIG.CYCLE_DURATION - elapsed);
                    const hours = Math.floor(remaining / (60 * 60 * 1000));
                    const minutes = Math.floor((remaining % (60 * 60 * 1000)) / (60 * 1000));
                    const seconds = Math.floor((remaining % (60 * 1000)) / 1000);
                    countdownHtml = `
                        <div class="mining-countdown">
                            <span class="countdown-label">Kalan SÃ¼re:</span>
                            <span class="countdown-time">${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}</span>
                        </div>
                    `;
                }

                return `
                    <div class="mining-card mining-card-${card.color}">
                        ${badgeHtml}
                        <img src="assets/icons/${card.image}" alt="${card.name}" class="mining-card-image">
                        <div class="mining-card-details">
                            <div class="mining-card-name">${card.name}</div>
                            <div class="mining-info-row">
                                <span class="mining-label">Mining Power:</span>
                                <span class="mining-value">${card.power} MH</span>
                            </div>
                            <div class="mining-info-row">
                                <span class="mining-label">Saatlik Ãœretim:</span>
                                <span class="mining-value mining-green">
                                    +${hourlyEarn.toFixed(2)}
                                    <img src="assets/icons/1000010729-removebg-preview.png" alt="NEON" class="neon-icon">
                                </span>
                            </div>
                            <div class="mining-info-row">
                                <span class="mining-label">24 Saatlik Maks:</span>
                                <span class="mining-value mining-gold">
                                    ${dailyMax.toFixed(1)}
                                    <img src="assets/icons/1000010729-removebg-preview.png" alt="NEON" class="neon-icon">
                                </span>
                            </div>
                            <div class="mining-info-row mining-price-row">
                                <span class="mining-label">Fiyat:</span>
                                <span class="mining-price-value">
                                    <img src="assets/icons/1000011039-removebg-preview.png" alt="TON" class="ton-icon"> ${card.price} TON
                                </span>
                            </div>
                        </div>
                        ${countdownHtml}
                        ${buttonHtml}
                    </div>
                `;
            }).join('');
        }

        // Display update
        function updateDisplay() {
            const totalIncome = calculateTotalIncome();
            const passiveEarnings = calculatePassiveEarnings();
            const now = Date.now();
            
            // Coin display zaten tap engine tarafÄ±ndan gÃ¼ncelleniyor, burada tekrar gÃ¼ncelleme
            // Ama diÄŸer display'leri gÃ¼ncelle
            
            document.getElementById('profit-per-hour').textContent = formatNumber(totalIncome);
            
            // combo display zaten tap'te gÃ¼ncelleniyor
            
            document.getElementById('passive-amount').textContent = `${formatNumberFull(passiveEarnings)} GO`;
            
            const elapsed = Math.min(now - gameData.passiveStartTime, gameData.passiveMaxDuration);
            const progressPercent = (elapsed / gameData.passiveMaxDuration) * 100;
            document.getElementById('passive-progress').style.width = `${progressPercent}%`;
            
            const remainingMs = Math.max(0, gameData.passiveMaxDuration - elapsed);
            const remainingHours = Math.floor(remainingMs / (60 * 60 * 1000));
            const remainingMinutes = Math.floor((remainingMs % (60 * 60 * 1000)) / (60 * 1000));
            document.getElementById('passive-time').textContent = 
                `Maks: 5s â€¢ Kalan: ${remainingHours}s ${remainingMinutes}d`;
            
            const isFull = elapsed >= gameData.passiveMaxDuration;
            document.getElementById('x2-counter').textContent = gameData.x2UsesLeft;
            document.getElementById('x2-button').disabled = !isFull || gameData.x2UsesLeft <= 0;
            document.getElementById('claim-button').disabled = !isFull || gameData.passiveCooldown > now;
            
            document.getElementById('profile-name').textContent = gameData.username;
            document.getElementById('profile-id').textContent = gameData.user_id;
            document.getElementById('profile-coins').textContent = formatNumberFull(Math.floor(gameData.coins));
            document.getElementById('profile-level').textContent = 1;
            document.getElementById('profile-taps').textContent = formatNumberFull(gameData.total_taps);
            document.getElementById('profile-cards').textContent = gameData.cards_bought;
            
            document.getElementById('swap-from-balance').textContent = formatNumberFull(Math.floor(gameData.coins));
            document.getElementById('total-trades').textContent = formatNumberFull(gameData.totalTrades);
            document.getElementById('total-traded-gocoin').textContent = formatNumberFull(gameData.totalTradedGoCoin);
            document.getElementById('total-earned-neontap').textContent = formatNumberFull(gameData.totalEarnedNeonTap);
            
            document.getElementById('airdrop-token-balance').textContent = formatNumberFull(gameData.neonTapToken);
            
            let totalHourlyNeon = 0;
            miningCards.forEach(card => {
                if (card.owned && (card.isRunning || card.isClaimReady)) {
                    totalHourlyNeon += card.power * MINING_CONFIG.HOURLY_MULTIPLIER;
                }
            });
            document.getElementById('mining-hourly-earning').innerHTML = `
                ${Math.floor(totalHourlyNeon * 100) / 100}
                <img src="assets/icons/1000010729-removebg-preview.png" alt="NeonTap" class="neon-icon">
                <span class="neontap-text">NEONTAP</span>
            `;
        }

        function formatNumber(num) {
            if (num >= 1000000000) return (num / 1000000000).toFixed(1) + 'B';
            if (num >= 1000000) return (num / 1000000).toFixed(1) + 'M';
            if (num >= 1000) return (num / 1000).toFixed(1) + 'K';
            return num.toString();
        }

        function formatNumberFull(num) {
            return Math.floor(num).toLocaleString('tr-TR');
        }

        // Modern Toast Modal
        window.showModal = function(title, message) {
            document.getElementById('modalTitle').textContent = title;
            document.getElementById('modalMessage').textContent = message;
            
            const iconMap = {
                'BaÅŸarÄ±lÄ±': 'âœ…',
                'Yetersiz Bakiye': 'âŒ',
                'Bilgi': 'â„¹ï¸',
                'UyarÄ±': 'âš ï¸',
                'Limit Doldu': 'â°',
                'Reklam': 'ðŸ“º'
            };
            
            document.getElementById('modalIcon').textContent = iconMap[title] || 'âœ…';
            
            document.getElementById('modal').classList.add('active');
            
            if (window.modalTimeout) clearTimeout(window.modalTimeout);
            window.modalTimeout = setTimeout(() => {
                closeModal();
            }, 2000);
        };

        window.closeModal = function() {
            document.getElementById('modal').classList.remove('active');
        };

        // Menu toggle
        document.getElementById('menuToggle').addEventListener('click', function(e) {
            e.stopPropagation();
            this.classList.toggle('active');
            document.getElementById('sideMenu').classList.toggle('active');
            document.getElementById('menuOverlay').classList.toggle('active');
            updateUIVisibility();
        });

        document.getElementById('menuOverlay').addEventListener('click', closeMenu);

        function closeMenu() {
            document.getElementById('menuToggle').classList.remove('active');
            document.getElementById('sideMenu').classList.remove('active');
            document.getElementById('menuOverlay').classList.remove('active');
            updateUIVisibility();
        }

        function openProfile() {
            closeMenu();
            switchScreen('profile');
        }

        // Kart kategorileri
        window.showCardCategory = function(category) {
            document.querySelectorAll('.cards-grid').forEach(grid => grid.style.display = 'none');
            document.querySelectorAll('.tab-button').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
            
            document.getElementById(category + '-cards').style.display = 'grid';
        };

        // Mining kart satÄ±n al
        window.buyMiningCard = function(cardId) {
            const card = miningCards.find(c => c.id === cardId);
            if (card.owned) {
                showModal('UyarÄ±', 'Bu kartÄ± zaten satÄ±n aldÄ±nÄ±z!');
                return;
            }

            const coinEquivalent = Math.floor(card.price * 1000);
            
            if (gameData.coins < coinEquivalent) {
                showModal('Yetersiz Bakiye', `Yetersiz coin! ${formatNumberFull(coinEquivalent)} coin gerekli.`);
                return;
            }

            gameData.coins -= coinEquivalent;
            card.owned = true;
            card.isRunning = true;
            card.isClaimReady = false;
            card.startTime = Date.now();
            card.accumulated = 0;

            saveGameData();
            updateDisplay();
            updateMiningCards();
            showModal('BaÅŸarÄ±lÄ±', `${card.name} satÄ±n alÄ±ndÄ±! Madencilik baÅŸladÄ±.`);
        };

        // Mining Ã¶dÃ¼lÃ¼ claim et
        window.claimMiningReward = function(cardId) {
            const card = miningCards.find(c => c.id === cardId);
            if (!card || !card.isClaimReady) return;

            const reward = Math.floor(card.accumulated);
            gameData.neonTapToken += reward;

            card.isRunning = true;
            card.isClaimReady = false;
            card.startTime = Date.now();
            card.accumulated = 0;

            saveGameData();
            updateDisplay();
            updateMiningCards();

            if (tg && tg.HapticFeedback) tg.HapticFeedback.notificationOccurred('success');
            showModal('BaÅŸarÄ±lÄ±', `${reward} NeonTap Token kazandÄ±nÄ±z!`);
        };

        // Takas hesaplama
        window.calculateSwapAmount = function() {
            const inputValue = parseFloat(document.getElementById('swap-from-input').value) || 0;
            const confirmBtn = document.getElementById('swap-confirm-btn');
            const errorMsg = document.getElementById('swap-error-msg');
            
            const neonTapAmount = Math.floor((inputValue / 50000) * 1000);
            
            document.getElementById('swap-to-display').value = neonTapAmount;

            if (inputValue > 0 && inputValue < 50000) {
                confirmBtn.disabled = true;
                confirmBtn.style.opacity = '0.5';
                errorMsg.style.display = 'block';
            } else if (inputValue >= 50000) {
                confirmBtn.disabled = false;
                confirmBtn.style.opacity = '1';
                errorMsg.style.display = 'none';
            } else {
                confirmBtn.disabled = true;
                confirmBtn.style.opacity = '0.5';
                errorMsg.style.display = 'none';
            }
        };

        // Takas iÅŸlemi
        window.executeTradeWithInput = function() {
            const tradeAmount = Math.floor(parseFloat(document.getElementById('swap-from-input').value) || 0);

            if (tradeAmount < 50000) {
                showModal('UyarÄ±', 'Minimum 50,000 GO Coin gerekli!');
                return;
            }

            if (gameData.coins < tradeAmount) {
                showModal('Yetersiz Bakiye', 'Yetersiz GO Coin!');
                return;
            }

            const neonTapReward = Math.floor((tradeAmount / 50000) * 1000);

            gameData.coins -= tradeAmount;
            gameData.neonTapToken += neonTapReward;
            gameData.totalTrades++;
            gameData.totalTradedGoCoin += tradeAmount;
            gameData.totalEarnedNeonTap += neonTapReward;

            saveGameData();
            updateDisplay();

            document.getElementById('swap-from-input').value = '';
            document.getElementById('swap-to-display').value = '0';
            
            showModal('BaÅŸarÄ±lÄ±', `${neonTapReward} NeonTap Token kazandÄ±nÄ±z!`);

            if (tg && tg.HapticFeedback) tg.HapticFeedback.notificationOccurred('success');
        };
    </script>
</body>
</html>
<!-- TUTORIAL SÄ°STEMÄ° - SADECE RÄ°NG -->
<style>
    .tutorial-ring {
        position: absolute;
        border: 3px solid #FFD700;
        border-radius: 50%;
        box-shadow: 0 0 20px #FFD700, 0 0 40px #FFA500;
        pointer-events: none;
        z-index: 10001;
        animation: tutorialPulse 1.5s infinite ease-in-out;
        transition: all 0.2s;
    }

    .tutorial-ring.rectangle {
        border-radius: 16px;
    }

    @keyframes tutorialPulse {
        0%, 100% { 
            transform: scale(1);
            opacity: 0.9;
            border-width: 3px;
        }
        50% { 
            transform: scale(1.1);
            opacity: 1;
            border-width: 4px;
            box-shadow: 0 0 30px #FFD700, 0 0 60px #FFA500;
        }
    }

    .tutorial-tooltip {
        position: absolute;
        background: linear-gradient(135deg, #1e1e3f, #15152e);
        border: 1px solid #FFD700;
        border-radius: 16px;
        padding: 16px 20px;
        max-width: 280px;
        box-shadow: 0 10px 30px rgba(0,0,0,0.5);
        z-index: 10002;
        color: white;
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        animation: tooltipFade 0.2s ease;
    }

    @keyframes tooltipFade {
        from { opacity: 0; transform: translateY(5px); }
        to { opacity: 1; transform: translateY(0); }
    }

    .tutorial-tooltip h3 {
        font-size: 18px;
        font-weight: 600;
        margin: 0 0 6px 0;
        background: linear-gradient(135deg, #FFD700, #FFA500);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
    }

    .tutorial-tooltip p {
        font-size: 13px;
        line-height: 1.5;
        margin: 0 0 16px 0;
        opacity: 0.9;
        color: #eee;
    }

    .tutorial-tooltip-footer {
        display: flex;
        justify-content: space-between;
        align-items: center;
    }

    .tutorial-step-counter {
        font-size: 12px;
        color: #FFD700;
        opacity: 0.7;
        font-weight: 500;
    }

    .tutorial-buttons {
        display: flex;
        gap: 8px;
    }

    .tutorial-btn {
        padding: 8px 16px;
        border: none;
        border-radius: 30px;
        font-size: 12px;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.2s;
    }

    .tutorial-btn:active {
        transform: scale(0.95);
    }

    .tutorial-btn.next {
        background: #00ff96;
        color: #1a1a2e;
    }

    .tutorial-btn.skip {
        background: rgba(255,255,255,0.1);
        color: white;
        border: 1px solid rgba(255,255,255,0.2);
    }
</style>

<script>
(function() {
    // EÄŸer tutorial daha Ã¶nce tamamlandÄ±ysa Ã§Ä±k
    if (localStorage.getItem('tutorialCompleted')) return;

    class MinimalTutorial {
        constructor() {
            this.steps = [
                {
                    element: '#coin-button',
                    title: 'Ana Coin',
                    text: 'NeonTap\'e hoÅŸ geldin! Para kazanmak iÃ§in bu dev GO COIN\'e TIKLA. Her tÄ±klamada coin kazanÄ±rsÄ±n.',
                    position: 'bottom',
                    circle: true
                },
                {
                    element: '.energy-section',
                    title: 'Enerji Sistemi',
                    text: 'Her tÄ±klama enerji harcar. Mavi bar enerjini gÃ¶sterir. Enerjin zamanla yenilenir.',
                    position: 'top'
                },
                {
                    element: '.passive-card',
                    title: 'Pasif KazanÃ§',
                    text: 'Burada biriken pasif kazancÄ±nÄ± CLAIM butonu ile topla. 2X ile iki kat kazanabilirsin.',
                    position: 'top'
                },
                {
                    element: '[data-screen="cards"]',
                    title: 'Kartlar',
                    text: 'Profesyoneller ve ÅŸirketler satÄ±n al. Her kart saniyelik kazancÄ±nÄ± (0/s) artÄ±rÄ±r.',
                    position: 'top',
                    navItem: true
                },
                {
                    element: '[data-screen="mining"]',
                    title: 'Madencilik',
                    text: 'Madencilik kartlarÄ± satÄ±n al, saatlik NeonTap Coin Ã¼ret. Renkler gÃ¼cÃ¼ temsil eder.',
                    position: 'top',
                    navItem: true
                },
                {
                    element: '[data-screen="airdrop"]',
                    title: 'Airdrop',
                    text: 'KazandÄ±ÄŸÄ±n NeonTap Coin\'ler burada birikir. Token listelenince Ã¶dÃ¼lÃ¼nÃ¼ alacaksÄ±n.',
                    position: 'top',
                    navItem: true
                },
                {
                    element: '[data-screen="trade"]',
                    title: 'Takas',
                    text: 'GO Coin\'lerini NeonTap Coin\'e dÃ¶nÃ¼ÅŸtÃ¼r. 1 GO = 0.02 NEON. Minimum 50,000 GO.',
                    position: 'top',
                    navItem: true
                }
            ];

            this.currentStep = 0;
            this.isActive = true;
            this.ring = null;
            this.tooltip = null;
        }

        start() {
            // Ana ekrana geÃ§
            if (window.switchScreen) window.switchScreen('home');
            
            // Ä°lk adÄ±mÄ± gÃ¶ster
            setTimeout(() => this.showStep(), 500);
        }

        showStep() {
            if (!this.isActive || this.currentStep >= this.steps.length) {
                this.complete();
                return;
            }

            const step = this.steps[this.currentStep];
            
            // Elementi bul
            const element = document.querySelector(step.element);
            if (!element) {
                this.nextStep();
                return;
            }

            // Eski ring ve tooltip'i temizle
            this.clear();

            // Ring'i oluÅŸtur
            this.createRing(element, step);

            // Tooltip'i oluÅŸtur
            this.createTooltip(step, element);
        }

        createRing(element, step) {
            const rect = element.getBoundingClientRect();
            
            this.ring = document.createElement('div');
            this.ring.className = 'tutorial-ring';
            
            if (step.circle) {
                this.ring.classList.add('circle');
                this.ring.style.width = (rect.width + 20) + 'px';
                this.ring.style.height = (rect.height + 20) + 'px';
                this.ring.style.left = (rect.left - 10 + window.scrollX) + 'px';
                this.ring.style.top = (rect.top - 10 + window.scrollY) + 'px';
                this.ring.style.borderRadius = '50%';
            } else if (step.navItem) {
                this.ring.classList.add('rectangle');
                this.ring.style.width = '70px';
                this.ring.style.height = '70px';
                this.ring.style.left = (rect.left + rect.width/2 - 35 + window.scrollX) + 'px';
                this.ring.style.top = (rect.top + rect.height/2 - 35 + window.scrollY) + 'px';
                this.ring.style.borderRadius = '20px';
            } else {
                this.ring.classList.add('rectangle');
                this.ring.style.width = (rect.width + 20) + 'px';
                this.ring.style.height = (rect.height + 20) + 'px';
                this.ring.style.left = (rect.left - 10 + window.scrollX) + 'px';
                this.ring.style.top = (rect.top - 10 + window.scrollY) + 'px';
                this.ring.style.borderRadius = '16px';
            }

            document.body.appendChild(this.ring);
        }

        createTooltip(step, element) {
            const rect = element.getBoundingClientRect();
            
            this.tooltip = document.createElement('div');
            this.tooltip.className = 'tutorial-tooltip';
            
            this.tooltip.innerHTML = `
                <h3>${step.title}</h3>
                <p>${step.text}</p>
                <div class="tutorial-tooltip-footer">
                    <span class="tutorial-step-counter">${this.currentStep + 1}/${this.steps.length}</span>
                    <div class="tutorial-buttons">
                        <button class="tutorial-btn skip" id="tutorialSkipBtn">Atla</button>
                        <button class="tutorial-btn next" id="tutorialNextBtn">${this.currentStep === this.steps.length - 1 ? 'Tamamla' : 'Ä°leri'}</button>
                    </div>
                </div>
            `;

            document.body.appendChild(this.tooltip);

            // Tooltip pozisyonu
            const tooltipWidth = this.tooltip.offsetWidth;
            const tooltipHeight = this.tooltip.offsetHeight;
            
            let left = rect.left + rect.width/2 - tooltipWidth/2;
            let top;

            switch(step.position) {
                case 'top':
                    top = rect.top - tooltipHeight - 15;
                    break;
                case 'bottom':
                default:
                    top = rect.bottom + 15;
                    break;
            }

            // SÄ±nÄ±r kontrolÃ¼
            if (left < 10) left = 10;
            if (left + tooltipWidth > window.innerWidth - 10) {
                left = window.innerWidth - tooltipWidth - 10;
            }
            if (top < 10) top = 10;
            if (top + tooltipHeight > window.innerHeight - 10) {
                top = window.innerHeight - tooltipHeight - 10;
            }

            this.tooltip.style.left = left + 'px';
            this.tooltip.style.top = top + 'px';

            // Buton eventleri
            document.getElementById('tutorialNextBtn').addEventListener('click', () => this.nextStep());
            document.getElementById('tutorialSkipBtn').addEventListener('click', () => this.skip());
        }

        nextStep() {
            if (this.currentStep < this.steps.length - 1) {
                this.currentStep++;
                this.showStep();
            } else {
                this.complete();
            }
        }

        skip() {
            this.complete();
        }

        clear() {
            if (this.ring) this.ring.remove();
            if (this.tooltip) this.tooltip.remove();
        }

        complete() {
            this.isActive = false;
            this.clear();
            localStorage.setItem('tutorialCompleted', 'true');
            
            // 250 coin ver
            if (window.addCoin) {
                window.addCoin(250);
            } else if (window.gameData) {
                window.gameData.coins += 250;
                if (window.updateDisplay) window.updateDisplay();
            }
            
            // BaÅŸarÄ± mesajÄ±
            if (window.showModal) {
                setTimeout(() => {
                    window.showModal('BaÅŸarÄ±lÄ±', 'Tebrikler ArtÄ±k HazÄ±rsÄ±n!');
                }, 300);
            }
        }
    }

    // Tutorial'Ä± baÅŸlat
    window.tutorial = new MinimalTutorial();
    
    // Sayfa yÃ¼klendiÄŸinde baÅŸlat
    if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', () => window.tutorial.start());
    } else {
        window.tutorial.start();
    }
})();
</script>

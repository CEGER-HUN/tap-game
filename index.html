<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Medieval Kingdom: Tap & Build</title>
    <style>
        body { background: #2c3e50; color: white; font-family: 'Segoe UI', sans-serif; text-align: center; margin: 0; padding-bottom: 50px; }
        .resources { display: flex; justify-content: space-around; background: #34495e; padding: 15px; position: sticky; top: 0; z-index: 100; border-bottom: 3px solid #f1c40f; box-shadow: 0 4px 8px rgba(0,0,0,0.3); }
        .resource-item { font-size: 14px; font-weight: bold; line-height: 1.4; }
        .building-container { display: grid; grid-template-columns: 1fr; gap: 20px; padding: 20px; }
        .building-card { background: rgba(52, 73, 94, 0.9); padding: 20px; border-radius: 15px; border: 2px solid #95a5a6; display: flex; flex-direction: column; align-items: center; transition: 0.3s; }
        .building-card:hover { border-color: #f1c40f; }
        .building-img { width: 160px; height: 130px; object-fit: contain; margin: 10px 0; filter: drop-shadow(0 5px 15px rgba(0,0,0,0.5)); }
        button { background: #27ae60; color: white; border: none; padding: 12px; border-radius: 8px; cursor: pointer; width: 90%; font-weight: bold; font-size: 16px; transition: 0.2s; box-shadow: 0 4px 0 #1e8449; }
        button:active { transform: translateY(3px); box-shadow: 0 1px 0 #1e8449; }
        button:disabled { background: #7f8c8d; box-shadow: 0 4px 0 #5d6d7e; cursor: not-allowed; }
        h3 { margin: 5px 0; color: #f1c40f; text-shadow: 1px 1px 2px black; }
        .stats { font-size: 13px; color: #bdc3c7; margin-bottom: 10px; }
    </style>
</head>
<body>

    <div class="resources">
        <div class="resource-item">ðŸªµ <span id="wood">0</span><br><small style="color:#2ecc71">+<span id="w-rate">0</span>/sn</small></div>
        <div class="resource-item">ðŸŒ¾ <span id="food">0</span><br><small style="color:#2ecc71">+<span id="f-rate">0</span>/sn</small></div>
        <div class="resource-item">ðŸª¨ <span id="stone">0</span><br><small style="color:#2ecc71">+<span id="s-rate">0</span>/sn</small></div>
        <div class="resource-item">ðŸ’° <span id="gold">50</span><br><small>AltÄ±n</small></div>
    </div>

    <div class="building-container">
        <div class="building-card">
            <h3>Ana Bina (Lvl <span id="lvl-main">1</span>)</h3>
            <img src="ana-bina.png" class="building-img">
            <div class="stats">KrallÄ±ÄŸÄ±nÄ±n kalbi.</div>
            <button id="btn-main" onclick="upgrade('main')">GeliÅŸtir (<span id="cost-main">500</span> Odun)</button>
        </div>

        <div class="building-card">
            <h3>Odun KampÄ± (Lvl <span id="lvl-wood">0</span>)</h3>
            <img src="odun-kampi.png" class="building-img">
            <div class="stats">Saniyelik Ãœretim: <span id="prod-wood">0</span></div>
            <button id="btn-wood" onclick="upgrade('wood')">GeliÅŸtir (<span id="cost-wood">100</span> Odun)</button>
        </div>

        <div class="building-card">
            <h3>Tarla (Lvl <span id="lvl-food">0</span>)</h3>
            <img src="tarla.png" class="building-img">
            <div class="stats">Saniyelik Ãœretim: <span id="prod-food">0</span></div>
            <button id="btn-food" onclick="upgrade('food')">GeliÅŸtir (<span id="cost-food">100</span> BuÄŸday)</button>
        </div>

        <div class="building-card">
            <h3>TaÅŸ OcaÄŸÄ± (Lvl <span id="lvl-stone">0</span>)</h3>
            <img src="tas-ocagi.png" class="building-img">
            <div class="stats">Saniyelik Ãœretim: <span id="prod-stone">0</span></div>
            <button id="btn-stone" onclick="upgrade('stone')">GeliÅŸtir (<span id="cost-stone">100</span> TaÅŸ)</button>
        </div>
    </div>

    <script>
        // Veri YapÄ±sÄ± ve HafÄ±za (LocalStorage)
        let savedData = JSON.parse(localStorage.getItem('medievalGameSave'));
        
        let game = savedData || {
            res: { wood: 500, food: 500, stone: 200, gold: 50 },
            lvls: { main: 1, wood: 0, food: 0, stone: 0 },
            costs: { main: 500, wood: 100, food: 100, stone: 100 }
        };

        function saveGame() {
            localStorage.setItem('medievalGameSave', JSON.stringify(game));
        }

        // Ãœretim DÃ¶ngÃ¼sÃ¼ (Her saniye)
        setInterval(() => {
            game.res.wood += (game.lvls.wood * 1.5);
            game.res.food += (game.lvls.food * 2);
            game.res.stone += (game.lvls.stone * 0.8);
            updateUI();
            saveGame();
        }, 1000);

        function upgrade(type) {
            let cost = game.costs[type];
            let resType = (type === 'main') ? 'wood' : type;

            if (game.res[resType] >= cost) {
                game.res[resType] -= cost;
                game.lvls[type]++;
                game.costs[type] = Math.floor(game.costs[type] * 1.7);
                updateUI();
                saveGame();
            } else {
                alert("Yeterli kaynaÄŸÄ±n yok!");
            }
        }

        function updateUI() {
            document.getElementById('wood').innerText = Math.floor(game.res.wood);
            document.getElementById('food').innerText = Math.floor(game.res.food);
            document.getElementById('stone').innerText = Math.floor(game.res.stone);
            document.getElementById('gold').innerText = game.res.gold;

            document.getElementById('w-rate').innerText = (game.lvls.wood * 1.5).toFixed(1);
            document.getElementById('f-rate').innerText = (game.lvls.food * 2).toFixed(1);
            document.getElementById('s-rate').innerText = (game.lvls.stone * 0.8).toFixed(1);

            for (let b in game.lvls) {
                if(document.getElementById('lvl-'+b)) {
                    document.getElementById('lvl-'+b).innerText = game.lvls[b];
                    document.getElementById('cost-'+b).innerText = game.costs[b];
                }
                if(b !== 'main' && document.getElementById('prod-'+b)) {
                    let rate = (b === 'wood') ? 1.5 : (b === 'food' ? 2 : 0.8);
                    document.getElementById('prod-'+b).innerText = (game.lvls[b] * rate).toFixed(1);
                }
            }
        }

        // Ä°lk aÃ§Ä±lÄ±ÅŸta ekranÄ± gÃ¼ncelle
        updateUI();
    </script>
</body>
</html>
